<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="DASH Over 50+">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="theme-color" content="#10B981">
    <!-- PWA Support -->
    <!-- <link rel="manifest" href="manifest.json"> -->
    <meta name="format-detection" content="telephone=no">
    <meta name="msapplication-tap-highlight" content="no">
    <title>DASH Over 50+ - Health After 50</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary: #10B981;
            --secondary: #3498db;
            --success: #27ae60;
            --warning: #FB923C;
            --dark: #2c3e50;
            --light: #ecf0f1;
            --white: #ffffff;
            --gradient: linear-gradient(135deg, #10B981 0%, #c0392b 100%);

        // Progress Section Functions
        function showProgressTab(tabName) {
            // Hide all tab contents
            const tabContents = document.querySelectorAll('.progress-tab-content');
            tabContents.forEach(content => {
                content.classList.remove('active');
            });

            // Remove active class from all tab buttons
            const tabButtons = document.querySelectorAll('.progress-tab-btn');
            tabButtons.forEach(btn => {
                btn.classList.remove('active');
            });

            // Show selected tab content
            const selectedContent = document.getElementById(tabName + '-content');
            if (selectedContent) {
                selectedContent.classList.add('active');
            }

            // Add active class to clicked button
            if (event && event.target) {
                event.target.classList.add('active');
            }

            // Save tab preference
            localStorage.setItem('selectedProgressTab', tabName);
        }

        function loadHealthData() {
            const bpReadings = JSON.parse(localStorage.getItem('bpReadings') || '[]');
            
            if (bpReadings.length > 0) {
                const avgSystolic = Math.round(bpReadings.reduce((sum, r) => sum + r.systolic, 0) / bpReadings.length);
                const avgDiastolic = Math.round(bpReadings.reduce((sum, r) => sum + r.diastolic, 0) / bpReadings.length);
                
                document.getElementById('avgBP').textContent = avgSystolic + '/' + avgDiastolic;
                
                const latest = bpReadings[bpReadings.length - 1];
                document.getElementById('latestBP').textContent = latest.systolic + '/' + latest.diastolic;
            }
        }

        function updateAchievementProgress(type, current, total) {
            const progressPercent = Math.round((current / total) * 100);
            const progressBar = document.getElementById(type + 'Progress');
            const progressText = document.getElementById(type + 'Text');
            
            if (progressBar) {
                progressBar.style.width = progressPercent + '%';
            }
            
            if (progressText) {
                if (type === 'firstWeek') {
                    progressText.textContent = current + '/7 days';
                } else if (type === 'bp') {
                    progressText.textContent = current + ' readings';
                } else if (type === 'exercise') {
                    progressText.textContent = current + ' workouts';
                } else if (type === 'nutrition') {
                    progressText.textContent = current + ' meals logged';
                }
            }
        }
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: var(--light);
            color: var(--dark);
            line-height: 1.6;
            overflow-x: hidden;
        }

        /* Onboarding Styles */
        .onboarding-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: var(--gradient);
            z-index: 1000;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .onboarding-screen {
            display: none;
            text-align: center;
            padding: 2rem;
            max-width: 400px;
            width: 90%;
        }

        .onboarding-screen.active {
            display: block;
        }

        .welcome-logo {
            margin-bottom: 2rem;
        }

        .welcome-logo i {
            font-size: 4rem;
            color: white;
        }

        .welcome-title {
            color: white;
            font-size: 2rem;
            font-weight: bold;
            margin-bottom: 1rem;
            line-height: 1.2;
        }

        .welcome-subtitle {
            color: rgba(255, 255, 255, 0.9);
            font-size: 1.1rem;
            margin-bottom: 2rem;
        }

        .btn-primary {
            background: white;
            color: var(--primary);
            border: none;
            padding: 1rem 2rem;
            border-radius: 25px;
            font-size: 1.1rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            min-width: 44px;
            min-height: 44px;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }

        .form-screen {
            background: white;
            padding: 2rem;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        }

        .form-title {
            color: var(--primary);
            font-size: 1.5rem;
            margin-bottom: 1.5rem;
        }

        .form-group {
            margin-bottom: 1.5rem;
            text-align: left;
        }

        .form-label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 600;
            color: var(--dark);
        }

        .form-input {
            width: 100%;
            padding: 0.75rem;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 1rem;
            transition: border-color 0.3s ease;
        }

        .form-input:focus {
            outline: none;
            border-color: var(--primary);
        }

        .form-select {
            width: 100%;
            padding: 0.75rem;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 1rem;
            background: white;
            cursor: pointer;
        }

        .btn-nav {
            background: var(--secondary);
            color: white;
            border: none;
            padding: 0.75rem 1.5rem;
            border-radius: 20px;
            cursor: pointer;
            font-size: 1rem;
            margin: 0.5rem;
            transition: all 0.3s ease;
        }

        .btn-nav:hover {
            background: #2980b9;
            transform: translateY(-1px);
        }

        .progress-bar {
            width: 100%;
            height: 6px;
            background: rgba(255, 255, 255, 0.3);
            border-radius: 3px;
            margin-bottom: 2rem;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: white;
            transition: width 0.3s ease;
        }

        /* Main App Styles */
        .main-app {
            display: none;
            min-height: 100vh;
            background: var(--light);
        }

        .nav-scroll-container {
            display: flex;
            overflow-x: auto;
            background: var(--dark);
            padding: 0.5rem 0;
            scrollbar-width: none;
            -ms-overflow-style: none;
        }

        .nav-scroll-container::-webkit-scrollbar {
            display: none;
        }

        .nav-item {
            min-width: 100px;
            text-align: center;
            padding: 0.75rem;
            color: var(--light);
            cursor: pointer;
            transition: all 0.3s ease;
            border-bottom: 3px solid transparent;
            min-height: 44px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        .nav-item:hover {
            background: rgba(255, 255, 255, 0.1);
        }

        .nav-item.active {
            border-bottom-color: var(--primary);
            color: var(--primary);
        }

        .nav-item i {
            font-size: 1.2rem;
            margin-bottom: 0.25rem;
        }

        .nav-item span {
            font-size: 0.75rem;
        }

        .content {
            padding: 1rem;
            max-width: 100%;
            margin: 0 auto;
        }

        .section {
            display: none;
            animation: fadeIn 0.3s ease;
        }

        .section.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Dashboard Styles */
        .dashboard-header {
            background: var(--gradient);
            color: white;
            padding: 2rem 1rem;
            border-radius: 15px;
            margin-bottom: 2rem;
            text-align: center;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 1rem;
            margin-bottom: 2rem;
        }

        .stat-card {
            background: white;
            padding: 1.5rem;
            border-radius: 10px;
            text-align: center;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }

        .stat-card i {
            font-size: 2rem;
            color: var(--primary);
            margin-bottom: 0.5rem;
        }

        .stat-value {
            font-size: 1.5rem;
            font-weight: bold;
            color: var(--dark);
        }

        .stat-label {
            font-size: 0.9rem;
            color: #ffffff;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            opacity: 0.95;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .stats-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        .debug-info {
            position: fixed;
            bottom: 10px;
            right: 10px;
            background: rgba(0,0,0,0.4);
            color: white;
            padding: 10px;
            border-radius: 5px;
            font-size: 12px;
            max-width: 200px;
            z-index: 9999;
        }

        /* Settings Section Styles */
        .settings-container {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }

        .settings-group {
            background: white;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .settings-group h3 {
            color: var(--primary);
            margin-bottom: 15px;
            font-size: 1.2rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .setting-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px 0;
            border-bottom: 1px solid #eee;
        }

        .setting-item:last-child {
            border-bottom: none;
        }

        .setting-item label {
            font-weight: 500;
            color: #333;
        }

        .setting-item input,
        .setting-item select {
            padding: 8px 12px;
            border: 1px solid #ddd;
            border-radius: 6px;
            font-size: 14px;
            min-width: 150px;
        }

        /* Toggle Switch */
        .switch {
            position: relative;
            display: inline-block;
            width: 50px;
            height: 24px;
        }

        .switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }

        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            transition: .4s;
            border-radius: 24px;
        }

        .slider:before {
            position: absolute;
            content: "";
            height: 18px;
            width: 18px;
            left: 3px;
            bottom: 3px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }

        input:checked + .slider {
            background-color: var(--primary);
        }

        input:checked + .slider:before {
            transform: translateX(26px);
        }

        /* Button Styles */
        .btn {
            padding: 10px 20px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 500;
            transition: all 0.3s ease;
            margin: 5px;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }

        .btn-primary {
            background: var(--primary);
            color: white;
        }

        .btn-primary:hover {
            background: #2a7f62;
        }

        .btn-secondary {
            background: #6c757d;
            color: white;
        }

        .btn-secondary:hover {
            background: #5a6268;
        }

        .btn-danger {
            background: #dc3545;
            color: white;
        }

        .btn-danger:hover {
            background: #c82333;
        }

        .btn-text {
            background: transparent;
            color: var(--primary);
            border: 1px solid var(--primary);
        }

        .btn-text:hover {
            background: var(--primary);
            color: white;
        }

        /* About Section */
        .about-content {
            text-align: center;
        }

        .app-logo {
            width: 80px;
            height: 80px;
            margin-bottom: 15px;
        }

        .about-content h4 {
            color: var(--primary);
            margin-bottom: 10px;
        }

        .about-content p {
            color: #666;
            margin-bottom: 20px;
        }

        .app-links {
            display: flex;
            justify-content: center;
            gap: 15px;
            flex-wrap: wrap;
        }

        /* Coming Soon Styles */
        .coming-soon {
            text-align: center;
            padding: 60px 20px;
        }

        .coming-soon i {
            font-size: 4rem;
            color: var(--primary);
            margin-bottom: 20px;
        }

        .coming-soon h3 {
            color: #333;
            margin-bottom: 10px;
        }

        .coming-soon p {
            color: #666;
        }

        /* Section Header */
        .section-header {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 20px;
            background: var(--primary);
            color: white;
            margin-bottom: 20px;
            border-radius: 12px;
        }

        .section-header i {
            font-size: 1.5rem;
        }

        .section-header h2 {
            margin: 0;
            font-size: 1.5rem;
        }

        /* Dark Theme Styles */
        body.dark-theme {
            background: #1a1a1a;
            color: #ffffff;
        }

        body.dark-theme .container {
            background: #1a1a1a;
        }

        body.dark-theme .main-app {
            background: #2d2d2d;
        }

        body.dark-theme .nav-item {
            background: #404040;
            color: #ffffff;
        }

        body.dark-theme .nav-item.active {
            background: var(--primary);
        }

        body.dark-theme .nav-item:hover {
            background: #555555;
        }

        body.dark-theme .section {
            background: #2d2d2d;
            color: #ffffff;
        }

        body.dark-theme .section-header {
            background: var(--primary);
            color: white;
        }

        body.dark-theme .settings-group {
            background: #404040;
            color: #ffffff;
        }

        body.dark-theme .setting-item {
            border-bottom-color: #555555;
        }

        body.dark-theme .setting-item input,
        body.dark-theme .setting-item select {
            background: #555555;
            color: #ffffff;
            border-color: #666666;
        }

        body.dark-theme .dashboard-header {
            color: #ffffff;
        }

        body.dark-theme .stat-card {
            background: #404040;
            color: #ffffff;
        }

        body.dark-theme .pillar-card {
            background: #404040;
            color: #ffffff;
        }

        body.dark-theme .checklist-item {
            background: #404040;
            color: #ffffff;
            border-color: #555555;
        }

        body.dark-theme .coming-soon {
            color: #cccccc;
        }

        body.dark-theme .coming-soon i {
            color: var(--primary);
        }

        /* Smooth theme transition */
        body {
            transition: background-color 0.3s ease, color 0.3s ease;
        }

        .container,
        .main-app,
        .section,
        .settings-group,
        .stat-card,
        .pillar-card,
        .checklist-item {
            transition: background-color 0.3s ease, color 0.3s ease;
        }

        /* Meals Section Styles */
        .meals-container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
        }

        .week-selector {
            text-align: center;
            margin-bottom: 30px;
        }

        .week-selector h3 {
            color: var(--primary);
            margin-bottom: 15px;
            font-size: 1.5rem;
        }

        .week-tabs {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .week-tab {
            padding: 10px 20px;
            border: 2px solid var(--primary);
            background: white;
            color: var(--primary);
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 500;
        }

        .week-tab.active {
            background: var(--primary);
            color: white;
        }

        .week-tab:hover {
            background: var(--primary);
            color: white;
            transform: translateY(-2px);
        }

        .day-selector {
            margin-bottom: 30px;
        }

        .day-tabs {
            display: flex;
            justify-content: space-between;
            gap: 5px;
            background: #f8f9fa;
            padding: 10px;
            border-radius: 12px;
            overflow-x: auto;
        }

        .day-tab {
            padding: 12px 16px;
            border: none;
            background: transparent;
            color: #666;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 500;
            white-space: nowrap;
            min-width: 80px;
        }

        .day-tab.active {
            background: var(--primary);
            color: white;
        }

        .day-tab:hover {
            background: #e9ecef;
            color: #333;
        }

        .day-tab.active:hover {
            background: var(--primary);
            color: white;
        }

        .meals-loading {
            text-align: center;
            padding: 60px 20px;
            color: #666;
        }

        .meals-loading i {
            font-size: 2rem;
            color: var(--primary);
            margin-bottom: 15px;
        }

        .meals-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .meal-card {
            background: linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%);
            border-radius: 16px;
            padding: 0;
            box-shadow: 0 4px 20px rgba(0,0,0,0.08);
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
            border: 1px solid #e8f0fe;
        }

        .meal-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, var(--primary), #4CAF50);
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .meal-card:hover::before {
            opacity: 1;
        }

        .meal-card:hover {
            transform: translateY(-8px) scale(1.02);
            box-shadow: 0 12px 40px rgba(76, 175, 80, 0.15);
            border-color: var(--primary);
        }

        .meal-card-header {
            padding: 20px 20px 12px 20px;
        }

        .meal-type {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            background: linear-gradient(135deg, var(--primary), #4CAF50);
            color: white;
            padding: 6px 14px;
            border-radius: 20px;
            font-size: 0.75rem;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.8px;
            box-shadow: 0 2px 8px rgba(76, 175, 80, 0.3);
        }

        .meal-title {
            font-size: 1.2rem;
            font-weight: 700;
            color: #2c3e50;
            margin: 12px 0 8px 0;
            line-height: 1.3;
            letter-spacing: -0.2px;
        }

        .meal-description {
            font-size: 0.9rem;
            color: #64748b;
            margin-bottom: 16px;
            line-height: 1.5;
            font-style: italic;
        }

        .meal-card-footer {
            padding: 12px 20px 20px 20px;
            background: linear-gradient(to bottom, transparent, rgba(76, 175, 80, 0.02));
            border-top: 1px solid rgba(76, 175, 80, 0.1);
        }

        .meal-meta {
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 0.85rem;
        }

        .meal-time {
            display: flex;
            align-items: center;
            gap: 8px;
            color: #64748b;
            font-weight: 500;
        }

        .meal-calories {
            background: linear-gradient(135deg, #e8f5e8, #f0f8ff);
            color: var(--primary);
            padding: 6px 12px;
            border-radius: 16px;
            font-weight: 700;
            font-size: 0.8rem;
            border: 1px solid rgba(76, 175, 80, 0.2);
            display: flex;
            align-items: center;
            gap: 4px;
        }

        /* Recipe Modal */
        .recipe-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            z-index: 10000;
        }

        .recipe-modal.active {
            display: block;
        }

        .modal-overlay {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.7);
        }

        .modal-content {
            position: relative;
            background: linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%);
            max-width: 800px;
            max-height: 90vh;
            margin: 20px auto;
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 0 20px 60px rgba(0,0,0,0.15);
            border: 1px solid rgba(76, 175, 80, 0.1);
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 25px 30px;
            background: linear-gradient(135deg, var(--primary), #4CAF50);
            color: white;
            position: relative;
            overflow: hidden;
        }

        .modal-header::before {
            content: '';
            position: absolute;
            top: -50%;
            right: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%);
            animation: pulse 3s ease-in-out infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); opacity: 0.5; }
            50% { transform: scale(1.1); opacity: 0.8; }
        }

        .modal-header h3 {
            margin: 0;
            font-size: 1.5rem;
            font-weight: 700;
            letter-spacing: -0.3px;
            text-shadow: 0 2px 4px rgba(0,0,0,0.1);
            position: relative;
            z-index: 1;
        }

        .modal-close {
            background: rgba(255,255,255,0.2);
            border: none;
            color: white;
            font-size: 1.3rem;
            cursor: pointer;
            padding: 8px 12px;
            border-radius: 50%;
            transition: all 0.3s ease;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            z-index: 1;
        }

        .modal-close:hover {
            background: rgba(255,255,255,0.3);
            transform: rotate(90deg);
        }

        /* Exercise Modal Styles */
        .exercise-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            z-index: 10000;
        }

        .exercise-modal.active {
            display: block;
        }

        .modal-body {
            padding: 30px;
            max-height: calc(90vh - 140px);
            overflow-y: auto;
            background: linear-gradient(to bottom, rgba(76, 175, 80, 0.02), transparent);
        }

        .recipe-info {
            margin-bottom: 30px;
        }

        .recipe-meta {
            display: flex;
            justify-content: space-around;
            margin-bottom: 25px;
            padding: 20px;
            background: linear-gradient(135deg, #f8f9fa, #e8f5e8);
            border-radius: 15px;
            border: 1px solid rgba(76, 175, 80, 0.1);
            box-shadow: 0 4px 12px rgba(76, 175, 80, 0.08);
        }

        .recipe-meta span {
            display: flex;
            align-items: center;
            gap: 10px;
            font-weight: 600;
            color: #2c3e50;
            font-size: 0.9rem;
        }

        .recipe-meta span i {
            color: var(--primary);
            font-size: 1.1rem;
        }

        

        

        

        .recipe-section {
            margin-bottom: 30px;
            padding: 20px;
            background: #fafbfc;
            border-radius: 12px;
            border: 1px solid #e8f0fe;
        }

        .recipe-section h4 {
            color: var(--primary);
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 1.1rem;
            font-weight: 700;
        }

        .serving-selector {
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 15px;
            background: linear-gradient(135deg, #e8f5e8, #f0f8ff);
            border-radius: 12px;
            border: 1px solid rgba(76, 175, 80, 0.2);
        }

        .serving-selector label {
            font-weight: 500;
        }

        .serving-selector select {
            padding: 5px 10px;
            border: 1px solid #ddd;
            border-radius: 5px;
        }

        .ingredients-list {
            list-style: none;
            padding: 0;
        }

        .ingredients-list li {
            padding: 8px 0;
            border-bottom: 1px solid #eee;
            display: flex;
            align-items: center;
        }

        .ingredients-list li:before {
            content: "â€¢";
            color: var(--primary);
            font-weight: bold;
            margin-right: 10px;
        }

        .instructions-list {
            counter-reset: step-counter;
            list-style: none;
            padding: 0;
        }

        .instructions-list li {
            counter-increment: step-counter;
            margin-bottom: 15px;
            padding-left: 35px;
            position: relative;
        }

        .instructions-list li:before {
            content: counter(step-counter);
            position: absolute;
            left: 0;
            top: 0;
            width: 25px;
            height: 25px;
            background: var(--primary);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 0.8rem;
        }

        .nutrition-tips {
            background: #f0f8f0;
            border-left: 4px solid var(--primary);
            padding: 15px;
            border-radius: 5px;
        }

        .modal-footer {
            display: flex;
            justify-content: space-between;
            padding: 20px 25px;
            background: #f8f9fa;
            border-top: 1px solid #eee;
        }

        /* Dark Theme for Meals */
        body.dark-theme .meal-card {
            background: linear-gradient(135deg, #404040 0%, #4a4a4a 100%);
            border-color: #555555;
        }

        body.dark-theme .meal-card-footer {
            background: linear-gradient(to bottom, transparent, rgba(76, 175, 80, 0.05));
            border-top-color: rgba(76, 175, 80, 0.2);
        }

        body.dark-theme .meal-title {
            color: #ffffff;
        }

        body.dark-theme .meal-description {
            color: #cccccc;
        }

        body.dark-theme .meal-time {
            color: #aaaaaa;
        }

        /* Dark Theme for Exercise */
        body.dark-theme .exercise-nav-btn {
            background: linear-gradient(135deg, #404040, #4a4a4a);
            border-color: #555555;
            color: #cccccc;
        }

        body.dark-theme .exercise-nav-btn:hover {
            background: linear-gradient(135deg, #4a4a4a, #555555);
            border-color: var(--primary);
            color: #4CAF50;
        }

        body.dark-theme .exercise-nav-btn.active {
            background: linear-gradient(135deg, var(--primary), #4CAF50);
            color: white;
        }

        body.dark-theme .exercise-card {
            background: linear-gradient(135deg, #404040 0%, #4a4a4a 100%);
            border-color: #555555;
        }

        body.dark-theme .exercise-card:hover {
            border-color: var(--primary);
        }

        body.dark-theme .exercise-title {
            color: #ffffff;
        }

        body.dark-theme .exercise-description {
            color: #cccccc;
        }

        body.dark-theme .exercise-duration {
            color: #aaaaaa;
        }

        body.dark-theme .exercise-safety-tip {
            background: linear-gradient(135deg, #4a4040, #5a4545);
            border-left-color: #ffc107;
            color: #ffeb3b;
        }

        body.dark-theme .exercise-safety-tip strong {
            color: #ffc107;
        }

        /* Exercise Modal Dark Theme */
        body.dark-theme .exercise-modal .modal-content {
            background: linear-gradient(135deg, #404040 0%, #4a4a4a 100%);
            border-color: #555555;
        }

        body.dark-theme .exercise-modal .modal-header {
            background: linear-gradient(135deg, var(--primary), #4CAF50);
        }

        /* Medications Section Styles */
        .medications-header {
            display: flex;
            gap: 10px;
            margin-bottom: 25px;
            flex-wrap: wrap;
        }

        .medications-list {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .medication-card {
            background: linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%);
            border-radius: 16px;
            padding: 20px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.08);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            border: 1px solid #e8f0fe;
            position: relative;
            overflow: hidden;
        }

        .medication-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, var(--primary), #ff6b6b);
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .medication-card:hover::before {
            opacity: 1;
        }

        .medication-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 40px rgba(0,0,0,0.15);
        }

        .medication-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 15px;
        }

        .medication-name {
            font-size: 1.2rem;
            font-weight: 700;
            color: #2c3e50;
            margin-bottom: 5px;
        }

        .medication-dosage {
            color: #64748b;
            font-size: 0.9rem;
            font-weight: 500;
        }

        .medication-actions {
            display: flex;
            gap: 8px;
        }

        .medication-action-btn {
            background: none;
            border: none;
            color: #64748b;
            cursor: pointer;
            padding: 8px;
            border-radius: 8px;
            transition: all 0.3s ease;
        }

        .medication-action-btn:hover {
            background: rgba(0,0,0,0.4);
            color: var(--primary);
        }

        .medication-action-btn.delete:hover {
            background: rgba(255, 107, 107, 0.1);
            color: #ff6b6b;
        }

        .medication-reminders {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-bottom: 15px;
        }

        .reminder-chip {
            background: linear-gradient(135deg, #e8f5e8, #f0f8ff);
            color: var(--primary);
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
            border: 1px solid rgba(76, 175, 80, 0.2);
            display: flex;
            align-items: center;
            gap: 4px;
        }

        .active-reminders-section {
            background: linear-gradient(135deg, #f8f9fa, #e8f0fe);
            border-radius: 16px;
            padding: 25px;
            border: 1px solid #e8f0fe;
        }

        .active-reminders-section h3 {
            color: var(--primary);
            margin-bottom: 20px;
            font-size: 1.1rem;
            font-weight: 700;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .reminder-item {
            background: white;
            border-radius: 12px;
            padding: 15px;
            margin-bottom: 12px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border: 1px solid #e8f0fe;
            transition: all 0.3s ease;
        }

        .reminder-item:hover {
            box-shadow: 0 4px 12px rgba(0,0,0,0.08);
        }

        .reminder-info {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .reminder-time {
            font-weight: 700;
            color: var(--primary);
            font-size: 1.1rem;
        }

        .reminder-medication {
            color: #64748b;
        }

        .reminder-status {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .reminder-status.active {
            color: #4CAF50;
        }

        .reminder-status.snoozed {
            color: #ffc107;
        }

        /* Dark Theme for Medications */
        body.dark-theme .medications-header {
            /* No changes needed */
        }

        /* Blood Pressure Section Styles */
        .blood-pressure-content {
            max-width: 100%;
            margin: 0 auto;
        }

        .bp-input-section {
            margin-bottom: 30px;
        }

        .bp-input-card {
            background: var(--card-bg);
            border-radius: 12px;
            padding: 25px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
        }

        .bp-inputs {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 25px;
        }

        .bp-inputs .input-group {
            display: flex;
            flex-direction: column;
        }

        .bp-inputs label {
            margin-bottom: 8px;
            font-weight: 600;
            color: var(--text-primary);
        }

        .bp-inputs input {
            padding: 12px;
            border: 2px solid var(--border-color);
            border-radius: 8px;
            font-size: 16px;
            transition: border-color 0.3s ease;
        }

        .bp-inputs input:focus {
            outline: none;
            border-color: var(--primary);
        }

        .bp-preview {
            margin-bottom: 25px;
        }

        .preview-card {
            background: linear-gradient(135deg, var(--primary), var(--accent));
            color: white;
            padding: 20px;
            border-radius: 12px;
            text-align: center;
            transition: transform 0.3s ease;
        }

        .preview-card:hover {
            transform: translateY(-2px);
        }

        .preview-value {
            font-size: 28px;
            font-weight: bold;
            margin-bottom: 8px;
        }

        .preview-category {
            font-size: 14px;
            opacity: 0.9;
        }

        .bp-stats-section {
            margin-bottom: 30px;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
        }

        .stat-card {
            background: var(--card-bg);
            padding: 20px;
            border-radius: 12px;
            text-align: center;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease;
        }

        .stat-card:hover {
            transform: translateY(-2px);
        }

        .stat-label {
            font-size: 12px;
            color: var(--text-secondary);
            margin-bottom: 8px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .stat-value {
            font-size: 20px;
            font-weight: bold;
            color: var(--primary);
        }

        .bp-chart-section {
            margin-bottom: 30px;
        }

        .chart-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            flex-wrap: wrap;
            gap: 15px;
        }

        .chart-controls {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }

        .chart-btn {
            padding: 8px 16px;
            border: 2px solid var(--border-color);
            background: var(--card-bg);
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 12px;
        }

        .chart-btn:hover,
        .chart-btn.active {
            background: var(--primary);
            color: white;
            border-color: var(--primary);
        }

        .chart-container {
            background: var(--card-bg);
            padding: 20px;
            border-radius: 12px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            margin-bottom: 15px;
        }

        #bpChart {
            width: 100%;
            max-width: 100%;
            height: auto;
        }

        .chart-legend {
            display: flex;
            justify-content: center;
            gap: 30px;
            flex-wrap: wrap;
        }

        .legend-item {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 14px;
        }

        .legend-color {
            width: 12px;
            height: 12px;
            border-radius: 50%;
        }

        .legend-color.systolic {
            background: #FF6B6B;
        }

        .legend-color.diastolic {
            background: #4ECDC4;
        }

        .bp-categories-section {
            margin-bottom: 30px;
        }

        .categories-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
        }

        .category-card {
            padding: 20px;
            border-radius: 12px;
            text-align: center;
            color: white;
            transition: transform 0.3s ease;
        }

        .category-card:hover {
            transform: translateY(-2px);
        }

        .category-card.normal {
            background: linear-gradient(135deg, #4CAF50, #45a049);
        }

        .category-card.elevated {
            background: linear-gradient(135deg, #FFC107, #FF9800);
        }

        .category-card.stage1 {
            background: linear-gradient(135deg, #FF9800, #FF5722);
        }

        .category-card.stage2 {
            background: linear-gradient(135deg, #F44336, #D32F2F);
        }

        .category-title {
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 8px;
        }

        .category-range {
            font-size: 14px;
            margin-bottom: 12px;
            opacity: 0.9;
        }

        .category-icon {
            font-size: 24px;
        }

        .bp-history-section {
            margin-bottom: 30px;
        }

        .history-controls {
            display: flex;
            gap: 15px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .history-list {
            display: grid;
            gap: 15px;
        }

        .history-item {
            background: var(--card-bg);
            padding: 15px;
            border-radius: 12px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease;
        }

        .history-item:hover {
            transform: translateY(-2px);
        }

        .history-info {
            flex: 1;
        }

        .history-reading {
            font-size: 18px;
            font-weight: bold;
            color: var(--primary);
            margin-bottom: 5px;
        }

        .history-date {
            font-size: 12px;
            color: var(--text-secondary);
            margin-bottom: 3px;
        }

        .history-notes {
            font-size: 14px;
            color: var(--text-secondary);
        }

        .history-category {
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
            color: white;
        }

        .history-category.normal {
            background: #4CAF50;
        }

        .history-category.elevated {
            background: #FFC107;
        }

        .history-category.stage1 {
            background: #FF9800;
        }

        .history-category.stage2 {
            background: #F44336;
        }

        /* Dark Theme for Blood Pressure */
        body.dark-theme .bp-input-card,
        body.dark-theme .stat-card,
        body.dark-theme .chart-container,
        body.dark-theme .history-item {
            background: var(--card-bg);
            border-color: var(--border-color);
        }

        body.dark-theme .bp-inputs input {
            background: var(--card-bg);
            color: var(--text-primary);
            border-color: var(--border-color);
        }

        body.dark-theme .chart-btn {
            background: var(--card-bg);
            color: var(--text-primary);
            border-color: var(--border-color);
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .bp-inputs {
                grid-template-columns: 1fr;
            }

            .stats-grid {
                grid-template-columns: repeat(2, 1fr);
            }

            .categories-grid {
                grid-template-columns: repeat(2, 1fr);
            }

            .chart-header {
                flex-direction: column;
                align-items: flex-start;
            }

            .history-item {
                flex-direction: column;
                align-items: flex-start;
                gap: 10px;
            }

            .history-controls {
                flex-direction: column;
            }

            .history-controls button {
                width: 100%;
            }
        }

        body.dark-theme .medication-card {
            background: linear-gradient(135deg, #404040 0%, #4a4a4a 100%);
            border-color: #555555;
        }

        body.dark-theme .medication-name {
            color: #ffffff;
        }

        body.dark-theme .medication-dosage {
            color: #cccccc;
        }

        body.dark-theme .medication-action-btn {
            color: #cccccc;
        }

        body.dark-theme .medication-action-btn:hover {
            background: rgba(255,255,255,0.1);
            color: #4CAF50;
        }

        body.dark-theme .reminder-chip {
            background: linear-gradient(135deg, #4a5568, #2d3748);
            border-color: #4CAF50;
        }

        body.dark-theme .active-reminders-section {
            background: linear-gradient(135deg, #4a5568, #2d3748);
            border-color: #555555;
        }

        body.dark-theme .reminder-item {
            background: #404040;
            border-color: #555555;
        }

        body.dark-theme .reminder-medication {
            color: #cccccc;
        }

        /* Medication Modal Styles */
        .medication-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            z-index: 10000;
        }

        .medication-modal.active {
            display: block;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #2c3e50;
        }

        .form-group input,
        .form-group select,
        .form-group textarea {
            width: 100%;
            padding: 12px;
            border: 2px solid #e8f0fe;
            border-radius: 8px;
            font-size: 1rem;
            transition: border-color 0.3s ease;
        }

        .form-group input:focus,
        .form-group select:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: var(--primary);
        }

        .days-selector {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }

        .day-checkbox {
            display: flex;
            align-items: center;
            gap: 5px;
            padding: 8px 12px;
            background: #f8f9fa;
            border: 2px solid #e8f0fe;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.9rem;
            font-weight: 500;
        }

        .day-checkbox:hover {
            background: #e8f5e8;
            border-color: var(--primary);
        }

        .day-checkbox input {
            margin: 0;
        }

        .day-checkbox input[type="checkbox"]:checked + span {
            color: var(--primary);
            font-weight: 700;
        }

        .empty-state {
            text-align: center;
            padding: 40px 20px;
            color: #64748b;
        }

        .empty-state h3 {
            margin: 10px 0 5px 0;
            color: #64748b;
        }

        /* Dark Theme for Medication Modal */
        body.dark-theme .form-group label {
            color: #ffffff;
        }

        body.dark-theme .form-group input,
        body.dark-theme .form-group select,
        body.dark-theme .form-group textarea {
            background: #404040;
            border-color: #555555;
            color: #ffffff;
        }

        body.dark-theme .day-checkbox {
            background: #404040;
            border-color: #555555;
            color: #cccccc;
        }

        body.dark-theme .day-checkbox:hover {
            background: #4a5568;
            border-color: var(--primary);
        }

        /* Exercise Section Styles */

    
    /* Exercise Background Image - In Content Area */
    #exerciseContent {
        position: relative;
        min-height: 500px;
        background-image: url('https://images.unsplash.com/photo-1571019613454-1cb2f99b2d8b?w=1200&h=800&fit=crop');
        background-size: cover;
        background-position: center;
        background-repeat: no-repeat;
        padding: 30px;
        border-radius: 20px;
        margin-top: 20px;
    }
    
    #exerciseContent::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: rgba(255, 255, 255, 0.80);
        z-index: 0;
        border-radius: 20px;
    }
    
    #exerciseContent > * {
        position: relative;
        z-index: 1;
    }
        .exercise-nav {
            display: flex;
            gap: 10px;
            margin-bottom: 25px;
            flex-wrap: wrap;
            justify-content: center;
        }

        .exercise-nav-btn {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 12px 20px;
            background: linear-gradient(135deg, #f8f9fa, #e9ecef);
            border: 2px solid #e8f0fe;
            border-radius: 25px;
            color: #64748b;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.9rem;
        }

        .exercise-nav-btn:hover {
            background: linear-gradient(135deg, #e8f5e8, #f0f8ff);
            border-color: var(--primary);
            color: var(--primary);
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(76, 175, 80, 0.15);
        }

        .exercise-nav-btn.active {
            background: linear-gradient(135deg, var(--primary), #4CAF50);
            color: white;
            border-color: var(--primary);
            box-shadow: 0 4px 20px rgba(76, 175, 80, 0.25);
        }

        .exercise-workout-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .exercise-card {
            background: linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%);
            border-radius: 16px;
            padding: 20px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.08);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            cursor: pointer;
            border: 1px solid #e8f0fe;
            position: relative;
            overflow: hidden;
        }

        .exercise-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, var(--primary), #4CAF50);
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .exercise-card:hover::before {
            opacity: 1;
        }

        .exercise-card:hover {
            transform: translateY(-8px) scale(1.02);
            box-shadow: 0 12px 40px rgba(76, 175, 80, 0.15);
            border-color: var(--primary);
        }

        .exercise-difficulty {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            background: linear-gradient(135deg, #e8f5e8, #f0f8ff);
            color: var(--primary);
            padding: 6px 14px;
            border-radius: 20px;
            font-size: 0.75rem;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.8px;
            margin-bottom: 12px;
        }

        .exercise-title {
            font-size: 1.2rem;
            font-weight: 700;
            color: #2c3e50;
            margin-bottom: 10px;
            line-height: 1.3;
        }

        .exercise-description {
            font-size: 0.9rem;
            color: #64748b;
            margin-bottom: 15px;
            line-height: 1.5;
        }

        .exercise-meta {
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 0.85rem;
            color: #64748b;
        }

        .exercise-duration {
            display: flex;
            align-items: center;
            gap: 5px;
            font-weight: 500;
        }

        .exercise-calories {
            display: flex;
            align-items: center;
            gap: 5px;
            font-weight: 600;
            color: var(--primary);
        }

        .exercise-safety-tip {
            background: linear-gradient(135deg, #fff3cd, #fef9e7);
            border-left: 4px solid #ffc107;
            padding: 15px;
            border-radius: 8px;
            margin-top: 20px;
            font-size: 0.9rem;
            color: #856404;
        }

        .exercise-safety-tip strong {
            display: block;
            margin-bottom: 5px;
            color: #664d03;
        }

        body.dark-theme .day-tabs {
            background: #2d2d2d;
        }

        body.dark-theme .recipe-info {
            color: #ffffff;
        }

        body.dark-theme .recipe-meta {
            background: #2d2d2d;
        }

        body.dark-theme .recipe-meta span {
            color: #cccccc;
        }

        

        

        body.dark-theme .ingredients-list li {
            border-bottom-color: #555555;
        }

        body.dark-theme .nutrition-tips {
            background: #1a3d1a;
        }

        body.dark-theme .modal-content {
            background: #2d2d2d;
        }

        body.dark-theme .modal-footer {
            background: #1a1a1a;
            border-top-color: #555555;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .meals-grid {
                grid-template-columns: 1fr;
            }
            
            .day-tabs {
                overflow-x: auto;
                justify-content: flex-start;
            }
            
            .modal-content {
                margin: 0;
                border-radius: 0;
                max-height: 100vh;
            }
            
            .recipe-meta {
                flex-direction: column;
                gap: 10px;
            }
        }
    /* Progress Section Styles */
    .progress-section {
        padding: 20px;
        max-width: 100%;
        margin: 0 auto;
    }

    .journey-stats {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
        gap: 15px;
        margin-bottom: 25px;
    }

    .stat-card {
        background: linear-gradient(135deg, #10b981 0%, #059669 100%);
        border-radius: 15px;
        padding: 20px;
        color: white;
        text-align: center;
        box-shadow: 0 4px 15px rgba(16, 185, 129, 0.2);
        transition: transform 0.3s ease, box-shadow 0.3s ease;
    }

    .stat-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 8px 25px rgba(16, 185, 129, 0.3);
    }

    .stat-icon {
        font-size: 2.5rem;
        margin-bottom: 10px;
    }

    .stat-number {
        font-size: 2rem;
        font-weight: bold;
        margin-bottom: 5px;
    }

    .stat-label {
        font-size: 0.9rem;
        opacity: 0.9;
    }

    .progress-tabs {
        display: flex;
        gap: 10px;
        margin-bottom: 20px;
        overflow-x: auto;
        padding-bottom: 5px;
    }

    .progress-tabs .tab-btn {
        background: rgba(255, 255, 255, 0.1);
        border: 2px solid #10b981;
        color: #10b981;
        padding: 12px 20px;
        border-radius: 25px;
        cursor: pointer;
        transition: all 0.3s ease;
        font-weight: 600;
        white-space: nowrap;
        flex-shrink: 0;
    }

    .progress-tabs .tab-btn.active,
    .progress-tabs .tab-btn:hover {
        background: #10b981;
        color: white;
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(16, 185, 129, 0.3);
    }

    .tab-content {
        background: rgba(255, 255, 255, 0.05);
        border-radius: 15px;
        padding: 20px;
        min-height: 300px;
    }

    .tab-pane {
        display: none;
        animation: fadeIn 0.5s ease;
    }

    .tab-pane.active {
        display: block;
    }

    .health-overview h3 {
        color: #10b981;
        margin-bottom: 15px;
        text-align: center;
    }

    .chart-container {
        background: rgba(255, 255, 255, 0.05);
        border-radius: 10px;
        padding: 15px;
        margin-bottom: 20px;
        text-align: center;
    }

    .health-summary {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 15px;
    }

    .summary-item {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 12px 15px;
        background: rgba(255, 255, 255, 0.05);
        border-radius: 8px;
    }

    .summary-label {
        color: #6b7280;
        font-size: 0.9rem;
    }

    .summary-value {
        color: #10b981;
        font-weight: bold;
        font-size: 1rem;
    }

    .achievements-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
        gap: 20px;
    }

    .achievement-card {
        background: rgba(255, 255, 255, 0.05);
        border: 2px solid transparent;
        border-radius: 15px;
        padding: 20px;
        text-align: center;
        transition: all 0.3s ease;
        border-image: linear-gradient(135deg, #10b981, #fb923c) 1;
    }

    .achievement-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 8px 25px rgba(16, 185, 129, 0.2);
    }

    .achievement-icon {
        font-size: 3rem;
        margin-bottom: 15px;
    }

    .achievement-card h4 {
        color: #10b981;
        margin-bottom: 10px;
    }

    .achievement-card p {
        color: #6b7280;
        font-size: 0.9rem;
        margin-bottom: 15px;
    }

    .progress-bar {
        background: rgba(255, 255, 255, 0.1);
        border-radius: 10px;
        height: 8px;
        overflow: hidden;
        margin-top: 10px;
    }

    .progress-fill {
        background: linear-gradient(90deg, #10b981, #fb923c);
        height: 100%;
        border-radius: 10px;
        transition: width 1s ease;
        animation: shimmer 2s infinite;
    }

    .stats-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
        gap: 15px;
    }

    .stat-box {
        background: linear-gradient(135deg, rgba(255, 255, 255, 0.1) 0%, rgba(255, 255, 255, 0.05) 100%);
        border: 2px solid rgba(16, 185, 129, 0.3);
        border-radius: 15px;
        padding: 25px 15px;
        text-align: center;
        transition: all 0.3s ease;
    }

    .stat-box:hover {
        border-color: #10b981;
        transform: translateY(-3px);
        box-shadow: 0 8px 25px rgba(16, 185, 129, 0.15);
    }

    .stat-box .stat-number {
        color: #10b981;
        font-size: 2.5rem;
        font-weight: bold;
        margin-bottom: 8px;
    }

    .stat-box .stat-label {
        color: #6b7280;
        font-size: 0.9rem;
    }

    @keyframes fadeIn {
        from { opacity: 0; transform: translateY(20px); }
        to { opacity: 1; transform: translateY(0); }
    }

    @keyframes shimmer {
        0% { opacity: 0.8; }
        50% { opacity: 1; }
        100% { opacity: 0.8; }
    }

    /* Mobile Optimization */
    @media (max-width: 768px) {
        .progress-section {
            padding: 15px;
        }

        .journey-stats {
            grid-template-columns: 1fr;
            gap: 12px;
        }

        .stat-card {
            padding: 15px;
        }

        .stat-icon {
            font-size: 2rem;
        }

        .stat-number {
            font-size: 1.5rem;
        }

        .progress-tabs {
            flex-wrap: wrap;
            justify-content: center;
        }

        .progress-tabs .tab-btn {
            padding: 10px 16px;
            font-size: 0.9rem;
        }

        .achievements-grid {
            grid-template-columns: 1fr;
            gap: 15px;
        }

        .stats-grid {
            grid-template-columns: repeat(2, 1fr);
            gap: 12px;
        }

        .stat-box {
            padding: 20px 12px;
        }

        .stat-box .stat-number {
            font-size: 2rem;
        }
    }

    @media (max-width: 480px) {
        .health-summary {
            grid-template-columns: 1fr;
        }

        .stats-grid {
            grid-template-columns: 1fr;
        }
    }

    /* Dark Theme Support */
    body.dark-theme .progress-section {
        background: var(--dark-bg);
    }

    body.dark-theme .stat-card {
        background: linear-gradient(135deg, #059669 0%, #047857 100%);
    }

    body.dark-theme .tab-content,
    body.dark-theme .achievement-card,
    body.dark-theme .stat-box {
        background: rgba(30, 41, 59, 0.8);
        border-color: rgba(16, 185, 129, 0.3);
    }

    body.dark-theme .summary-item {
        background: rgba(30, 41, 59, 0.6);
    }

    body.dark-theme .chart-container {
        background: rgba(30, 41, 59, 0.6);
    }

    body.dark-theme .achievement-card h4,
    body.dark-theme .health-overview h3 {
        color: #34d399;
    }
    

/* Progress Section Styles */
    .progress-section {
        padding: 20px;
        max-width: 100%;
        margin: 0 auto;
    }

    .journey-stats {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
        gap: 15px;
        margin-bottom: 25px;
    }

    .stat-card {
        background: linear-gradient(135deg, #10b981 0%, #059669 100%);
        border-radius: 15px;
        padding: 20px;
        color: white;
        text-align: center;
        box-shadow: 0 4px 15px rgba(16, 185, 129, 0.2);
        transition: transform 0.3s ease, box-shadow 0.3s ease;
    }

    .stat-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 8px 25px rgba(16, 185, 129, 0.3);
    }

    .stat-icon {
        font-size: 2.5rem;
        margin-bottom: 10px;
    }

    .stat-number {
        font-size: 2rem;
        font-weight: bold;
        margin-bottom: 5px;
        color: #ffffff;
    }

    .stat-label {
        font-size: 0.9rem;
        color: #ffffff;
        font-weight: 600;
        text-transform: uppercase;
        letter-spacing: 0.5px;
        opacity: 0.95;
    }

    .progress-tabs {
        display: flex;
        gap: 10px;
        margin-bottom: 20px;
        overflow-x: auto;
        padding-bottom: 5px;
    }

    .progress-tabs .tab-btn {
        background: rgba(255, 255, 255, 0.1);
        border: 2px solid #10b981;
        color: #10b981;
        padding: 12px 20px;
        border-radius: 25px;
        cursor: pointer;
        transition: all 0.3s ease;
        font-weight: 600;
        white-space: nowrap;
        flex-shrink: 0;
    }

    .progress-tabs .tab-btn.active,
    .progress-tabs .tab-btn:hover {
        background: #10b981;
        color: white;
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(16, 185, 129, 0.3);
    }

    .tab-content {
        background: rgba(255, 255, 255, 0.05);
        border-radius: 15px;
        padding: 20px;
        min-height: 300px;
    }

    .tab-pane {
        display: none;
        animation: fadeIn 0.5s ease;
    }

    .tab-pane.active {
        display: block;
    }

    .health-overview h3 {
        color: #10b981;
        margin-bottom: 15px;
        text-align: center;
    }

    .chart-container {
        background: rgba(255, 255, 255, 0.05);
        border-radius: 10px;
        padding: 15px;
        margin-bottom: 20px;
        text-align: center;
    }

    .health-summary {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 15px;
    }

    .summary-item {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 12px 15px;
        background: rgba(255, 255, 255, 0.05);
        border-radius: 8px;
    }

    .summary-label {
        color: #6b7280;
        font-size: 0.9rem;
    }

    .summary-value {
        color: #10b981;
        font-weight: bold;
        font-size: 1rem;
    }

    .achievements-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
        gap: 20px;
    }

    .achievement-card {
        background: rgba(255, 255, 255, 0.05);
        border: 2px solid transparent;
        border-radius: 15px;
        padding: 20px;
        text-align: center;
        transition: all 0.3s ease;
        border-image: linear-gradient(135deg, #10b981, #fb923c) 1;
    }

    .achievement-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 8px 25px rgba(16, 185, 129, 0.2);
    }

    .achievement-icon {
        font-size: 3rem;
        margin-bottom: 15px;
    }

    .achievement-card h4 {
        color: #10b981;
        margin-bottom: 10px;
    }

    .achievement-card p {
        color: #6b7280;
        font-size: 0.9rem;
        margin-bottom: 15px;
    }

    .progress-bar {
        background: rgba(255, 255, 255, 0.1);
        border-radius: 10px;
        height: 8px;
        overflow: hidden;
        margin-top: 10px;
    }

    .progress-fill {
        background: linear-gradient(90deg, #10b981, #fb923c);
        height: 100%;
        border-radius: 10px;
        transition: width 1s ease;
        animation: shimmer 2s infinite;
    }

    .stats-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
        gap: 15px;
    }

    .stat-box {
        background: linear-gradient(135deg, rgba(255, 255, 255, 0.1) 0%, rgba(255, 255, 255, 0.05) 100%);
        border: 2px solid rgba(16, 185, 129, 0.3);
        border-radius: 15px;
        padding: 25px 15px;
        text-align: center;
        transition: all 0.3s ease;
    }

    .stat-box:hover {
        border-color: #10b981;
        transform: translateY(-3px);
        box-shadow: 0 8px 25px rgba(16, 185, 129, 0.15);
    }

    .stat-box .stat-number {
        color: #10b981;
        font-size: 2.5rem;
        font-weight: bold;
        margin-bottom: 8px;
    }

    .stat-box .stat-label {
        color: #ffffff;
        font-size: 0.9rem;
        font-weight: 600;
        text-transform: uppercase;
        letter-spacing: 0.5px;
        opacity: 0.95;
    }

    @keyframes fadeIn {
        from { opacity: 0; transform: translateY(20px); }
        to { opacity: 1; transform: translateY(0); }
    }

    @keyframes shimmer {
        0% { opacity: 0.8; }
        50% { opacity: 1; }
        100% { opacity: 0.8; }
    }

    

/* Education Pillars Button Styles */
    .education-pillars {
        display: grid;
        gap: 20px;
        padding: 20px;
    }

    .pillar-button {
        display: flex;
        align-items: center;
        background: linear-gradient(135deg, rgba(255, 255, 255, 0.1) 0%, rgba(255, 255, 255, 0.05) 100%);
        border: 2px solid rgba(16, 185, 129, 0.2);
        border-radius: 16px;
        padding: 20px;
        cursor: pointer;
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        position: relative;
        overflow: hidden;
    }

    .pillar-button::before {
        content: '';
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(90deg, transparent, rgba(16, 185, 129, 0.1), transparent);
        transition: left 0.6s ease;
    }

    .pillar-button:hover::before {
        left: 100%;
    }

    .pillar-button:hover {
        transform: translateY(-2px);
        box-shadow: 0 8px 25px rgba(16, 185, 129, 0.15);
        border-color: rgba(16, 185, 129, 0.4);
        background: linear-gradient(135deg, rgba(16, 185, 129, 0.1) 0%, rgba(251, 146, 60, 0.05) 100%);
    }

    .pillar-icon-container {
        flex-shrink: 0;
        width: 60px;
        height: 60px;
        background: linear-gradient(135deg, #10B981, #059669);
        border-radius: 16px;
        display: flex;
        align-items: center;
        justify-content: center;
        margin-right: 20px;
        position: relative;
        transition: all 0.3s ease;
    }

    .pillar-button:hover .pillar-icon-container {
        transform: scale(1.1) rotate(5deg);
        box-shadow: 0 8px 20px rgba(16, 185, 129, 0.3);
    }

    .pillar-icon {
        font-size: 24px;
        filter: drop-shadow(0 2px 4px rgba(0,0,0,0.1));
    }

    .pillar-content {
        flex: 1;
        margin-right: 15px;
    }

    .pillar-content h3 {
        font-size: 1.2rem;
        font-weight: 700;
        color: #10B981;
        margin: 0 0 8px 0;
        line-height: 1.3;
    }

    .pillar-content p {
        font-size: 0.9rem;
        line-height: 1.5;
        color: rgba(255, 255, 255, 0.8);
        margin: 0;
    }

    .pillar-arrow {
        flex-shrink: 0;
        font-size: 20px;
        color: #10B981;
        font-weight: bold;
        transition: all 0.3s ease;
    }

    .pillar-button:hover .pillar-arrow {
        transform: translateX(5px);
        color: #FB923C;
    }

    body.dark-theme .pillar-button {
        background: linear-gradient(135deg, rgba(255, 255, 255, 0.08) 0%, rgba(255, 255, 255, 0.03) 100%);
        border-color: rgba(16, 185, 129, 0.3);
    }

    body.dark-theme .pillar-button:hover {
        background: linear-gradient(135deg, rgba(16, 185, 129, 0.15) 0%, rgba(251, 146, 60, 0.08) 100%);
        border-color: rgba(16, 185, 129, 0.5);
        box-shadow: 0 8px 25px rgba(16, 185, 129, 0.2);
    }

    body.dark-theme .pillar-content h3 {
        color: #34d399;
    }

    body.dark-theme .pillar-content p {
        color: rgba(255, 255, 255, 0.7);
    }

    

/* Modal Styles - Ensure Always Readable */
    .modal-overlay {
        position: fixed !important;
        top: 0 !important;
        left: 0 !important;
        width: 100% !important;
        height: 100% !important;
        background: rgba(0, 0, 0, 0.85) !important;
        backdrop-filter: blur(10px) !important;
        z-index: 10000 !important;
        display: flex !important;
        align-items: center !important;
        justify-content: center !important;
    }

    .modal-content {
        background: white !important;
        color: #1f2937 !important;
        padding: 30px !important;
        border-radius: 20px !important;
        max-width: 600px !important;
        width: 90% !important;
        max-height: 80vh !important;
        overflow-y: auto !important;
        box-shadow: 0 20px 40px rgba(0,0,0,0.1) !important;
        position: relative !important;
    }

    .modal-close-btn {
        position: absolute !important;
        top: 15px !important;
        right: 15px !important;
        width: 40px !important;
        height: 40px !important;
        border: none !important;
        background: #f3f4f6 !important;
        border-radius: 50% !important;
        cursor: pointer !important;
        font-size: 20px !important;
        display: flex !important;
        align-items: center !important;
        justify-content: center !important;
        transition: all 0.3s ease !important;
        color: #1f2937 !important;
    }

    .modal-close-btn:hover {
        background: #e5e7eb !important;
        transform: scale(1.1) !important;
    }

    /* Modal Dark Theme */
    body.dark-theme .modal-content {
        background: #1f2937 !important;
        color: #f3f4f6 !important;
    }
    
    body.dark-theme .modal-close-btn {
        background: #374151 !important;
        color: #f3f4f6 !important;
    }
    
    body.dark-theme .modal-close-btn:hover {
        background: #4b5563 !important;
    }
    
    body.dark-theme .modal-overlay {
        background: rgba(0, 0, 0, 0.95) !important;
    }

    /* Ensure modal text is always readable */
    .modal-content h1,
    .modal-content h2,
    .modal-content h3,
    .modal-content h4,
    .modal-content p,
    .modal-content li,
    .modal-content span {
        color: inherit !important;
    }

    body.dark-theme .modal-content h1,
    body.dark-theme .modal-content h2,
    body.dark-theme .modal-content h3,
    body.dark-theme .modal-content h4,
    body.dark-theme .modal-content p,
    body.dark-theme .modal-content li,
    body.dark-theme .modal-content span {
        color: #f3f4f6 !important;
    }
    /* Education Pillars Button Styles */
    .education-pillars {
        display: grid;
        gap: 20px;
        padding: 20px;
    }

    .pillar-button {
        display: flex;
        align-items: center;
        background: linear-gradient(135deg, rgba(255, 255, 255, 0.1) 0%, rgba(255, 255, 255, 0.05) 100%);
        border: 2px solid rgba(16, 185, 129, 0.3);
        border-radius: 15px;
        padding: 25px;
        cursor: pointer;
        transition: all 0.3s ease;
        position: relative;
        overflow: hidden;
    }

    .pillar-button:hover {
        transform: translateY(-5px);
        box-shadow: 0 10px 30px rgba(16, 185, 129, 0.2);
        border-color: #10b981;
        background: linear-gradient(135deg, rgba(16, 185, 129, 0.1) 0%, rgba(16, 185, 129, 0.05) 100%);
    }

    .pillar-button::before {
        content: '';
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
        transition: left 0.5s ease;
    }

    .pillar-button:hover::before {
        left: 100%;
    }

    .pillar-icon-container {
        display: flex;
        align-items: center;
        justify-content: center;
        width: 60px;
        height: 60px;
        background: linear-gradient(135deg, #10b981 0%, #059669 100%);
        border-radius: 15px;
        margin-right: 20px;
        flex-shrink: 0;
        transition: all 0.3s ease;
    }

    .pillar-button:hover .pillar-icon-container {
        transform: rotate(5deg) scale(1.1);
        box-shadow: 0 5px 15px rgba(16, 185, 129, 0.3);
    }

    .pillar-icon {
        font-size: 1.8rem;
        color: white;
    }

    .pillar-content {
        flex: 1;
        color: #f3f4f6;
    }

    .pillar-content h3 {
        color: #10b981;
        font-size: 1.3rem;
        margin-bottom: 10px;
        font-weight: 600;
    }

    .pillar-content p {
        color: #d1d5db;
        font-size: 0.95rem;
        line-height: 1.6;
        margin-bottom: 15px;
    }

    .pillar-arrow {
        color: #10b981;
        font-size: 1.5rem;
        font-weight: bold;
        transition: all 0.3s ease;
        flex-shrink: 0;
        margin-left: 15px;
    }

    .pillar-button:hover .pillar-arrow {
        transform: translateX(5px);
        color: #34d399;
    }

    /* Mobile Optimization */
    @media (max-width: 768px) {
        .education-pillars {
            padding: 15px;
            gap: 15px;
        }

        .pillar-button {
            padding: 20px;
            flex-direction: column;
            text-align: center;
        }

        .pillar-icon-container {
            margin-right: 0;
            margin-bottom: 15px;
            width: 50px;
            height: 50px;
        }

        .pillar-icon {
            font-size: 1.5rem;
        }

        .pillar-content h3 {
            font-size: 1.1rem;
        }

        .pillar-content p {
            font-size: 0.9rem;
            margin-bottom: 10px;
        }

        .pillar-arrow {
            margin-left: 0;
            font-size: 1.2rem;
        }
    }

    /* Dark Theme Support */
    body.dark-theme .pillar-button {
        background: linear-gradient(135deg, rgba(30, 41, 59, 0.8) 0%, rgba(30, 41, 59, 0.6) 100%);
        border-color: rgba(16, 185, 129, 0.4);
    }

    body.dark-theme .pillar-button:hover {
        background: linear-gradient(135deg, rgba(16, 185, 129, 0.15) 0%, rgba(16, 185, 129, 0.08) 100%);
        border-color: #10b981;
    }

    body.dark-theme .pillar-content h3 {
        color: #34d399;
    }

    body.dark-theme .pillar-content p {
        color: #e5e7eb;
    }

    body.dark-theme .pillar-arrow {
        color: #34d399;
    }

    /* Modal Dark Theme */
    body.dark-theme .modal-content {
        background: #1f2937 !important;
        color: #f3f4f6 !important;
    }
    
    body.dark-theme .modal-close-btn {
        background: #374151 !important;
        color: #f3f4f6 !important;
    }
    
    body.dark-theme .modal-close-btn:hover {
        background: #4b5563 !important;
    }
    
    /* Modal Overlay Dark Theme */
    body.dark-theme .modal-overlay {
        background: rgba(0, 0, 0, 0.95) !important;
    }
    

    /* Dashboard Enhanced Visibility */
    .stat-card .stat-label {
        color: #ffffff !important;
        font-weight: 700 !important;
        text-transform: uppercase !important;
        letter-spacing: 1px !important;
        font-size: 0.75rem !important;
        text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3) !important;
    }
    
    .stat-card .stat-icon {
        font-size: 2.5rem !important;
        color: #ffffff !important;
        filter: drop-shadow(0 4px 6px rgba(0, 0, 0, 0.3)) !important;
    }
    
    .stat-card .stat-value {
        color: #ffffff !important;
        font-weight: 700 !important;
        text-shadow: 0 2px 4px rgba(0, 0, 0, 0.2) !important;
    }

    /* Education Pillar Buttons */
    .education-pillars {
        display: flex;
        flex-direction: column;
        gap: 15px;
        margin-top: 20px;
    }
    
    .pillar-button {
        display: flex;
        align-items: center;
        gap: 20px;
        padding: 20px;
        background: linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%);
        border: 2px solid #e5e7eb;
        border-radius: 15px;
        cursor: pointer;
        transition: all 0.3s ease;
    }
    
    .pillar-button:hover {
        transform: translateY(-2px);
        box-shadow: 0 8px 20px rgba(16, 185, 129, 0.2);
        border-color: #10b981;
    }
    
    .pillar-icon {
        font-size: 3rem;
        min-width: 60px;
        text-align: center;
        transition: transform 0.3s ease;
    }
    
    .pillar-button:hover .pillar-icon {
        transform: scale(1.2) rotate(5deg);
    }
    
    .pillar-content {
        flex: 1;
    }
    
    .pillar-content h3 {
        margin: 0 0 8px 0;
        color: #1f2937;
        font-size: 1.25rem;
        font-weight: 600;
    }
    
    .pillar-content p {
        margin: 0;
        color: #6b7280;
        font-size: 0.95rem;
        line-height: 1.5;
    }
    
    .pillar-arrow {
        font-size: 1.5rem;
        color: #10b981;
        font-weight: bold;
        transition: transform 0.3s ease;
    }
    
    .pillar-button:hover .pillar-arrow {
        transform: translateX(5px);
    }

    /* Dashboard Icons - Maximum Visibility */
    .stat-card {
        background: linear-gradient(135deg, #10b981 0%, #059669 100%) !important;
        position: relative;
        overflow: hidden;
    }
    
    .stat-card::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: rgba(0, 0, 0, 0.1);
        z-index: 0;
    }
    
    .stat-card > * {
        position: relative;
        z-index: 1;
    }
    
    .stat-card .stat-icon {
        font-size: 3rem !important;
        color: #ffffff !important;
        filter: drop-shadow(0 4px 8px rgba(0, 0, 0, 0.4)) !important;
        margin-bottom: 10px !important;
    }
    
    .stat-card .stat-label {
        color: #ffffff !important;
        font-weight: 800 !important;
        text-transform: uppercase !important;
        letter-spacing: 1.5px !important;
        font-size: 0.8rem !important;
        text-shadow: 0 2px 6px rgba(0, 0, 0, 0.4) !important;
        margin-bottom: 8px !important;
    }
    
    .stat-card .stat-value {
        color: #ffffff !important;
        font-weight: 800 !important;
        font-size: 2rem !important;
        text-shadow: 0 3px 8px rgba(0, 0, 0, 0.3) !important;
    }

    /* Education Pillar Modal */
    .pillar-modal {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.85);
        display: flex;
        align-items: center;
        justify-content: center;
        z-index: 10000;
        padding: 20px;
    }
    
    .pillar-modal-content {
        background: #ffffff;
        border-radius: 20px;
        padding: 40px;
        max-width: 700px;
        max-height: 80vh;
        overflow-y: auto;
        position: relative;
        box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
    }
    
    .pillar-modal-close {
        position: absolute;
        top: 20px;
        right: 25px;
        font-size: 2rem;
        font-weight: bold;
        color: #6b7280;
        cursor: pointer;
        transition: color 0.3s ease;
    }
    
    .pillar-modal-close:hover {
        color: #1f2937;
    }
    
    .pillar-modal-content h2 {
        margin: 0 0 20px 0;
        color: #1f2937;
        font-size: 2rem;
    }
    
    .pillar-modal-body h4 {
        color: #10b981;
        margin: 20px 0 10px 0;
        font-size: 1.25rem;
    }
    
    .pillar-modal-body p {
        color: #4b5563;
        line-height: 1.6;
        margin-bottom: 15px;
    }
    
    .pillar-modal-body ul {
        color: #4b5563;
        line-height: 1.8;
        margin-left: 20px;
    }
    
    .pillar-modal-body li {
        margin-bottom: 8px;
    }

        /* Legal Modal Styles */
        .legal-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 10000;
            justify-content: center;
            align-items: center;
        }
        
        .legal-modal.active {
            display: flex;
        }
        
        .legal-modal-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.4);
            z-index: 10001;
        }
        
        .legal-modal-content {
            position: relative;
            background: white;
            border-radius: 12px;
            max-width: 800px;
            width: 90%;
            max-height: 85vh;
            overflow: hidden;
            z-index: 10002;
            box-shadow: 0 10px 40px rgba(0,0,0,0.2);
        }
        
        .legal-content {
            padding: 2rem;
            overflow-y: auto;
            max-height: calc(85vh - 80px);
        }
        
        .legal-content h3 {
            color: var(--primary-color);
            margin-top: 1.5rem;
            margin-bottom: 0.5rem;
        }
        
        .legal-content h4 {
            color: var(--secondary-color);
            margin-top: 1rem;
            margin-bottom: 0.5rem;
        }
        
        .legal-content ul {
            margin-left: 1.5rem;
            margin-bottom: 1rem;
        }
        
        .legal-content li {
            margin-bottom: 0.5rem;
        }
        
        .legal-footer {
            background: #f0fdf4;
            padding: 1rem;
            border-radius: 8px;
            margin-top: 2rem;
            border-left: 4px solid var(--primary-color);
        }

        
        /* Safe area insets for notched devices */
        @supports (padding: max(0px)) {
            body {
                padding-left: max(0px, env(safe-area-inset-left));
                padding-right: max(0px, env(safe-area-inset-right));
                padding-bottom: max(0px, env(safe-area-inset-bottom));
            }
            
            .bottom-nav {
                padding-bottom: max(10px, env(safe-area-inset-bottom));
            }
        }

        </style>

</head>
<body>
    

    <!-- Onboarding Container -->
    <div class="onboarding-container" id="onboardingContainer">
        <!-- Welcome Screen -->
        <div class="onboarding-screen welcome-screen active" id="welcomeScreen">
            <div class="welcome-logo">
                <i class="fas fa-heartbeat"></i>
            </div>
            <h1 class="welcome-title">Welcome to<br>DASH Over 50+</h1>
            <p class="welcome-subtitle">Lower Blood Pressure, Boost Energy<br>& Reclaim Your Health After 50</p>
            <button class="btn-primary" id="getStartedBtn" >Get Started</button>
            <br><br>
            <button class="btn-nav" onclick="resetAll()">Reset All Data</button>
        </div>

        <!-- Step 1: Account Info -->
        <div class="onboarding-screen" id="step1Screen">
            <div class="form-screen">
                <h2 class="form-title">Your Profile</h2>
                <div class="progress-bar">
                    <div class="progress-fill" id="progressBar" style="width: 25%;"></div>
                </div>
                <div class="form-group">
                    <label class="form-label">Full Name</label>
                    <input type="text" class="form-input" id="userName" placeholder="Enter your name">
                </div>
                <div class="form-group">
                    <label class="form-label">Email</label>
                    <input type="email" class="form-input" id="userEmail" placeholder="name@example.com">
                </div>
                <button class="btn-primary" onclick="nextStep(1)">Next</button>
                <br><br>
                <button class="btn-nav" onclick="goToWelcome()">Back to Welcome</button>
            </div>
        </div>

        <!-- Step 2: Health Metrics -->
        <div class="onboarding-screen" id="step2Screen">
            <div class="form-screen">
                <h2 class="form-title">Your Health Metrics</h2>
                <div class="progress-bar">
                    <div class="progress-fill" id="progressBar" style="width: 50%;"></div>
                </div>
                <div class="form-group">
                    <label class="form-label">Age</label>
                    <input type="number" class="form-input" id="userAge" placeholder="50" min="50" max="100">
                </div>
                <div class="form-group">
                    <label class="form-label">Weight (lbs)</label>
                    <input type="number" class="form-input" id="userWeight" placeholder="154" min="88" max="440">
                </div>
                <div class="form-group">
                    <label class="form-label">Height (inches)</label>
                    <input type="number" class="form-input" id="userHeight" placeholder="67" min="48" max="84">
                </div>
                <div class="form-group">
                    <label class="form-label">Gender</label>
                    <select class="form-select" id="userGender">
                        <option value="">Select</option>
                        <option value="male">Male</option>
                        <option value="female">Female</option>
                    </select>
                </div>
                <div style="margin-top: 1rem;">
                    <button class="btn-nav" onclick="prevStep(2)">Back</button>
                    <button class="btn-primary" onclick="nextStep(2)">Next</button>
                </div>
            </div>
        </div>

        <!-- Step 3: Lifestyle -->
        <div class="onboarding-screen" id="step3Screen">
            <div class="form-screen">
                <h2 class="form-title">Lifestyle</h2>
                <div class="progress-bar">
                    <div class="progress-fill" id="progressBar" style="width: 75%;"></div>
                </div>
                <div class="form-group">
                    <label class="form-label">Activity Level</label>
                    <select class="form-select" id="userActivity">
                        <option value="">Select</option>
                        <option value="sedentary">Sedentary</option>
                        <option value="light">Light</option>
                        <option value="moderate">Moderate</option>
                        <option value="active">Active</option>
                    </select>
                </div>
                <div class="form-group">
                    <label class="form-label">Health Concerns</label>
                    <select class="form-select" id="userConcerns">
                        <option value="">Select</option>
                        <option value="blood-pressure">High Blood Pressure</option>
                        <option value="weight">Weight Management</option>
                        <option value="energy">Low Energy</option>
                        <option value="sleep">Sleep Issues</option>
                    </select>
                </div>
                <div style="margin-top: 1rem;">
                    <button class="btn-nav" onclick="prevStep(3)">Back</button>
                    <button class="btn-primary" onclick="completeOnboarding()">Complete Setup</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Main App -->
    <div class="main-app" id="mainApp">
        <!-- Navigation -->
        <div class="nav-scroll-container" id="navContainer">
            <div class="nav-item active" data-section="dashboard">
                <i class="fas fa-home"></i>
                <span>Dashboard</span>
            </div>
            <div class="nav-item" data-section="meals">
                <i class="fas fa-utensils"></i>
                <span>Meals</span>
            </div>
            <div class="nav-item" data-section="exercise">
                <i class="fas fa-dumbbell"></i>
                <span>Exercise</span>
            </div>
            <div class="nav-item" data-section="bp">
                <i class="fas fa-heart"></i>
                <span>Blood Pressure</span>
            </div>
            <div class="nav-item" data-section="progress">
                <i class="fas fa-chart-line"></i>
                <span>Progress</span>
            </div>
            <div class="nav-item" data-section="medications">
                <i class="fas fa-pills"></i>
                <span>Medications</span>
            </div>
            <div class="nav-item" data-section="ai-coach">
                <img src="ai-coach.png" alt="AI Coach" style="width: 24px; height: 24px; border-radius: 50%; object-fit: cover;">
                <span>AI Coach</span>
            </div>
            <div class="nav-item" data-section="education">
                <i class="fas fa-book"></i>
                <span>Education</span>
            </div>
            <div class="nav-item" data-section="settings">
                <i class="fas fa-cog"></i>
                <span>Settings</span>
            </div>
        </div>

        <!-- Content -->
        <div class="content">
            <!-- Dashboard Section -->
            <div class="section active" id="dashboard">
                <div class="dashboard-header">
                    <h1>Welcome back, <span id="displayName">User</span>!</h1>
                    <p>Your health after 50 starts here</p>
                </div>

                <div class="stats-grid">
                    <div class="stat-card">
                        <i class="fas fa-heart"></i>
                        <div class="stat-value" id="dashboardBP">120/80</div>
                        <div class="stat-label">Blood Pressure</div>
                    </div>
                    <div class="stat-card">
                        <i class="fas fa-calendar-check"></i>
                        <div class="stat-value">7 days</div>
                        <div class="stat-label">Streak</div>
                    </div>
                    <div class="stat-card">
                        <i class="fas fa-bullseye"></i>
                        <div class="stat-value">3/5</div>
                        <div class="stat-label">Today's Goals</div>
                    </div>
                    <div class="stat-card">
                        <i class="fas fa-weight"></i>
                        <div class="stat-value">--</div>
                        <div class="stat-label">Weight</div>
                    </div>
                </div>
            </div>

            <!-- Other sections will be added here -->

            <!-- Meals Section -->
            <div class="section" id="meals">
                <div class="section-header">
                    <i class="fas fa-utensils"></i>
                    <h2>Meals</h2>
                </div>
                
                <div class="meals-container">
                    <!-- Week Selector -->
                    <div class="week-selector">
                        <h3>4-Week DASH Meal Plan</h3>
                        <div class="week-tabs">
                            <button class="week-tab active" data-week="1">Week 1</button>
                            <button class="week-tab" data-week="2">Week 2</button>
                            <button class="week-tab" data-week="3">Week 3</button>
                            <button class="week-tab" data-week="4">Week 4</button>
                        </div>
                    </div>

                    <!-- Day Selector -->
                    <div class="day-selector">
                        <div class="day-tabs">
                            <button class="day-tab active" data-day="1">Monday</button>
                            <button class="day-tab" data-day="2">Tuesday</button>
                            <button class="day-tab" data-day="3">Wednesday</button>
                            <button class="day-tab" data-day="4">Thursday</button>
                            <button class="day-tab" data-day="5">Friday</button>
                            <button class="day-tab" data-day="6">Saturday</button>
                            <button class="day-tab" data-day="7">Sunday</button>
                        </div>
                    </div>

                    <!-- Meals Content -->
                    <div class="meals-content" id="mealsContent">
                        <!-- Loading state -->
                        <div class="meals-loading">
                            <i class="fas fa-spinner fa-spin"></i>
                            <p>Loading meal plan...</p>
                        </div>
                    </div>
                </div>

                <!-- Recipe Modal -->
                <div class="recipe-modal" id="recipeModal">
                    <div class="modal-overlay" onclick="closeRecipeModal()"></div>
                    <div class="modal-content"><style>.modal-content { position: relative !important; z-index: 10001 !important; background: white !important; }</style>
                        <div class="modal-header">
                            <h3 id="recipeTitle">Recipe Title</h3>
                            <button class="modal-close" onclick="closeRecipeModal()">
                                <i class="fas fa-times"></i>
                            </button>
                        </div>
                        <div class="modal-body">
                            <div class="recipe-info">
                                <div class="recipe-meta">
                                    <span><i class="fas fa-clock"></i> <span id="recipePrep">Prep</span></span>
                                    <span><i class="fas fa-fire"></i> <span id="recipeCook">Cook</span></span>
                                    <span><i class="fas fa-users"></i> <span id="recipeServings">Servings</span></span>
                                </div>
                                
                            </div>
                            
                            <div class="recipe-section">
                                <h4><i class="fas fa-list"></i> Ingredients</h4>
                                <div class="serving-selector">
                                    <label for="servingSize">Servings:</label>
                                    <select id="servingSize" onchange="updateIngredients()">
                                        <option value="1">1</option>
                                        <option value="2" selected>2</option>
                                        <option value="4">4</option>
                                        <option value="6">6</option>
                                    </select>
                                </div>
                                <ul id="recipeIngredients" class="ingredients-list">
                                    <!-- Ingredients will be loaded here -->
                                </ul>
                            </div>

                            <div class="recipe-section">
                                <h4><i class="fas fa-tasks"></i> Instructions</h4>
                                <ol id="recipeInstructions" class="instructions-list">
                                    <!-- Instructions will be loaded here -->
                                </ol>
                            </div>

                            <div class="recipe-section">
                                <h4><i class="fas fa-heart"></i> Nutrition Tips</h4>
                                <div id="recipeTips" class="nutrition-tips">
                                    <!-- Tips will be loaded here -->
                                </div>
                            </div>
                        </div>
                        <div class="modal-footer">
                            <button class="btn btn-secondary" onclick="closeRecipeModal()">
                                <i class="fas fa-times"></i> Close
                            </button>
                            <button class="btn btn-primary" onclick="logThisMeal()">
                                <i class="fas fa-check"></i> Log This Meal
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Exercise Section -->
            <div class="section" id="exercise">
                <div class="section-header">
                    <i class="fas fa-dumbbell"></i>
                    <h2>Exercise</h2>
                </div>
                
                <!-- Exercise Navigation -->
                <div class="exercise-nav">
                    <button class="exercise-nav-btn active" onclick="showExerciseCategory('beginner')">
                        <i class="fas fa-walking"></i> Beginner
                    </button>
                    <button class="exercise-nav-btn" onclick="showExerciseCategory('intermediate')">
                        <i class="fas fa-running"></i> Intermediate
                    </button>
                    <button class="exercise-nav-btn" onclick="showExerciseCategory('advanced')">
                        <i class="fas fa-fire"></i> Advanced
                    </button>
                    <button class="exercise-nav-btn" onclick="showExerciseCategory('stretching')">
                        <i class="fas fa-spa"></i> Stretching
                    </button>
                </div>

                <!-- Exercise Content -->
                <div id="exerciseContent">
                    <!-- Dynamic content will be loaded here -->
                </div>
            </div>

            <!-- Blood Pressure Section -->
            <div class="section" id="bp">
                <div class="section-header">
                    <i class="fas fa-heart"></i>
                    <h2>Blood Pressure</h2>
                </div>
                   <div class="blood-pressure-content">
                       <!-- Blood Pressure Input -->
                       <div class="bp-input-section">
                           <h3><i class="fas fa-plus-circle"></i> Add Reading</h3>
                           <div class="bp-input-card">
                               <form id="bpForm">
                                   <div class="bp-inputs">
                                       <div class="input-group">
                                           <label for="systolic">Systolic (top number)</label>
                                           <input type="number" id="systolic" min="60" max="250" required>
                                       </div>
                                       <div class="input-group">
                                           <label for="diastolic">Diastolic (bottom number)</label>
                                           <input type="number" id="diastolic" min="40" max="150" required>
                                       </div>
                                       <div class="input-group">
                                           <label for="pulse">Pulse (optional)</label>
                                           <input type="number" id="pulse" min="88" max="440">
                                       </div>
                                       <div class="input-group">
                                           <label for="bpNotes">Notes</label>
                                           <input type="text" id="bpNotes" placeholder="e.g., after exercise">
                                       </div>
                                   </div>
                                   <div class="bp-preview">
                                       <div class="preview-card" id="bpPreview">
                                           <div class="preview-value">--/--</div>
                                           <div class="preview-category">Enter reading above</div>
                                       </div>
                                   </div>
                                   <button type="submit" class="btn-primary">Save Reading</button>
                                   <button type="button" class="btn-secondary" onclick="testBPSave()" style="margin-left: 10px;">Test Save</button>
                               </form>
                           </div>
                       </div>

                       <!-- Blood Pressure Statistics -->
                       <div class="bp-stats-section">
                           <h3><i class="fas fa-chart-line"></i> Your Statistics</h3>
                           <div class="stats-grid">
                               <div class="stat-card">
                                   <div class="stat-label">Latest</div>
                                   <div class="stat-value" id="latestBP">--/--</div>
                               </div>
                               <div class="stat-card">
                                   <div class="stat-label">Average</div>
                                   <div class="stat-value" id="avgBP">--/--</div>
                               </div>
                               <div class="stat-card">
                                   <div class="stat-label">Total Readings</div>
                                   <div class="stat-value" id="totalReadings">0</div>
                               </div>
                               <div class="stat-card">
                                   <div class="stat-label">Days Tracked</div>
                                   <div class="stat-value" id="daysTracked">0</div>
                               </div>
                           </div>
                       </div>

                       <!-- Blood Pressure Chart -->
                       <div class="bp-chart-section">
                           <div class="chart-header">
                               <h3><i class="fas fa-chart-area"></i> Trend Chart</h3>
                               <div class="chart-controls">
                                   <button class="chart-btn active" data-period="week">Week</button>
                                   <button class="chart-btn" data-period="month">Month</button>
                                   <button class="chart-btn" data-period="3months">3 Months</button>
                                   <button class="chart-btn" data-period="all">All</button>
                               </div>
                           </div>
                           <div class="chart-container">
                               <canvas id="bpChart" width="400" height="200"></canvas>
                           </div>
                           <div class="chart-legend">
                               <div class="legend-item">
                                   <span class="legend-color systolic"></span>
                                   <span>Systolic</span>
                               </div>
                               <div class="legend-item">
                                   <span class="legend-color diastolic"></span>
                                   <span>Diastolic</span>
                               </div>
                           </div>
                       </div>

                       <!-- Blood Pressure Categories -->
                       <div class="bp-categories-section">
                           <h3><i class="fas fa-info-circle"></i> BP Categories</h3>
                           <div class="categories-grid">
                               <div class="category-card normal">
                                   <div class="category-title">Normal</div>
                                   <div class="category-range">Less than 120/80</div>
                                   <div class="category-icon">ðŸŸ¢</div>
                               </div>
                               <div class="category-card elevated">
                                   <div class="category-title">Elevated</div>
                                   <div class="category-range">120-129 / less than 80</div>
                                   <div class="category-icon">ðŸŸ¡</div>
                               </div>
                               <div class="category-card stage1">
                                   <div class="category-title">Stage 1</div>
                                   <div class="category-range">130-139 / 80-89</div>
                                   <div class="category-icon">ðŸŸ </div>
                               </div>
                               <div class="category-card stage2">
                                   <div class="category-title">Stage 2</div>
                                   <div class="category-range">140+ / 90+</div>
                                   <div class="category-icon">ðŸ”´</div>
                               </div>
                           </div>
                       </div>

                       <!-- Readings History -->
                       <div class="bp-history-section">
                           <h3><i class="fas fa-history"></i> Reading History</h3>
                           <div class="history-controls">
                               <button class="btn-secondary" onclick="exportBPData()">
                                   <i class="fas fa-download"></i> Export Data
                               </button>
                               <button class="btn-secondary" onclick="clearBPData()">
                                   <i class="fas fa-trash"></i> Clear All
                               </button>
                           </div>
                           <div id="bpHistoryList" class="history-list">
                               <!-- Readings will be populated here -->
                           </div>
                       </div>
                   </div>
            </div>

            <!-- Progress Section -->
            <div class="section" id="progress">
                <div class="section-header">
                    <i class="fas fa-chart-line"></i>
                    <h2>Progress</h2>
                </div>
                
                <div class="progress-section">
                    <!-- Journey Statistics -->
                    <div class="journey-stats">
                        <div class="stat-card">
                            <div class="stat-icon">ðŸ“…</div>
                            <div class="stat-info">
                                <div class="stat-number" id="daysOnDASH">0</div>
                                <div class="stat-label">Days on DASH</div>
                            </div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon">ðŸ”¥</div>
                            <div class="stat-info">
                                <div class="stat-number" id="currentStreak">0</div>
                                <div class="stat-label">Current Streak</div>
                            </div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon">âš¡</div>
                            <div class="stat-info">
                                <div class="stat-number" id="totalActivities">0</div>
                                <div class="stat-label">Total Activities</div>
                            </div>
                        </div>
                    </div>

                    <!-- Progress Tabs -->
                    <div class="progress-tabs">
                        <button class="tab-btn active" onclick="showProgressTab('health')">
                            ðŸ“Š Health
                        </button>
                        <button class="tab-btn" onclick="showProgressTab('achievements')">
                            ðŸ† Achievements
                        </button>
                        <button class="tab-btn" onclick="showProgressTab('statistics')">
                            ðŸ“ˆ Statistics
                        </button>
                    </div>

                    <!-- Tab Content -->
                    <div class="tab-content">
                        <!-- Health Tab -->
                        <div id="healthTab" class="tab-pane active">
                            <div class="health-overview">
                                <h3>Blood Pressure Trends</h3>
                                <div class="chart-container">
                                    <canvas id="bpChart" width="400" height="200"></canvas>
                                </div>
                                <div class="health-summary">
                                    <div class="summary-item">
                                        <span class="summary-label">Latest Reading:</span>
                                        <span class="summary-value" id="latestBP">--/--</span>
                                    </div>
                                    <div class="summary-item">
                                        <span class="summary-label">Average This Week:</span>
                                        <span class="summary-value" id="weeklyAvg">--/--</span>
                                    </div>
                                    <div class="summary-item">
                                        <span class="summary-label">Total Readings:</span>
                                        <span class="summary-value" id="totalReadings">0</span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Achievements Tab -->
                        <div id="achievementsTab" class="tab-pane">
                            <div class="achievements-grid">
                                <div class="achievement-card">
                                    <div class="achievement-icon">ðŸŽ¯</div>
                                    <div class="achievement-info">
                                        <h4>First Week Complete</h4>
                                        <p>Successfully complete your first week on DASH</p>
                                        <div class="progress-bar">
                                            <div class="progress-fill" id="firstWeekProgress" style="width: 0%"></div>
                                        </div>
                                    </div>
                                </div>
                                <div class="achievement-card">
                                    <div class="achievement-icon">ðŸ’ª</div>
                                    <div class="achievement-info">
                                        <h4>BP Champion</h4>
                                        <p>Log blood pressure for 7 consecutive days</p>
                                        <div class="progress-bar">
                                            <div class="progress-fill" id="bpChampionProgress" style="width: 0%"></div>
                                        </div>
                                    </div>
                                </div>
                                <div class="achievement-card">
                                    <div class="achievement-icon">ðŸ½ï¸</div>
                                    <div class="achievement-info">
                                        <h4>Meal Master</h4>
                                        <p>Log 50 DASH-approved meals</p>
                                        <div class="progress-bar">
                                            <div class="progress-fill" id="mealMasterProgress" style="width: 0%"></div>
                                        </div>
                                    </div>
                                </div>
                                <div class="achievement-card">
                                    <div class="achievement-icon">ðŸƒ</div>
                                    <div class="achievement-info">
                                        <h4>Fitness Pro</h4>
                                        <p>Complete 20 workout sessions</p>
                                        <div class="progress-bar">
                                            <div class="progress-fill" id="fitnessProProgress" style="width: 0%"></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Statistics Tab -->
                        <div id="statisticsTab" class="tab-pane">
                            <div class="stats-grid">
                                <div class="stat-box">
                                    <div class="stat-number" id="totalDays">0</div>
                                    <div class="stat-label">Total Days Tracked</div>
                                </div>
                                <div class="stat-box">
                                    <div class="stat-number" id="bpReadings">0</div>
                                    <div class="stat-label">BP Readings</div>
                                </div>
                                <div class="stat-box">
                                    <div class="stat-number" id="mealsLogged">0</div>
                                    <div class="stat-label">Meals Logged</div>
                                </div>
                                <div class="stat-box">
                                    <div class="stat-number" id="workoutsCompleted">0</div>
                                    <div class="stat-label">Workouts Completed</div>
                                </div>
                                <div class="stat-box">
                                    <div class="stat-number" id="medicationsTaken">0</div>
                                    <div class="stat-label">Medications Taken</div>
                                </div>
                                <div class="stat-box">
                                    <div class="stat-number" id="achievementsUnlocked">0</div>
                                    <div class="stat-label">Achievements Unlocked</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Medications Section -->
            <div class="section" id="medications">
                <div class="section-header">
                    <i class="fas fa-pills"></i>
                    <h2>Medications</h2>
                </div>
                
                <!-- Medications Header Actions -->
                <div class="medications-header">
                    <button class="btn-primary" onclick="showAddMedicationModal()">
                        <i class="fas fa-plus"></i> Add Medication
                    </button>
                    <button class="btn-secondary" onclick="showMedicationHistory()">
                        <i class="fas fa-history"></i> History
                    </button>
                </div>

                <!-- Medications List -->
                <div id="medicationsList">
                    <!-- Medications will be loaded here -->
                </div>

                <!-- Active Reminders -->
                <div class="active-reminders-section">
                    <h3><i class="fas fa-bell"></i> Active Reminders</h3>
                    <div id="activeReminders">
                        <!-- Active reminders will be shown here -->
                    </div>
                </div>
            </div>

            <!-- AI Coach Section -->
            <div class="section" id="ai-coach">
                <div class="section-header">
                    <img src="ai-coach.png" alt="AI Coach" style="width: 24px; height: 24px; border-radius: 50%; object-fit: cover;">
                    <h2>AI Coach</h2>
                </div>
                <div class="coming-soon">
                    <i class="fas fa-tools"></i>
                    <h3>AI Assistant Coming Soon</h3>
                    <p>Your personal health coach will be ready to help you 24/7</p>
                </div>
            </div>

            <!-- Education Section -->
            <div class="section" id="education">
                <div class="section-header">
                    <i class="fas fa-book"></i>
                    <h2>Education</h2>
                </div>
                
                <!-- Education Pillar Buttons -->
                <div class="education-pillars">
                    <div class="pillar-button" onclick="openPillarModal('nutrition')">
                        <div class="pillar-icon">ðŸŽ</div>
                        <div class="pillar-content">
                            <h3>Smart Nutrition</h3>
                            <p>Learn the DASH diet principles and foods that support heart health</p>
                        </div>
                        <div class="pillar-arrow">â†’</div>
                    </div>
                    
                    <div class="pillar-button" onclick="openPillarModal('movement')">
                        <div class="pillar-icon">ðŸ’ª</div>
                        <div class="pillar-content">
                            <h3>Tailored Movement</h3>
                            <p>Safe, effective exercises designed for adults over 50</p>
                        </div>
                        <div class="pillar-arrow">â†’</div>
                    </div>
                    
                    <div class="pillar-button" onclick="openPillarModal('stress')">
                        <div class="pillar-icon">ðŸ§˜</div>
                        <div class="pillar-content">
                            <h3>Stress Management</h3>
                            <p>Proven techniques to reduce stress and improve well-being</p>
                        </div>
                        <div class="pillar-arrow">â†’</div>
                    </div>
                    
                    <div class="pillar-button" onclick="openPillarModal('sleep')">
                        <div class="pillar-icon">ðŸ˜´</div>
                        <div class="pillar-content">
                            <h3>Sleep Hygiene</h3>
                            <p>Optimize your sleep for better heart health and recovery</p>
                        </div>
                        <div class="pillar-arrow">â†’</div>
                    </div>
                    
                    <div class="pillar-button" onclick="openPillarModal('tracking')">
                        <div class="pillar-icon">ðŸ“Š</div>
                        <div class="pillar-content">
                            <h3>Tracking & Motivation</h3>
                            <p>Monitor progress and stay motivated on your health journey</p>
                        </div>
                        <div class="pillar-arrow">â†’</div>
                    </div>
                </div>

                <!-- Hidden old content -->
                <div class="education-content" style="display: none;">
                    
                    <!-- DASH Basics Tab -->
                    <div class="tab-content active" id="basics-content">
                        <div class="education-card">
                            <h3><i class="fas fa-heart"></i> What is the DASH Diet?</h3>
                            <div class="content-block">
                                <p><strong>DASH</strong> stands for <strong>D</strong>ietary <strong>A</strong>pproaches to <strong>S</strong>top <strong>H</strong>ypertension. It's a lifelong approach to healthy eating designed to help treat or prevent high blood pressure.</p>
                                
                                <h4>ðŸŽ¯ Why DASH After 50 is Different</h4>
                                <p>After 50, your body speaks a different language. The DASH Over 50 METHODâ„¢ takes a holistic approach specifically designed for adults navigating the second half of life.</p>
                                
                                <div class="highlight-box">
                                    <h4>ðŸ† Proven Benefits</h4>
                                    <ul>
                                        <li>Lower blood pressure in just 2 weeks</li>
                                        <li>Reduce risk of heart disease and stroke</li>
                                        <li>Improve energy levels and mental clarity</li>
                                        <li>Better weight management</li>
                                        <li>Enhanced overall vitality</li>
                                    </ul>
                                </div>
                            </div>
                        </div>

                        <div class="education-card">
                            <h3><i class="fas fa-chart-line"></i> How DASH Works in Your Body</h3>
                            <div class="content-block">
                                <p>The DASH diet works by reducing sodium and increasing foods rich in potassium, calcium, and magnesium â€“ nutrients that help lower blood pressure.</p>
                                
                                <div class="comparison-box">
                                    <h4>DASH vs. Other Diets</h4>
                                    <div class="comparison-item">
                                        <span class="diet-name">ðŸ¥— DASH Diet</span>
                                        <span class="benefit">âœ… Balanced, sustainable, heart-focused</span>
                                    </div>
                                    <div class="comparison-item">
                                        <span class="diet-name">ðŸ¥© Keto Diet</span>
                                        <span class="benefit">âš ï¸ Restrictive, long-term concerns</span>
                                    </div>
                                    <div class="comparison-item">
                                        <span class="diet-name">ðŸŒ± Vegan Diet</span>
                                        <span class="benefit">âš ï¸ May lack key nutrients over 50</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- 5 Pillars Tab -->
                    <div class="tab-content" id="pillars-content">
                        <div class="pillars-intro">
                            <h3><i class="fas fa-columns"></i> The 5 Pillars Framework</h3>
                            <p>The five pillars aren't separate strategiesâ€”they're interconnected elements of a single, powerful system designed specifically for adults over 50.</p>
                        </div>

                        <div class="pillars-grid">
                            <div class="pillar-card">
                                <div class="pillar-icon">
                                    <i class="fas fa-utensils"></i>
                                </div>
                                <h4>Pillar 1: Smart Nutrition</h4>
                                <p>Fuel your body with nutrient-dense foods that support heart health and sustained energy.</p>
                                <ul>
                                    <li>Sodium management</li>
                                    <li>Nutrient timing</li>
                                    <li>Portion control</li>
                                </ul>
                            </div>

                            <div class="pillar-card">
                                <div class="pillar-icon">
                                    <i class="fas fa-running"></i>
                                </div>
                                <h4>Pillar 2: Tailored Movement</h4>
                                <p>Exercise that fits your life and respects your body's changing needs after 50.</p>
                                <ul>
                                    <li>Low-impact cardio</li>
                                    <li>Strength maintenance</li>
                                    <li>Flexibility work</li>
                                </ul>
                            </div>

                            <div class="pillar-card">
                                <div class="pillar-icon">
                                    <i class="fas fa-spa"></i>
                                </div>
                                <h4>Pillar 3: Stress Management</h4>
                                <p>Effective techniques to manage stress that impacts blood pressure and overall health.</p>
                                <ul>
                                    <li>Mindfulness practices</li>
                                    <li>Breathing exercises</li>
                                    <li>Time management</li>
                                </ul>
                            </div>

                            <div class="pillar-card">
                                <div class="pillar-icon">
                                    <i class="fas fa-bed"></i>
                                </div>
                                <h4>Pillar 4: Sleep Hygiene</h4>
                                <p>Quality sleep is essential for heart health, hormone balance, and blood pressure regulation.</p>
                                <ul>
                                    <li>Sleep schedule</li>
                                    <li>Environment optimization</li>
                                    <li>Pre-sleep routine</li>
                                </ul>
                            </div>

                            <div class="pillar-card">
                                <div class="pillar-icon">
                                    <i class="fas fa-chart-line"></i>
                                </div>
                                <h4>Pillar 5: Tracking & Motivation</h4>
                                <p>Monitor progress and stay motivated with proven strategies for long-term success.</p>
                                <ul>
                                    <li>Daily logging</li>
                                    <li>Weekly reviews</li>
                                    <li>Goal setting</li>
                                </ul>
                            </div>
                        </div>

                        <div class="how-it-works">
                            <h3><i class="fas fa-puzzle-piece"></i> How the Pillars Work Together</h3>
                            <p>Each pillar reinforces the others, creating a foundation for lasting health, energy, and joy. When you improve nutrition, you have more energy for exercise. Better exercise improves sleep quality. Reduced stress helps you make better food choices.</p>
                        </div>
                    </div>

                    <!-- Nutrition Tab -->
                    <div class="tab-content" id="nutrition-content">
                        <div class="education-card">
                            <h3><i class="fas fa-apple-alt"></i> Nutritional Needs After 50</h3>
                            <div class="content-block">
                                <p>As we age, our bodies become less efficient at absorbing and utilizing nutrients. The DASH Over 50 METHODâ„¢ addresses these changes with targeted nutritional strategies.</p>
                                
                                <h4>ðŸ”¬ Key Nutrients to Prioritize</h4>
                                <div class="nutrients-grid">
                                    <div class="nutrient-item">
                                        <span class="nutrient-icon">ðŸ’ª</span>
                                        <div>
                                            <strong>Protein</strong>
                                            <p>1.0-1.2g per kg body weight</p>
                                        </div>
                                    </div>
                                    <div class="nutrient-item">
                                        <span class="nutrient-icon">ðŸ¥›</span>
                                        <div>
                                            <strong>Calcium</strong>
                                            <p>1200mg daily for bone health</p>
                                        </div>
                                    </div>
                                    <div class="nutrient-item">
                                        <span class="nutrient-icon">ðŸŒ</span>
                                        <div>
                                            <strong>Potassium</strong>
                                            <p>3500-4700mg for BP control</p>
                                        </div>
                                    </div>
                                    <div class="nutrient-item">
                                        <span class="nutrient-icon">ðŸŸ</span>
                                        <div>
                                            <strong>Vitamin D</strong>
                                            <p>800-1000 IU daily</p>
                                        </div>
                                    </div>
                                    <div class="nutrient-item">
                                        <span class="nutrient-icon">ðŸŒ¾</span>
                                        <div>
                                            <strong>Fiber</strong>
                                            <p>25-30g daily for digestion</p>
                                        </div>
                                    </div>
                                    <div class="nutrient-item">
                                        <span class="nutrient-icon">ðŸ’§</span>
                                        <div>
                                            <strong>Water</strong>
                                            <p>8-10 glasses daily minimum</p>
                                        </div>
                                    </div>
                                </div>

                                <h4>â° Nutrient Timing & Absorption Tips</h4>
                                <ul>
                                    <li><strong>Morning:</strong> Protein-rich breakfast to maintain muscle mass</li>
                                    <li><strong>Mid-day:</strong> Calcium supplements with vitamin D for better absorption</li>
                                    <li><strong>Evening:</strong> Light dinner to avoid blood pressure spikes overnight</li>
                                    <li><strong>With meals:</strong> Take fat-soluble vitamins (A, D, E, K) with healthy fats</li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <!-- Tips Tab -->
                    <div class="tab-content" id="tips-content">
                        <div class="education-card">
                            <h3><i class="fas fa-lightbulb"></i> Practical Tips for Success</h3>
                            <div class="content-block">
                                <div class="tips-grid">
                                    <div class="tip-card">
                                        <h4>ðŸ§‚ Sodium Reduction</h4>
                                        <ul>
                                            <li>Use herbs and spices instead of salt</li>
                                            <li>Rinse canned foods to remove excess sodium</li>
                                            <li>Cook from scratch when possible</li>
                                            <li>Avoid processed meats and frozen dinners</li>
                                        </ul>
                                    </div>

                                    <div class="tip-card">
                                        <h4>ðŸ’§ Hydration Habits</h4>
                                        <ul>
                                            <li>Start your day with a glass of water</li>
                                            <li>Keep a water bottle visible throughout the day</li>
                                            <li>Set reminders to drink water regularly</li>
                                            <li>Limit caffeine and alcohol intake</li>
                                        </ul>
                                    </div>

                                    <div class="tip-card">
                                        <h4>ðŸ½ï¸ Portion Control</h4>
                                        <ul>
                                            <li>Use smaller plates to naturally reduce portions</li>
                                            <li>Fill half your plate with vegetables</li>
                                            <li>Eat slowly and mindfully</li>
                                            <li>Wait 20 minutes before deciding on seconds</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Settings Section -->
            <div class="section" id="settings">
                <div class="section-header">
                    <i class="fas fa-cog"></i>
                    <h2>Settings</h2>
                </div>
                
                <div class="settings-container">
                    <!-- Profile Settings -->
                    <div class="settings-group">
                        <h3><i class="fas fa-user"></i> Profile Settings</h3>
                        <div class="setting-item">
                            <label for="profileName">Name</label>
                            <input type="text" id="profileName" placeholder="Enter your name">
                        </div>
                        <div class="setting-item">
                            <label for="profileEmail">Email</label>
                            <input type="email" id="profileEmail" placeholder="Enter your email">
                        </div>
                        <button class="btn btn-primary" onclick="saveProfileSettings()">
                            <i class="fas fa-save"></i> Save Profile
                        </button>
                    </div>

                    <!-- Health Targets -->
                    <div class="settings-group">
                        <h3><i class="fas fa-heart"></i> Health Targets</h3>
                        <div class="setting-item">
                            <label for="targetBP">Target Blood Pressure</label>
                            <select id="targetBP">
                                <option value="120/80">120/80 mmHg (Normal)</option>
                                <option value="130/80">130/80 mmHg (Elevated)</option>
                                <option value="140/90">140/90 mmHg (High Stage 1)</option>
                            </select>
                        </div>
                        <div class="setting-item">
                            <label for="targetWeight">Target Weight (lbs)</label>
                            <input type="number" id="targetWeight" placeholder="Enter target weight">
                        </div>
                        <button class="btn btn-primary" onclick="saveHealthTargets()">
                            <i class="fas fa-bullseye"></i> Save Targets
                        </button>
                    </div>

                    <!-- Notifications -->
                    <div class="settings-group">
                        <h3><i class="fas fa-bell"></i> Notifications</h3>
                        <div class="setting-item">
                            <label class="switch">
                                <input type="checkbox" id="mealReminders" checked>
                                <span class="slider"></span>
                            </label>
                            <span>Meal Reminders</span>
                        </div>
                        <div class="setting-item">
                            <label class="switch">
                                <input type="checkbox" id="medicationReminders" checked>
                                <span class="slider"></span>
                            </label>
                            <span>Medication Reminders</span>
                        </div>
                        <div class="setting-item">
                            <label class="switch">
                                <input type="checkbox" id="exerciseReminders" checked>
                                <span class="slider"></span>
                            </label>
                            <span>Exercise Reminders</span>
                        </div>
                    </div>

                    <!-- App Settings -->
                    <div class="settings-group">
                        <h3><i class="fas fa-mobile-alt"></i> App Settings</h3>
                        <div class="setting-item">
                            <label for="appTheme">Theme</label>
                            <select id="appTheme">
                                <option value="light">Light</option>
                                <option value="dark">Dark</option>
                                <option value="auto">Auto</option>
                            </select>
                        </div>
                        <div class="setting-item">
                            <label for="timeFormat">Time Format</label>
                            <select id="timeFormat">
                                <option value="12h">12-hour</option>
                                <option value="24h">24-hour</option>
                            </select>
                        </div>
                    </div>

                    <!-- Data Management -->
                    <div class="settings-group">
                        <h3><i class="fas fa-database"></i> Data Management</h3>
                        <button class="btn btn-secondary" onclick="exportData()">
                            <i class="fas fa-download"></i> Export Data
                        </button>
                        <button class="btn btn-secondary" onclick="importData()">
                            <i class="fas fa-upload"></i> Import Data
                        </button>
                        <button class="btn btn-danger" id="clearAllDataBtn">
                            <i class="fas fa-trash"></i> Clear All Data
                        </button>
                    </div>

                    <!-- About -->
                    <div class="settings-group">
                        <h3><i class="fas fa-info-circle"></i> About</h3>
                        <div class="about-content">
                            <img src="logo-transparent.png" alt="DASH Over 50" class="app-logo">
                            <h4>DASH Over 50+</h4>
                            <p>Version 1.0.0</p>
                            <p>Your complete health companion for the DASH diet lifestyle after 50.</p>
                            <div class="app-links">
                                <button class="btn btn-text" onclick="showPrivacy()">
                                    <i class="fas fa-shield-alt"></i> Privacy Policy
                                </button>
                                <button class="btn btn-text" onclick="showTerms()">
                                    <i class="fas fa-file-contract"></i> Terms of Service
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Global variables
        let currentStep = 0;
        let userData = {};

        // Debug function
        function updateDebug(message) {
            const debugEl = document.getElementById('debugInfo');
            if (debugEl) {
                debugEl.innerHTML = message;}
        }

        // Exercise functions
        function showExerciseCategory(category) {
            // Update navigation buttons
            document.querySelectorAll('.exercise-nav-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');

            // Get workouts for selected category
            const workouts = exerciseWorkouts[category];
            if (!workouts) return;

            // Generate workout HTML
            const workoutsHTML = workouts.map(workout => `
                <div class="exercise-card" onclick="showExerciseDetails('${workout.id}')">
                    <span class="exercise-difficulty">
                        <i class="fas fa-signal"></i> ${workout.difficulty}
                    </span>
                    <h3 class="exercise-title">${workout.title}</h3>
                    <p class="exercise-description">${workout.description}</p>
                    <div class="exercise-meta">
                        <span class="exercise-duration">
                            <i class="fas fa-clock"></i> ${workout.duration}
                        </span>
                        <span class="exercise-calories">
                            <i class="fas fa-fire"></i> ${workout.calories} cal
                        </span>
                    </div>
                </div>
            `).join('');

            // Add safety tips
            const safetyHTML = category === 'beginner' ? `
                <div class="exercise-safety-tip">
                    <strong><i class="fas fa-exclamation-triangle"></i> Safety First!</strong>
                    Always consult your doctor before starting any new exercise program. Start slowly and listen to your body. Stay hydrated and stop immediately if you feel pain or discomfort.
                </div>
            ` : '';

            // Update content
            document.getElementById('exerciseContent').innerHTML = `
                <div class="exercise-workout-grid">
                    ${workoutsHTML}
                </div>
                ${safetyHTML}
            `;

            // Smooth scroll to exercise section
            document.getElementById('exercise').scrollIntoView({ behavior: 'smooth' });
        }

        function showExerciseDetails(workoutId) {
            // Find workout across all categories
            let workout = null;
            for (const category in exerciseWorkouts) {
                workout = exerciseWorkouts[category].find(w => w.id === workoutId);
                if (workout) break;
            }

            if (!workout) return;

            // Create modal HTML
            const modalHTML = `
                <div class="exercise-modal" id="exerciseModal">
                    <div class="modal-overlay" onclick="closeExerciseModal()"></div>
                    <div class="modal-content">
                        <div class="modal-header">
                            <h3>${workout.title}</h3>
                            <button class="modal-close" onclick="closeExerciseModal()">
                                <i class="fas fa-times"></i>
                            </button>
                        </div>
                        <div class="modal-body">
                            <div class="exercise-info">
                                <div class="recipe-meta">
                                    <span><i class="fas fa-clock"></i> ${workout.duration}</span>
                                    <span><i class="fas fa-fire"></i> ${workout.calories} cal</span>
                                    <span><i class="fas fa-signal"></i> ${workout.difficulty}</span>
                                </div>
                            </div>

                            <div class="recipe-section">
                                <h4><i class="fas fa-info-circle"></i> Description</h4>
                                <p>${workout.description}</p>
                            </div>

                            <div class="recipe-section">
                                <h4><i class="fas fa-list-ol"></i> Instructions</h4>
                                <ol class="ingredients-list">
                                    ${workout.instructions.map(instruction => `<li>${instruction}</li>`).join('')}
                                </ol>
                            </div>

                            <div class="recipe-section">
                                <h4><i class="fas fa-star"></i> Benefits</h4>
                                <ul class="ingredients-list">
                                    ${workout.benefits.map(benefit => `<li>${benefit}</li>`).join('')}
                                </ul>
                            </div>

                            <div class="recipe-section">
                                <h4><i class="fas fa-shield-alt"></i> Safety Tips</h4>
                                <p>${workout.safety}</p>
                            </div>

                            <div class="quick-actions">
                                <button class="btn-primary" onclick="startWorkout('${workout.id}')">
                                    <i class="fas fa-play"></i> Start Workout
                                </button>
                                <button class="btn-secondary" onclick="logWorkout('${workout.id}')">
                                    <i class="fas fa-check"></i> Log Completed
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            `;

            // Add modal to page
            document.body.insertAdjacentHTML('beforeend', modalHTML);
            document.getElementById('exerciseModal').classList.add('active');
        }

        function closeExerciseModal() {
            const modal = document.getElementById('exerciseModal');
            if (modal) {
                modal.remove();
            }
        }

        function startWorkout(workoutId) {
            // Create a simple workout timer
            const modal = document.getElementById('exerciseModal');
            const workoutInfo = modal.querySelector('.modal-body');
            
            workoutInfo.innerHTML = `
                <div style="text-align: center; padding: 40px 20px;">
                    <i class="fas fa-play-circle" style="font-size: 4rem; color: var(--primary); margin-bottom: 20px;"></i>
                    <h2>Workout in Progress</h2>
                    <p style="font-size: 1.1rem; color: #64748b; margin: 20px 0;">Follow the instructions from the workout details</p>
                    <div style="background: #f8f9fa; padding: 20px; border-radius: 12px; margin: 20px 0;">
                        <p style="font-weight: 600; margin-bottom: 10px;">Quick Timer:</p>
                        <div style="font-size: 2rem; font-weight: bold; color: var(--primary);" id="workoutTimer">00:00</div>
                    </div>
                    <button class="btn-secondary" onclick="closeExerciseModal()">End Workout</button>
                </div>
            `;

            // Start timer
            let seconds = 0;
            const timerInterval = setInterval(() => {
                seconds++;
                const minutes = Math.floor(seconds / 60);
                const secs = seconds % 60;
                document.getElementById('workoutTimer').textContent = 
                    `${minutes.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;
            }, 1000);

            // Store interval to clear it when modal closes
            window.workoutTimerInterval = timerInterval;
        }

        function logWorkout(workoutId) {
            // Save workout to localStorage for progress tracking
            const workouts = JSON.parse(localStorage.getItem('loggedWorkouts') || '[]');
            workouts.push({
                id: workoutId,
                date: new Date().toISOString(),
                completed: true
            });
            localStorage.setItem('loggedWorkouts', JSON.stringify(workouts));
            
            closeExerciseModal();
            showNotification('Workout logged successfully! Great job! ðŸ’ª');
        }

        // Medications functions
        function showAddMedicationModal() {
            const modalHTML = `
                <div class="medication-modal" id="medicationModal">
                    <div class="modal-overlay" onclick="closeMedicationModal()"></div>
                    <div class="modal-content">
                        <div class="modal-header">
                            <h3>Add Medication</h3>
                            <button class="modal-close" onclick="closeMedicationModal()">
                                <i class="fas fa-times"></i>
                            </button>
                        </div>
                        <div class="modal-body">
                            <form id="medicationForm" onsubmit="saveMedication(event)">
                                <div class="recipe-section">
                                    <h4><i class="fas fa-pills"></i> Medication Details</h4>
                                    <div class="form-group">
                                        <label for="medicationName">Medication Name *</label>
                                        <input type="text" id="medicationName" required placeholder="e.g. Lisinopril">
                                    </div>
                                    <div class="form-group">
                                        <label for="medicationDosage">Dosage *</label>
                                        <input type="text" id="medicationDosage" required placeholder="es. 10mg">
                                    </div>
                                    <div class="form-group">
                                        <label for="medicationNotes">Notes (optional)</label>
                                        <textarea id="medicationNotes" rows="3" placeholder="e.g. Take with food"></textarea>
                                    </div>
                                </div>

                                <div class="recipe-section">
                                    <h4><i class="fas fa-clock"></i> Reminder Schedule</h4>
                                    <div class="form-group">
                                        <label>Frequency *</label>
                                        <select id="reminderFrequency" onchange="updateReminderTimes()" required>
                                            <option value="">Select frequency</option>
                                            <option value="once">Once a day</option>
                                            <option value="twice">Twice a day</option>
                                            <option value="three">Three times a day</option>
                                            <option value="four">Four times a day</option>
                                            <option value="custom">Personalizzato</option>
                                        </select>
                                    </div>
                                    <div id="reminderTimesContainer"></div>
                                    <div class="form-group">
                                        <label>Days of Week *</label>
                                        <div class="days-selector">
                                            <label class="day-checkbox">
                                                <input type="checkbox" name="days" value="mon"> <span>Mon</span>
                                            </label>
                                            <label class="day-checkbox">
                                                <input type="checkbox" name="days" value="tue"> <span>Tue</span>
                                            </label>
                                            <label class="day-checkbox">
                                                <input type="checkbox" name="days" value="wed"> <span>Wed</span>
                                            </label>
                                            <label class="day-checkbox">
                                                <input type="checkbox" name="days" value="thu"> <span>Thu</span>
                                            </label>
                                            <label class="day-checkbox">
                                                <input type="checkbox" name="days" value="fri"> <span>Fri</span>
                                            </label>
                                            <label class="day-checkbox">
                                                <input type="checkbox" name="days" value="sat"> <span>Sat</span>
                                            </label>
                                            <label class="day-checkbox">
                                                <input type="checkbox" name="days" value="sun"> <span>Sun</span>
                                            </label>
                                        </div>
                                    </div>
                                </div>

                                <div class="quick-actions">
                                    <button type="button" class="btn-secondary" onclick="closeMedicationModal()">Cancel</button>
                                    <button type="submit" class="btn-primary">Save Medication</button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            `;

            document.body.insertAdjacentHTML('beforeend', modalHTML);
            document.getElementById('medicationModal').classList.add('active');
        }

        function updateReminderTimes() {
            const frequency = document.getElementById('reminderFrequency').value;
            const container = document.getElementById('reminderTimesContainer');
            
            let timeInputs = '';
            const times = {
                'once': [''],
                'twice': ['Morning', 'Evening'],
                'three': ['Morning', 'Afternoon', 'Evening'],
                'four': ['Morning', 'Noon', 'Afternoon', 'Evening'],
                'custom': ['Time 1']
            };

            if (frequency && times[frequency]) {
                timeInputs = times[frequency].map((label, index) => `
                    <div class="form-group">
                        <label for="reminderTime${index}">${label || 'Time'} *</label>
                        <input type="time" id="reminderTime${index}" required>
                    </div>
                `).join('');
            }

            container.innerHTML = timeInputs;
        }

        function saveMedication(event) {
            event.preventDefault();
            
            const medication = {
                id: Date.now().toString(),
                name: document.getElementById('medicationName').value,
                dosage: document.getElementById('medicationDosage').value,
                notes: document.getElementById('medicationNotes').value,
                frequency: document.getElementById('reminderFrequency').value,
                days: Array.from(document.querySelectorAll('input[name="days"]:checked')).map(cb => cb.value),
                times: [],
                createdAt: new Date().toISOString()
            };

            // Get reminder times
            const timeInputs = document.querySelectorAll('[id^="reminderTime"]');
            medication.times = Array.from(timeInputs).map(input => input.value);

            // Save to medications array
            medications.push(medication);
            localStorage.setItem('medications', JSON.stringify(medications));

            // Create reminders
            medication.times.forEach((time, index) => {
                medication.days.forEach(day => {
                    const reminder = {
                        id: `${medication.id}-${day}-${index}`,
                        medicationId: medication.id,
                        medicationName: medication.name,
                        dosage: medication.dosage,
                        time: time,
                        day: day,
                        enabled: true,
                        createdAt: new Date().toISOString()
                    };
                    medicationReminders.push(reminder);
                });
            });

            localStorage.setItem('medicationReminders', JSON.stringify(medicationReminders));

            closeMedicationModal();
            loadMedications();
            setupMedicationReminders();
            showNotification('Medication added successfully! ðŸ’Š');
        }

        function closeMedicationModal() {
            const modal = document.getElementById('medicationModal');
            if (modal) {
                modal.remove();
            }
        }

        function loadMedications() {
            const medicationsList = document.getElementById('medicationsList');
            
            if (medications.length === 0) {
                medicationsList.innerHTML = `
                    <div class="empty-state">
                        <i class="fas fa-pills" style="font-size: 3rem; color: #ccc; margin-bottom: 15px;"></i>
                        <h3>No medications added</h3>
                        <p>Tap "Add Medication" to get started</p>
                    </div>
                `;
                return;
            }

            const medicationsHTML = medications.map(medication => {
                // Format times properly
                const reminderChips = (medication.times || []).map(time => {
                    // Ensure time is in HH:MM format
                    const formattedTime = time || 'Not set';
                    return `
                        <span class="reminder-chip">
                            <i class="fas fa-clock"></i> ${formattedTime}
                        </span>
                    `;
                }).join('');

                return `
                    <div class="medication-card">
                        <div class="medication-header">
                            <div>
                                <div class="medication-name">${medication.name}</div>
                                <div class="medication-dosage">${medication.dosage}</div>
                                ${medication.notes ? `<div class="medication-notes">${medication.notes}</div>` : ''}
                            </div>
                            <div class="medication-actions">
                                <button class="medication-action-btn" onclick="editMedication('${medication.id}')" title="Edit">
                                    <i class="fas fa-edit"></i>
                                </button>
                                <button class="medication-action-btn delete" onclick="deleteMedication('${medication.id}')" title="Delete">
                                    <i class="fas fa-trash"></i>
                                </button>
                            </div>
                        </div>
                        <div class="medication-reminders">
                            ${reminderChips}
                        </div>
                    </div>
                `;
            }).join('');

            medicationsList.innerHTML = `<div class="medications-list">${medicationsHTML}</div>`;
        }

        function deleteMedication(medicationId) {
            if (confirm('Sei sicuro di voler eliminare questo farmaco?')) {
                medications = medications.filter(m => m.id !== medicationId);
                medicationReminders = medicationReminders.filter(r => r.medicationId !== medicationId);
                
                localStorage.setItem('medications', JSON.stringify(medications));
                localStorage.setItem('medicationReminders', JSON.stringify(medicationReminders));
                
                loadMedications();
                loadActiveReminders();
                showNotification('Medication deleted');
            }
        }

        function loadActiveReminders() {
            const activeReminders = document.getElementById('activeReminders');
            const today = new Date().toLocaleDateString('en-US', { weekday: 'short' }).toLowerCase();
            const now = new Date();
            const currentTime = now.getHours().toString().padStart(2, '0') + ':' + now.getMinutes().toString().padStart(2, '0');
            
            const todaysReminders = medicationReminders.filter(reminder => 
                reminder.enabled && reminder.day === today
            );

            if (todaysReminders.length === 0) {
                activeReminders.innerHTML = `
                    <div class="empty-state">
                        <i class="fas fa-bell-slash" style="font-size: 2rem; color: #ccc; margin-bottom: 10px;"></i>
                        <p>No reminders for today</p>
                    </div>
                `;
                return;
            }

            const remindersHTML = todaysReminders.map(reminder => {
                const isPast = currentTime > reminder.time;
                const statusClass = isPast ? 'snoozed' : 'active';
                const statusIcon = isPast ? 'fa-clock' : 'fa-bell';
                
                return `
                    <div class="reminder-item">
                        <div class="reminder-info">
                            <div class="reminder-time">${reminder.time}</div>
                            <div class="reminder-medication">${reminder.medicationName} - ${reminder.dosage}</div>
                        </div>
                        <div class="reminder-status ${statusClass}">
                            <i class="fas ${statusIcon}"></i>
                            ${isPast ? 'Expired' : 'Scheduled'}
                        </div>
                    </div>
                `;
            }).join('');

            activeReminders.innerHTML = remindersHTML;
        }

        function setupMedicationReminders() {
            // Request notification permission
            if ('Notification' in window && Notification.permission === 'default') {
                Notification.requestPermission();
            }

            // Check reminders every minute
            setInterval(checkMedicationReminders, 60000);
            
            // Check immediately
            checkMedicationReminders();
        }

        function checkMedicationReminders() {
            const now = new Date();
            const currentDay = now.toLocaleDateString('en-US', { weekday: 'short' }).toLowerCase();
            const currentHour = now.getHours().toString().padStart(2, '0');
            const currentMinute = now.getMinutes().toString().padStart(2, '0');
            const currentTime = `${currentHour}:${currentMinute}`;medicationReminders.forEach(reminder => {
                if (reminder.enabled && reminder.day === currentDay && reminder.time === currentTime) {triggerMedicationReminder(reminder);
                }
            });
        }

        function triggerMedicationReminder(reminder) {
            // Show browser notification
            if ('Notification' in window && Notification.permission === 'granted') {
                new Notification('Medication Reminder ðŸ’Š', {
                    body: `It is time to take ${reminder.medicationName} - ${reminder.dosage}`,
                    icon: 'https://cdn-icons-png.flaticon.com/512/3075/3075975.png',
                    requireInteraction: true
                });
            }

            // Show in-app notification
            showNotification(`ðŸ’Š It is time to take ${reminder.medicationName} - ${reminder.dosage}`, 10000);
        }

        function showMedicationHistory() {
            showNotification('History farmaci in arrivo! ðŸ“Š');
        }

        function editMedication(medicationId) {
            const medication = medications.find(m => m.id === medicationId);
            if (!medication) return;

            const modalHTML = `
                <div class="medication-modal" id="medicationModal">
                    <div class="modal-overlay" onclick="closeMedicationModal()"></div>
                    <div class="modal-content">
                        <div class="modal-header">
                            <h3>Edit Medication</h3>
                            <button class="modal-close" onclick="closeMedicationModal()">
                                <i class="fas fa-times"></i>
                            </button>
                        </div>
                        <div class="modal-body">
                            <form id="medicationForm" onsubmit="updateMedication(event, '${medicationId}')">
                                <div class="recipe-section">
                                    <h4><i class="fas fa-pills"></i> Medication Details</h4>
                                    <div class="form-group">
                                        <label for="medicationName">Medication Name *</label>
                                        <input type="text" id="medicationName" required placeholder="e.g. Lisinopril" value="${medication.name}">
                                    </div>
                                    <div class="form-group">
                                        <label for="medicationDosage">Dosage *</label>
                                        <input type="text" id="medicationDosage" required placeholder="es. 10mg" value="${medication.dosage}">
                                    </div>
                                    <div class="form-group">
                                        <label for="medicationNotes">Notes (optional)</label>
                                        <textarea id="medicationNotes" rows="3" placeholder="e.g. Take with food">${medication.notes || ''}</textarea>
                                    </div>
                                </div>

                                <div class="recipe-section">
                                    <h4><i class="fas fa-clock"></i> Reminder Schedule</h4>
                                    <div class="form-group">
                                        <label>Frequency *</label>
                                        <select id="reminderFrequency" onchange="updateReminderTimes()" required>
                                            <option value="">Select frequency</option>
                                            <option value="once" ${medication.frequency === 'once' ? 'selected' : ''}>Once a day</option>
                                            <option value="twice" ${medication.frequency === 'twice' ? 'selected' : ''}>Twice a day</option>
                                            <option value="three" ${medication.frequency === 'three' ? 'selected' : ''}>Three times a day</option>
                                            <option value="four" ${medication.frequency === 'four' ? 'selected' : ''}>Four times a day</option>
                                            <option value="custom" ${medication.frequency === 'custom' ? 'selected' : ''}>Personalizzato</option>
                                        </select>
                                    </div>
                                    <div id="reminderTimesContainer"></div>
                                    <div class="form-group">
                                        <label>Days of Week *</label>
                                        <div class="days-selector">
                                            <label class="day-checkbox">
                                                <input type="checkbox" name="days" value="mon" ${medication.days.includes('mon') ? 'checked' : ''}> <span>Mon</span>
                                            </label>
                                            <label class="day-checkbox">
                                                <input type="checkbox" name="days" value="tue" ${medication.days.includes('tue') ? 'checked' : ''}> <span>Tue</span>
                                            </label>
                                            <label class="day-checkbox">
                                                <input type="checkbox" name="days" value="wed" ${medication.days.includes('wed') ? 'checked' : ''}> <span>Wed</span>
                                            </label>
                                            <label class="day-checkbox">
                                                <input type="checkbox" name="days" value="thu" ${medication.days.includes('thu') ? 'checked' : ''}> <span>Thu</span>
                                            </label>
                                            <label class="day-checkbox">
                                                <input type="checkbox" name="days" value="fri" ${medication.days.includes('fri') ? 'checked' : ''}> <span>Fri</span>
                                            </label>
                                            <label class="day-checkbox">
                                                <input type="checkbox" name="days" value="sat" ${medication.days.includes('sat') ? 'checked' : ''}> <span>Sat</span>
                                            </label>
                                            <label class="day-checkbox">
                                                <input type="checkbox" name="days" value="sun" ${medication.days.includes('sun') ? 'checked' : ''}> <span>Sun</span>
                                            </label>
                                        </div>
                                    </div>
                                </div>

                                <div class="quick-actions">
                                    <button type="button" class="btn-secondary" onclick="closeMedicationModal()">Cancel</button>
                                    <button type="submit" class="btn-primary">Update Medication</button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            `;

            document.body.insertAdjacentHTML('beforeend', modalHTML);
            document.getElementById('medicationModal').classList.add('active');
            
            // Populate times after modal is added
            setTimeout(() => {
                updateReminderTimesForEdit(medication);
            }, 100);
        }

        function updateReminderTimesForEdit(medication) {
            const frequency = medication.frequency;
            const container = document.getElementById('reminderTimesContainer');
            
            let timeInputs = '';
            const times = {
                'once': [''],
                'twice': ['Morning', 'Evening'],
                'three': ['Morning', 'Afternoon', 'Evening'],
                'four': ['Morning', 'Noon', 'Afternoon', 'Evening'],
                'custom': ['Time 1']
            };

            if (frequency && times[frequency]) {
                timeInputs = times[frequency].map((label, index) => `
                    <div class="form-group">
                        <label for="reminderTime${index}">${label || 'Time'} *</label>
                        <input type="time" id="reminderTime${index}" value="${medication.times[index] || ''}" required>
                    </div>
                `).join('');
            }

            container.innerHTML = timeInputs;
        }

        function updateMedication(event, medicationId) {
            event.preventDefault();
            
            // Remove old medication and reminders
            medications = medications.filter(m => m.id !== medicationId);
            medicationReminders = medicationReminders.filter(r => r.medicationId !== medicationId);

            // Create updated medication
            const medication = {
                id: medicationId,
                name: document.getElementById('medicationName').value,
                dosage: document.getElementById('medicationDosage').value,
                notes: document.getElementById('medicationNotes').value,
                frequency: document.getElementById('reminderFrequency').value,
                days: Array.from(document.querySelectorAll('input[name="days"]:checked')).map(cb => cb.value),
                times: [],
                createdAt: new Date().toISOString()
            };

            // Get reminder times
            const timeInputs = document.querySelectorAll('[id^="reminderTime"]');
            medication.times = Array.from(timeInputs).map(input => input.value);

            // Save updated medication
            medications.push(medication);
            localStorage.setItem('medications', JSON.stringify(medications));

            // Create new reminders
            medication.times.forEach((time, index) => {
                medication.days.forEach(day => {
                    const reminder = {
                        id: `${medication.id}-${day}-${index}`,
                        medicationId: medication.id,
                        medicationName: medication.name,
                        dosage: medication.dosage,
                        time: time,
                        day: day,
                        enabled: true,
                        createdAt: new Date().toISOString()
                    };
                    medicationReminders.push(reminder);
                });
            });

            localStorage.setItem('medicationReminders', JSON.stringify(medicationReminders));

            closeMedicationModal();
            loadMedications();
            setupMedicationReminders();
            showNotification('Medication updated successfully! ðŸ’Š');
        }

        // Blood Pressure Functions
        let bpReadings = [];
        let currentChartPeriod = 'week';
        
        // Initialize BP readings safely
        function initializeBPReadings() {
            try {
                const stored = localStorage.getItem('bpReadings');
                if (stored) {
                    const parsed = JSON.parse(stored);
                    bpReadings = Array.isArray(parsed) ? parsed : [];
                } else {
                    bpReadings = [];
                }
            } catch (error) {bpReadings = [];
                localStorage.removeItem('bpReadings');
            }
        }

        // Initialize Blood Pressure section
        function initializeBloodPressure() {// Initialize readings first
            initializeBPReadings();
            
            // Simple and direct approach
            setTimeout(() => {
                const bpForm = document.getElementById('bpForm');if (bpForm) {
                    // Remove existing listeners to prevent duplicates
                    bpForm.removeEventListener('submit', handleBPSubmit);
                    // Add new listener
                    bpForm.addEventListener('submit', handleBPSubmit);}
                
                // Setup preview
                const systolicInput = document.getElementById('systolic');
                const diastolicInput = document.getElementById('diastolic');
                
                if (systolicInput) {
                    systolicInput.addEventListener('input', updateBPPreview);
                }
                if (diastolicInput) {
                    diastolicInput.addEventListener('input', updateBPPreview);
                }
                
                // Initialize components
                loadBPStatistics();
                loadBPHistory();
                setupChartControls();
                updateBPPreview();
                drawBPChart();}, 300);
        }
        
        // Separate handler for BP form submission
        function handleBPSubmit(e) {
            e.preventDefault();saveBPReading();
        }

        // Setup BP form
        function setupBPForm() {
            const bpForm = document.getElementById('bpForm');if (bpForm) {
                bpForm.addEventListener('submit', function(e) {
                    e.preventDefault();saveBPReading();
                });
            } else {}

            // Setup real-time preview
            const systolicInput = document.getElementById('systolic');
            const diastolicInput = document.getElementById('diastolic');
            
            if (systolicInput) {
                systolicInput.addEventListener('input', updateBPPreview);
            }
            if (diastolicInput) {
                diastolicInput.addEventListener('input', updateBPPreview);
            }
        }

        // Update BP preview
        function updateBPPreview() {
            const systolic = document.getElementById('systolic').value;
            const diastolic = document.getElementById('diastolic').value;
            const previewCard = document.getElementById('bpPreview');
            
            if (systolic && diastolic) {
                const category = getBPCategory(parseInt(systolic), parseInt(diastolic));
                previewCard.innerHTML = `
                    <div class="preview-value">${systolic}/${diastolic}</div>
                    <div class="preview-category">${category}</div>
                `;
                
                // Update preview card color based on category
                previewCard.className = 'preview-card ' + category.toLowerCase().replace(' ', '-');
            } else {
                previewCard.innerHTML = `
                    <div class="preview-value">--/--</div>
                    <div class="preview-category">Enter reading above</div>
                `;
                previewCard.className = 'preview-card';
            }
        }

        // Get BP category
        function getBPCategory(systolic, diastolic) {
            if (systolic < 120 && diastolic < 80) {
                return 'Normal';
            } else if (systolic >= 120 && systolic <= 129 && diastolic < 80) {
                return 'Elevated';
            } else if ((systolic >= 130 && systolic <= 139) || (diastolic >= 80 && diastolic <= 89)) {
                return 'Stage 1';
            } else if (systolic >= 140 || diastolic >= 90) {
                return 'Stage 2';
            }
            return 'Normal';
        }

        // Save BP reading
        function saveBPReading() {const systolicInput = document.getElementById('systolic');
            const diastolicInput = document.getElementById('diastolic');
            const pulseInput = document.getElementById('pulse');
            const notesInput = document.getElementById('bpNotes');if (!systolicInput || !diastolicInput) {return;
            }
            
            const systolic = parseInt(systolicInput.value);
            const diastolic = parseInt(diastolicInput.value);
            const pulse = pulseInput ? pulseInput.value : '';
            const notes = notesInput ? notesInput.value : '';if (!systolic || !diastolic) {return;
            }
            
            const reading = {
                id: Date.now(),
                systolic: systolic,
                diastolic: diastolic,
                pulse: pulse ? parseInt(pulse) : null,
                notes: notes,
                category: getBPCategory(systolic, diastolic),
                date: new Date().toISOString()
            };bpReadings.unshift(reading); // Add to beginning
            localStorage.setItem('bpReadings', JSON.stringify(bpReadings));// Reset form
            document.getElementById('bpForm').reset();
            updateBPPreview();
            
            // Update displays
            loadBPStatistics();
            loadBPHistory();
            drawBPChart();
            
            showNotification('Blood pressure reading saved successfully! â¤ï¸');
        }

        // Load BP statistics
        function loadBPStatistics() {
            
            // Update BP section
            const latestBPElem = document.getElementById('latestBP');
            const avgBPElem = document.getElementById('avgBP');
            const totalReadingsElem = document.getElementById('totalReadings');
            const daysTrackedElem = document.getElementById('daysTracked');
            
            if (latestBPElem) {
                if (bpReadings.length > 0 && bpReadings[0]) {
                    latestBPElem.textContent = `${bpReadings[0].systolic}/${bpReadings[0].diastolic}`;
                } else {
                    latestBPElem.textContent = '--/--';
                }
            }
            
            if (avgBPElem) {
                if (bpReadings.length === 0) {
                    avgBPElem.textContent = '--/--';
                } else {
                    // Safe reduce with validation
                    const validReadings = bpReadings.filter(r => r && r.systolic && r.diastolic);
                    if (validReadings.length > 0) {
                        const avgSystolic = Math.round(validReadings.reduce((sum, r) => sum + r.systolic, 0) / validReadings.length);
                        const avgDiastolic = Math.round(validReadings.reduce((sum, r) => sum + r.diastolic, 0) / validReadings.length);
                        avgBPElem.textContent = `${avgSystolic}/${avgDiastolic}`;
                    } else {
                        avgBPElem.textContent = '--/--';
                    }
                }
            }
            
            if (totalReadingsElem) totalReadingsElem.textContent = bpReadings.length.toString();
            if (daysTrackedElem) {
                const validDates = bpReadings.filter(r => r && r.date).map(r => new Date(r.date).toDateString());
                const uniqueDays = validDates.length > 0 ? new Set(validDates).size : 0;
                daysTrackedElem.textContent = uniqueDays.toString();
            }
            
            // Update dashboard BP widget
            updateDashboardBP();
        }
        
        // Update dashboard BP widget
        function updateDashboardBP() {
            const dashboardBPElem = document.getElementById('dashboardBP');
            if (dashboardBPElem && bpReadings.length > 0) {
                const latest = bpReadings[0];
                dashboardBPElem.textContent = `${latest.systolic}/${latest.diastolic}`;
            }
        }

        // Load BP history
        function loadBPHistory() {
            const historyList = document.getElementById('bpHistoryList');
            
            if (bpReadings.length === 0) {
                historyList.innerHTML = '<div class="empty-state"><p>No readings yet. Add your first reading above!</p></div>';
                return;
            }
            
            historyList.innerHTML = bpReadings.slice(0, 50).map(reading => {
                const date = new Date(reading.date);
                const dateStr = date.toLocaleDateString() + ' ' + date.toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'});
                
                return `
                    <div class="history-item">
                        <div class="history-info">
                            <div class="history-reading">${reading.systolic}/${reading.diastolic}</div>
                            <div class="history-date">${dateStr}</div>
                            ${reading.pulse ? `<div class="history-date">Pulse: ${reading.pulse} bpm</div>` : ''}
                            ${reading.notes ? `<div class="history-notes">${reading.notes}</div>` : ''}
                        </div>
                        <div class="history-category ${reading.category.toLowerCase().replace(' ', '-')}">
                            ${reading.category}
                        </div>
                    </div>
                `;
            }).join('');
        }

        // Setup chart controls
        function setupChartControls() {
            const chartBtns = document.querySelectorAll('.chart-btn');
            chartBtns.forEach(btn => {
                btn.addEventListener('click', function() {
                    chartBtns.forEach(b => b.classList.remove('active'));
                    this.classList.add('active');
                    currentChartPeriod = this.dataset.period;
                    drawBPChart();
                });
            });
        }

        // Draw BP chart
        function drawBPChart() {
            const canvas = document.getElementById('bpChart');
            if (!canvas) return;
            
            const ctx = canvas.getContext('2d');
            const filteredReadings = getFilteredReadings();
            
            if (filteredReadings.length === 0) {
                // Clear canvas
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                ctx.fillStyle = '#666';
                ctx.font = '14px Arial';
                ctx.textAlign = 'center';
                ctx.fillText('No data available for selected period', canvas.width / 2, canvas.height / 2);
                return;
            }
            
            // Setup canvas dimensions
            const padding = 40;
            const chartWidth = canvas.width - (padding * 2);
            const chartHeight = canvas.height - (padding * 2);
            
            // Clear canvas
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            // Find min and max values
            const allSystolic = filteredReadings.map(r => r.systolic);
            const allDiastolic = filteredReadings.map(r => r.diastolic);
            const maxSystolic = Math.max(...allSystolic);
            const minSystolic = Math.min(...allSystolic);
            const maxDiastolic = Math.max(...allDiastolic);
            const minDiastolic = Math.min(...allDiastolic);
            
            const maxValue = Math.ceil((maxSystolic + 10) / 10) * 10;
            const minValue = Math.floor((minDiastolic - 10) / 10) * 10;
            
            // Draw axes
            ctx.strokeStyle = '#ddd';
            ctx.lineWidth = 1;
            ctx.beginPath();
            ctx.moveTo(padding, padding);
            ctx.lineTo(padding, canvas.height - padding);
            ctx.lineTo(canvas.width - padding, canvas.height - padding);
            ctx.stroke();
            
            // Draw grid lines
            const gridLines = 5;
            for (let i = 0; i <= gridLines; i++) {
                const y = padding + (chartHeight / gridLines) * i;
                const value = maxValue - ((maxValue - minValue) / gridLines) * i;
                
                ctx.strokeStyle = '#f0f0f0';
                ctx.beginPath();
                ctx.moveTo(padding, y);
                ctx.lineTo(canvas.width - padding, y);
                ctx.stroke();
                
                ctx.fillStyle = '#666';
                ctx.font = '12px Arial';
                ctx.textAlign = 'right';
                ctx.fillText(Math.round(value), padding - 10, y + 4);
            }
            
            // Draw data points and lines
            if (filteredReadings.length > 0) {
                const xStep = chartWidth / (filteredReadings.length - 1 || 1);
                
                // Draw systolic line
                ctx.strokeStyle = '#FF6B6B';
                ctx.lineWidth = 2;
                ctx.beginPath();
                filteredReadings.forEach((reading, index) => {
                    const x = padding + (xStep * index);
                    const y = padding + ((maxValue - reading.systolic) / (maxValue - minValue)) * chartHeight;
                    
                    if (index === 0) {
                        ctx.moveTo(x, y);
                    } else {
                        ctx.lineTo(x, y);
                    }
                });
                ctx.stroke();
                
                // Draw diastolic line
                ctx.strokeStyle = '#4ECDC4';
                ctx.beginPath();
                filteredReadings.forEach((reading, index) => {
                    const x = padding + (xStep * index);
                    const y = padding + ((maxValue - reading.diastolic) / (maxValue - minValue)) * chartHeight;
                    
                    if (index === 0) {
                        ctx.moveTo(x, y);
                    } else {
                        ctx.lineTo(x, y);
                    }
                });
                ctx.stroke();
                
                // Draw data points
                filteredReadings.forEach((reading, index) => {
                    const x = padding + (xStep * index);
                    const ySystolic = padding + ((maxValue - reading.systolic) / (maxValue - minValue)) * chartHeight;
                    const yDiastolic = padding + ((maxValue - reading.diastolic) / (maxValue - minValue)) * chartHeight;
                    
                    // Systolic point
                    ctx.fillStyle = '#FF6B6B';
                    ctx.beginPath();
                    ctx.arc(x, ySystolic, 4, 0, Math.PI * 2);
                    ctx.fill();
                    
                    // Diastolic point
                    ctx.fillStyle = '#4ECDC4';
                    ctx.beginPath();
                    ctx.arc(x, yDiastolic, 4, 0, Math.PI * 2);
                    ctx.fill();
                });
            }
        }

        // Get filtered readings based on period
        function getFilteredReadings() {
            const now = new Date();
            let startDate = new Date();
            
            switch (currentChartPeriod) {
                case 'week':
                    startDate.setDate(now.getDate() - 7);
                    break;
                case 'month':
                    startDate.setMonth(now.getMonth() - 1);
                    break;
                case '3months':
                    startDate.setMonth(now.getMonth() - 3);
                    break;
                case 'all':
                default:
                    return bpReadings.slice().reverse(); // Show oldest to newest for chart
            }
            
            return bpReadings
                .filter(r => new Date(r.date) >= startDate)
                .slice()
                .reverse(); // Show oldest to newest for chart
        }

        // Export BP data
        function exportBPData() {
            if (bpReadings.length === 0) {
                showNotification('No data to export');
                return;
            }
            
            const csvContent = 'Date,Time,Systolic,Diastolic,Pulse,Category,Notes\n' +
                bpReadings.map(reading => {
                    const date = new Date(reading.date);
                    return `${date.toLocaleDateString()},${date.toLocaleTimeString()},${reading.systolic},${reading.diastolic},${reading.pulse || ''},${reading.category},"${reading.notes || ''}"`;
                }).join('\n');
            
            const blob = new Blob([csvContent], { type: 'text/csv' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `bp-readings-${new Date().toISOString().split('T')[0]}.csv`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
            
            showNotification('BP data exported successfully!');
        }

        // Test BP Save function
        function testBPSave() {// Create test reading
            const testReading = {
                id: Date.now(),
                systolic: 120,
                diastolic: 80,
                pulse: 72,
                notes: 'Test reading',
                category: 'Normal',
                date: new Date().toISOString()
            };bpReadings.unshift(testReading);
            localStorage.setItem('bpReadings', JSON.stringify(bpReadings));// Update displays
            loadBPStatistics();
            loadBPHistory();
            drawBPChart();
            
            showNotification('Test BP reading saved! Test values: 120/80');
        }

        // Clear BP data
        function clearBPData() {
            if (confirm('Are you sure you want to delete all blood pressure readings? This cannot be undone.')) {
                bpReadings = [];
                localStorage.removeItem('bpReadings');
                loadBPStatistics();
                loadBPHistory();
                drawBPChart();
                showNotification('All BP data cleared');
            }
        }

        // Initialize app when DOM is loaded
        
        // Request notification permission on page load
        if ('Notification' in window && Notification.permission === 'default') {
            Notification.requestPermission().then(permission => {});
        }

        document.addEventListener('DOMContentLoaded', function() {// Clear All Data button handler
        const clearBtn = document.getElementById('clearAllDataBtn');
        if (clearBtn) {clearBtn.addEventListener('click', function() {// Direct clear without confirm (sandbox blocks modals)
                localStorage.clear();location.reload();
            });
        }
        
        // Get Started button handler moved to DOMContentLoaded section below
        
            updateDebug('DOM Loaded - Initializing...');
            applyThemeOnStartup();
            checkOnboardingStatus();
            initializeNavigation();
            
            // Initialize medications section
            loadMedications();
            loadActiveReminders();
            setupMedicationReminders();
               // Initialize blood pressure section
               initializeBPReadings(); // Initialize readings first
               initializeBloodPressure();

            
            updateDebug('App Ready');
        });

        // Apply theme on startup
        function applyThemeOnStartup() {
            const appSettings = JSON.parse(localStorage.getItem('dashAppSettings') || '{}');
            const theme = appSettings.theme || 'light';
            
            applyTheme(theme);
            
            updateDebug('Theme applied: ' + theme);
        }

        // Onboarding Functions
        function checkOnboardingStatus() {
            updateDebug('Checking onboarding status...');
            const hasCompletedOnboarding = localStorage.getItem('dashOnboardingComplete');
            updateDebug('Onboarding completed: ' + hasCompletedOnboarding);
            
            if (hasCompletedOnboarding === 'true') {
                updateDebug('Showing main app');
                showMainApp();
                loadUserData();
            } else {
                updateDebug('Showing welcome screen');
                // Ensure welcome screen is shown
                hideAllScreens();
                document.getElementById('welcomeScreen').classList.add('active');
            }
        }

        function startOnboarding() {
            updateDebug('Starting onboarding...');
            // Clear any existing completion
            localStorage.removeItem('dashOnboardingComplete');
            localStorage.removeItem('dashUserData');
            
            hideAllScreens();
            document.getElementById('step1Screen').classList.add('active');
            currentStep = 1;
            updateProgressBar();
            updateDebug('Step 1 active');
        }

        function goToWelcome() {
            updateDebug('Going back to welcome...');
            hideAllScreens();
            document.getElementById('welcomeScreen').classList.add('active');
            currentStep = 0;
            updateDebug('Welcome screen active');
        }

        function hideAllScreens() {
            const screens = document.querySelectorAll('.onboarding-screen');
            updateDebug('Hiding ' + screens.length + ' screens');
            screens.forEach(screen => {
                screen.classList.remove('active');
            });
        }

        function nextStep(step) {
            updateDebug('Next step from ' + step);
            
            // Validate current step before proceeding
            if (step === 1) {
                const name = document.getElementById('userName').value.trim();
                const email = document.getElementById('userEmail').value.trim();
                
                if (!name || name.length < 2) {
                    alert('Please enter your name (minimum 2 characters)');
                    return;
                }
                
                if (!email || !email.includes('@') || !email.includes('.')) {
                    alert('Please enter a valid email address');
                    return;
                }
                
                userData.name = name;
                userData.email = email;
                updateDebug('Saved step 1: ' + userData.name);
                
            } else if (step === 2) {
                const age = document.getElementById('userAge').value;
                const weight = document.getElementById('userWeight').value;
                const height = document.getElementById('userHeight').value;
                const gender = document.getElementById('userGender').value;
                
                if (!age || age < 50 || age > 120) {
                    alert('Please enter a valid age between 50 and 120');
                    return;
                }
                
                if (!weight || weight < 30 || weight > 300) {
                    alert('Please enter a valid weight between 30 and 300 kg');
                    return;
                }
                
                if (!height || height < 100 || height > 250) {
                    alert('Please enter a valid height between 100 and 250 cm');
                    return;
                }
                
                if (!gender) {
                    alert('Please select your gender');
                    return;
                }
                
                userData.age = age;
                userData.weight = weight;
                userData.height = height;
                userData.gender = gender;
                updateDebug('Saved step 2: Age ' + userData.age);
                
            } else if (step === 3) {
                const activityLevel = document.getElementById('userActivity').value;
                const healthConcerns = document.getElementById('userConcerns').value;
                
                if (!activityLevel) {
                    alert('Please select your activity level');
                    return;
                }
                
                userData.activityLevel = activityLevel;
                userData.healthConcerns = healthConcerns;
                updateDebug('Saved step 3: Activity ' + activityLevel);
            }

            hideAllScreens();
            var nextScreen = document.getElementById('step' + (step + 1) + 'Screen');
            if (nextScreen) {
                nextScreen.classList.add('active');
                currentStep = step + 1;
                updateProgressBar();
                updateDebug('Step ' + currentStep + ' active');
            } else {
                updateDebug('ERROR: Step ' + (step + 1) + ' not found');
            }
        }

        function prevStep(step) {
            updateDebug('Previous step from ' + step);
            hideAllScreens();
            var prevScreen = document.getElementById('step' + (step - 1) + 'Screen');
            if (prevScreen) {
                prevScreen.classList.add('active');
                currentStep = step - 1;
                updateProgressBar();
                updateDebug('Step ' + currentStep + ' active');
            } else {
                updateDebug('ERROR: Step ' + (step - 1) + ' not found');
            }
        }

        function updateProgressBar() {
            const progressBar = document.getElementById('progressBar');
            const progress = (currentStep / 4) * 100;
            progressBar.style.width = progress + '%';
            updateDebug('Progress: ' + progress + '%');
        }

        function completeOnboarding() {
            updateDebug('Completing onboarding...');
            
            // Get step 3 data before validation
            const userActivity = document.getElementById('userActivity').value;
            const userConcerns = document.getElementById('userConcerns').value;
            
            // Final validation - ensure all required data is present
            if (!userData.name || !userData.email || !userData.age || !userData.weight || !userData.height || !userData.gender || !userActivity) {
                alert('Please complete all required fields before proceeding.');
                return;
            }
            
            // Save step 3 data
            userData.activity = userActivity;
            userData.activityLevel = userActivity; // Keep both for consistency
            userData.concerns = userConcerns;
            
            updateDebug('Final data: ' + JSON.stringify(userData));
            
            // Save to localStorage
            localStorage.setItem('dashUserData', JSON.stringify(userData));
            localStorage.setItem('dashOnboardingComplete', 'true');
            localStorage.setItem('dashOnboardingDate', new Date().toISOString());
            
            updateDebug('Onboarding saved - showing main app');
            showMainApp();
            loadUserData();
        }

        function showMainApp() {
            updateDebug('Showing main application');
            document.getElementById('onboardingContainer').style.display = 'none';
            document.getElementById('mainApp').style.display = 'block';
        }

        function loadUserData() {
            const savedData = localStorage.getItem('dashUserData');
            if (savedData) {
                userData = JSON.parse(savedData);
                document.getElementById('displayName').textContent = userData.name || 'User';
                updateDebug('Loaded user: ' + userData.name);
            }
        }

        function resetAll() {
            updateDebug('Resetting ALL data...');
            localStorage.clear();
            userData = {};
            currentStep = 0;
            location.reload();
        }

        // Navigation Functions
        function initializeNavigation() {
            const navItems = document.querySelectorAll('.nav-item');
            navItems.forEach(item => {
                item.addEventListener('click', function() {
                    const section = this.getAttribute('data-section');
                    navigateToSection(section);
                    
                    // Initialize BP section if needed
                    if (section === 'bp') {
                        setTimeout(() => {initializeBPReadings(); // Ensure data is loaded
                            if (!document.getElementById('bpForm')) {initializeBloodPressure();
                            } else {const bpForm = document.getElementById('bpForm');
                                bpForm.removeEventListener('submit', handleBPSubmit);
                                bpForm.addEventListener('submit', handleBPSubmit);
                                setupChartControls();
                                updateBPPreview();
                                loadBPStatistics();
                            }
                        }, 200);
                    }
                });
            });
        }

        function navigateToSection(sectionId) {
            updateDebug('Navigating to: ' + sectionId);
            
            // Update nav items
            const navItems = document.querySelectorAll('.nav-item');
            navItems.forEach(item => {
                item.classList.remove('active');
                if (item.getAttribute('data-section') === sectionId) {
                    item.classList.add('active');
                }
            });

            // Update sections
            const sections = document.querySelectorAll('.section');
            sections.forEach(section => {
                section.classList.remove('active');
            });
            
            const targetSection = document.getElementById(sectionId);
            if (targetSection) {
                targetSection.classList.add('active');
                updateDebug('Section ' + sectionId + ' active');
                
                // Load settings data if settings section
                if (sectionId === 'settings') {
                    loadSettingsData();
                }
                
                // Initialize meals section if meals section
                if (sectionId === 'meals') {
                    setTimeout(() => {
                        initializeMealsSection();
                    }, 100);
                }
            } else {
                updateDebug('Section ' + sectionId + ' not found');
            }
        }

        // Settings Functions
        function loadSettingsData() {
            // Load profile data
            const userData = JSON.parse(localStorage.getItem('dashUserData') || '{}');
            document.getElementById('profileName').value = userData.name || '';
            document.getElementById('profileEmail').value = userData.email || '';

            // Load health targets
            const healthTargets = JSON.parse(localStorage.getItem('dashHealthTargets') || '{}');
            document.getElementById('targetBP').value = healthTargets.targetBP || '120/80';
            document.getElementById('targetWeight').value = healthTargets.targetWeight || '';

            // Load notification preferences
            const notifications = JSON.parse(localStorage.getItem('dashNotifications') || '{}');
            document.getElementById('mealReminders').checked = notifications.mealReminders !== false;
            document.getElementById('medicationReminders').checked = notifications.medicationReminders !== false;
            document.getElementById('exerciseReminders').checked = notifications.exerciseReminders !== false;

            // Load app settings
            const appSettings = JSON.parse(localStorage.getItem('dashAppSettings') || '{}');
            document.getElementById('appTheme').value = appSettings.theme || 'light';
            document.getElementById('timeFormat').value = appSettings.timeFormat || '12h';

            updateDebug('Settings loaded');
        }

        function saveProfileSettings() {
            const userData = JSON.parse(localStorage.getItem('dashUserData') || '{}');
            userData.name = document.getElementById('profileName').value;
            userData.email = document.getElementById('profileEmail').value;
            localStorage.setItem('dashUserData', JSON.stringify(userData));

            // Update dashboard display
            const displayName = document.getElementById('displayName');
            if (displayName) {
                displayName.textContent = userData.name || 'User';
            }

            showNotification('Profile settings saved successfully!');
            updateDebug('Profile settings saved');
        }

        function saveHealthTargets() {
            const healthTargets = {
                targetBP: document.getElementById('targetBP').value,
                targetWeight: document.getElementById('targetWeight').value
            };
            localStorage.setItem('dashHealthTargets', JSON.stringify(healthTargets));
            
            showNotification('Health targets saved successfully!');
            updateDebug('Health targets saved');
        }

        function saveNotificationSettings() {
            const notifications = {
                mealReminders: document.getElementById('mealReminders').checked,
                medicationReminders: document.getElementById('medicationReminders').checked,
                exerciseReminders: document.getElementById('exerciseReminders').checked
            };
            localStorage.setItem('dashNotifications', JSON.stringify(notifications));
            
            showNotification('Notification settings saved successfully!');
            updateDebug('Notification settings saved');
        }

        function saveAppSettings() {
            const appSettings = {
                theme: document.getElementById('appTheme').value,
                timeFormat: document.getElementById('timeFormat').value
            };
            localStorage.setItem('dashAppSettings', JSON.stringify(appSettings));
            
            // Apply theme
            applyTheme(appSettings.theme);
            
            showNotification('App settings saved successfully!');
            updateDebug('App settings saved');
        }

        function applyTheme(theme) {
            if (theme === 'dark') {
                document.body.classList.add('dark-theme');
            } else if (theme === 'auto') {
                // Auto theme: dark from 8 PM to 8 AM
                const hour = new Date().getHours();
                if (hour >= 20 || hour < 8) {
                    document.body.classList.add('dark-theme');
                } else {
                    document.body.classList.remove('dark-theme');
                }
            } else {
                document.body.classList.remove('dark-theme');
            }
        }

        function exportData() {
            const allData = {
                userData: JSON.parse(localStorage.getItem('dashUserData') || '{}'),
                healthTargets: JSON.parse(localStorage.getItem('dashHealthTargets') || '{}'),
                notifications: JSON.parse(localStorage.getItem('dashNotifications') || '{}'),
                appSettings: JSON.parse(localStorage.getItem('dashAppSettings') || '{}'),
                bloodPressure: JSON.parse(localStorage.getItem('dashBloodPressure') || '[]'),
                medications: JSON.parse(localStorage.getItem('dashMedications') || '[]')
            };

            const dataStr = JSON.stringify(allData, null, 2);
            const dataBlob = new Blob([dataStr], {type: 'application/json'});
            const url = URL.createObjectURL(dataBlob);
            const link = document.createElement('a');
            link.href = url;
            link.download = 'dash-over-50-backup-' + new Date().toISOString().split('T')[0] + '.json';
            link.click();
            URL.revokeObjectURL(url);

            showNotification('Data exported successfully!');
            updateDebug('Data exported');
        }

        function importData() {
            const input = document.createElement('input');
            input.type = 'file';
            input.accept = '.json';
            input.onchange = function(e) {
                const file = e.target.files[0];
                const reader = new FileReader();
                reader.onload = function(event) {
                    try {
                        const importedData = JSON.parse(event.target.result);
                        
                        // Import all data
                        if (importedData.userData) {
                            localStorage.setItem('dashUserData', JSON.stringify(importedData.userData));
                        }
                        if (importedData.healthTargets) {
                            localStorage.setItem('dashHealthTargets', JSON.stringify(importedData.healthTargets));
                        }
                        if (importedData.notifications) {
                            localStorage.setItem('dashNotifications', JSON.stringify(importedData.notifications));
                        }
                        if (importedData.appSettings) {
                            localStorage.setItem('dashAppSettings', JSON.stringify(importedData.appSettings));
                        }
                        if (importedData.bloodPressure) {
                            localStorage.setItem('dashBloodPressure', JSON.stringify(importedData.bloodPressure));
                        }
                        if (importedData.medications) {
                            localStorage.setItem('dashMedications', JSON.stringify(importedData.medications));
                        }

                        // Reload settings
                        loadSettingsData();
                        loadUserData();
                        
                        showNotification('Data imported successfully! Please refresh the page.');
                        updateDebug('Data imported successfully');
                    } catch (error) {
                        showNotification('Error importing data. Please check the file format.', 'error');
                        updateDebug('Import error: ' + error.message);
                    }
                };
                reader.readAsText(file);
            };
            input.click();
        }

        function clearAllData() {
            if (confirm('Are you sure you want to clear all data? This action cannot be undone.')) {
                if (confirm('This will delete all your saved data including profile, health records, and settings. Are you absolutely sure?')) {
                    // Clear all DASH app data
                    localStorage.removeItem('dashOnboardingComplete');
                    localStorage.removeItem('dashUserData');
                    localStorage.removeItem('dashHealthTargets');
                    localStorage.removeItem('dashNotifications');
                    localStorage.removeItem('dashAppSettings');
                    localStorage.removeItem('dashBloodPressure');
                    localStorage.removeItem('dashMedications');
                    
                    showNotification('All data cleared successfully! App will reset.');
                    updateDebug('All data cleared');
                    
                    // Reset to welcome screen after a delay
                    setTimeout(() => {
                        location.reload();
                    }, 2000);
                }
            }
        }

        function showPrivacy() {
            showNotification('Privacy Policy - Coming Soon', 'info');
        }

        function showTerms() {
            showNotification('Terms of Service - Coming Soon', 'info');
        }

        function showNotification(message, type = 'success') {
            // Create notification element
            const notification = document.createElement('div');
            notification.className = 'notification ' + type;
            notification.textContent = message;
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                background: ${type === 'success' ? 'var(--primary)' : type === 'error' ? '#dc3545' : '#6c757d'};
                color: white;
                padding: 15px 20px;
                border-radius: 8px;
                box-shadow: 0 4px 12px rgba(0,0,0,0.15);
                z-index: 10000;
                max-width: 300px;
                font-weight: 500;
            `;
            
            document.body.appendChild(notification);
            
            // Remove after 3 seconds
            setTimeout(() => {
                if (notification.parentNode) {
                    notification.parentNode.removeChild(notification);
                }
            }, 3000);
        }

        // Auto-save notification settings when toggled
        document.addEventListener('change', function(e) {
            if (e.target.id === 'mealReminders' || 
                e.target.id === 'medicationReminders' || 
                e.target.id === 'exerciseReminders') {
                saveNotificationSettings();
            }
        });

        // Auto-save app settings when changed
        document.addEventListener('change', function(e) {
            if (e.target.id === 'appTheme' || e.target.id === 'timeFormat') {
                saveAppSettings();
            }
        });

        // DASH Recipe Database
        // Exercise data
        const exerciseWorkouts = {
            beginner: [
                {
                    id: 'walking',
                    title: 'Daily Walking Routine',
                    description: 'Gentle walking program to build cardiovascular fitness and joint health',
                    duration: '20-30 min',
                    calories: '80-120',
                    difficulty: 'Beginner',
                    instructions: [
                        'Start with 5-minute warm-up walk',
                        'Walk at comfortable pace for 15-20 minutes',
                        'Maintain good posture: shoulders back, head up',
                        'Cool down with 5-minute slow walk',
                        'Listen to your body - rest if needed'
                    ],
                    benefits: ['Heart health', 'Joint mobility', 'Stress reduction', 'Weight management'],
                    safety: 'Wear comfortable walking shoes with good support. Stay hydrated and choose flat, even surfaces.'
                },
                {
                    id: 'chair-exercises',
                    title: 'Seated Strength Training',
                    description: 'Safe chair-based exercises to build muscle strength and improve balance',
                    duration: '15-20 min',
                    calories: '60-90',
                    difficulty: 'Beginner',
                    instructions: [
                        'Chair squats: 10-12 repetitions',
                        'Seated leg extensions: 10 each leg',
                        'Arm circles: 10 forward, 10 backward',
                        'Seated marching: 30 seconds',
                        'Repeat circuit 2-3 times'
                    ],
                    benefits: ['Leg strength', 'Core stability', 'Upper body tone', 'Balance improvement'],
                    safety: 'Use sturdy chair without wheels. Keep back straight and movements controlled.'
                },
                {
                    id: 'gentle-stretching',
                    title: 'Morning Stretch Routine',
                    description: 'Wake up your body with gentle stretches to improve flexibility and circulation',
                    duration: '10-15 min',
                    calories: '30-50',
                    difficulty: 'Beginner',
                    instructions: [
                        'Neck rolls: 5 each direction',
                        'Shoulder shrugs: 10 repetitions',
                        'Arm reaches: 8 each side',
                        'Seated forward bend: hold 15 seconds',
                        'Ankle rotations: 10 each direction'
                    ],
                    benefits: ['Flexibility', 'Circulation', 'Range of motion', 'Morning energy'],
                    safety: 'Move slowly and gently. Never bounce during stretches. Stop if you feel pain.'
                }
            ],
            intermediate: [
                {
                    id: 'resistance-bands',
                    title: 'Resistance Band Workout',
                    description: 'Full-body strength training using resistance bands for muscle building',
                    duration: '25-30 min',
                    calories: '150-200',
                    difficulty: 'Intermediate',
                    instructions: [
                        'Band chest press: 12-15 repetitions',
                        'Band rows: 12-15 repetitions',
                        'Band squats: 12-15 repetitions',
                        'Band lateral raises: 10-12 repetitions',
                        'Band bicep curls: 12-15 repetitions',
                        'Rest 60 seconds between sets'
                    ],
                    benefits: ['Muscle strength', 'Bone density', 'Metabolism boost', 'Functional fitness'],
                    safety: 'Check band for wear before use. Maintain proper form and controlled movements.'
                },
                {
                    id: 'water-aerobics',
                    title: 'Water Aerobics',
                    description: 'Low-impact water exercises perfect for joint-friendly cardiovascular workout',
                    duration: '30-35 min',
                    calories: '200-250',
                    difficulty: 'Intermediate',
                    instructions: [
                        'Water walking: 5 minutes',
                        'Arm circles in water: 2 minutes',
                        'Water jogging: 10 minutes',
                        'Leg kicks: 10 each leg',
                        'Cool down with gentle swimming: 5 minutes'
                    ],
                    benefits: ['Joint-friendly cardio', 'Full body workout', 'Resistance training', 'Improved circulation'],
                    safety: 'Stay in shallow water if beginner. Use pool handrails for balance if needed.'
                },
                {
                    id: 'yoga-flow',
                    title: 'Gentle Yoga Flow',
                    description: 'Beginner-friendly yoga sequence combining strength, balance, and flexibility',
                    duration: '20-25 min',
                    calories: '100-150',
                    difficulty: 'Intermediate',
                    instructions: [
                        'Mountain pose: 30 seconds',
                        'Cat-cow stretch: 10 repetitions',
                        'Downward dog: hold 30 seconds',
                        'Warrior I: 30 seconds each side',
                        'Tree pose: 20 seconds each side',
                        'Child\'s pose: 1 minute rest'
                    ],
                    benefits: ['Flexibility', 'Balance', 'Core strength', 'Stress relief'],
                    safety: 'Use yoga mat for cushioning. Modify poses as needed for your comfort level.'
                }
            ],
            advanced: [
                {
                    id: 'hiit-low-impact',
                    title: 'Low-Impact HIIT',
                    description: 'High-intensity interval training without jumping, perfect for advanced fitness',
                    duration: '30-35 min',
                    calories: '250-300',
                    difficulty: 'Advanced',
                    instructions: [
                        'Warm-up: 5 minutes',
                        'Work interval: 45 seconds high intensity',
                        'Rest interval: 15 seconds recovery',
                        'Repeat 8-10 cycles',
                        'Cool down: 5 minutes'
                    ],
                    benefits: ['Cardiovascular fitness', 'Fat burning', 'Metabolism boost', 'Endurance'],
                    safety: 'Monitor heart rate. Stop immediately if dizzy or short of breath.'
                },
                {
                    id: 'strength-circuit',
                    title: 'Full Body Strength Circuit',
                    description: 'Comprehensive strength training circuit targeting all major muscle groups',
                    duration: '35-40 min',
                    calories: '200-250',
                    difficulty: 'Advanced',
                    instructions: [
                        'Goblet squats: 12 reps',
                        'Push-ups (modified if needed): 8-12 reps',
                        'Monges: 10 each leg',
                        'Plank: hold 30-60 seconds',
                        'Rows: 12 each arm',
                        'Rest 90 seconds, repeat 3 times'
                    ],
                    benefits: ['Muscle building', 'Bone density', 'Functional strength', 'Posture improvement'],
                    safety: 'Use proper form. Start with lighter weights and progress gradually.'
                },
                {
                    id: 'functional-training',
                    title: 'Functional Fitness',
                    description: 'Real-life movement patterns to improve daily activities and prevent injury',
                    duration: '30-35 min',
                    calories: '180-220',
                    difficulty: 'Advanced',
                    instructions: [
                        'Farmer\'s walks: 20 steps',
                        'Step-ups: 10 each leg',
                        'Wood chops: 10 each side',
                        'Single-leg balance: 30 seconds each',
                        'Carries: 15 steps each side',
                        'Rest 60 seconds, repeat 3 times'
                    ],
                    benefits: ['Balance', 'Coordination', 'Core strength', 'Daily function'],
                    safety: 'Focus on proper form. Use sturdy equipment and clear space.'
                }
            ],
            stretching: [
                {
                    id: 'full-body-stretch',
                    title: 'Full Body Stretch Routine',
                    description: 'Comprehensive stretching sequence for overall flexibility and relaxation',
                    duration: '15-20 min',
                    calories: '40-60',
                    difficulty: 'All Levels',
                    instructions: [
                        'Standing forward bend: hold 30 seconds',
                        'Quad stretch: 30 seconds each leg',
                        'Hamstring stretch: 30 seconds each leg',
                        'Chest opener: hold 30 seconds',
                        'Shoulder stretch: 30 seconds each arm',
                        'Triceps stretch: 30 seconds each arm'
                    ],
                    benefits: ['Flexibility', 'Muscle recovery', 'Stress relief', 'Injury prevention'],
                    safety: 'Never force stretches beyond comfort. Breathe deeply throughout.'
                },
                {
                    id: 'mobility-flow',
                    title: 'Joint Mobility Routine',
                    description: 'Gentle joint movements to improve range of motion and reduce stiffness',
                    duration: '10-15 min',
                    calories: '30-40',
                    difficulty: 'All Levels',
                    instructions: [
                        'Ankle circles: 10 each direction',
                        'Knee circles: 10 each direction',
                        'Hip circles: 10 each direction',
                        'Wrist circles: 10 each direction',
                        'Shoulder rolls: 10 each direction',
                        'Neck stretches: gentle holds'
                    ],
                    benefits: ['Joint health', 'Range of motion', 'Stiffness reduction', 'Circulation'],
                    safety: 'Move slowly and deliberately. Stop if you feel any joint pain.'
                },
                {
                    id: 'evening-relaxation',
                    title: 'Evening Relaxation Stretch',
                    description: 'Calming stretches perfect for bedtime to promote better sleep',
                    duration: '10-15 min',
                    calories: '20-30',
                    difficulty: 'All Levels',
                    instructions: [
                        'Seated forward bend: 1 minute',
                        'Butterfly stretch: hold 45 seconds',
                        'Reclining twist: 30 seconds each side',
                        'Child\'s pose: 1 minute',
                        'Legs up the wall: 3-5 minutes',
                        'Deep breathing throughout'
                    ],
                    benefits: ['Sleep quality', 'Stress reduction', 'Muscle relaxation', 'Flexibility'],
                    safety: 'Perform on comfortable surface. Focus on relaxation rather than intensity.'
                }
            ]
        };

        // Medications data
        let medications = JSON.parse(localStorage.getItem('medications') || '[]');
        let medicationReminders = JSON.parse(localStorage.getItem('medicationReminders') || '[]');

        const dashRecipes = {
            // Week 1 Recipes
            week1: {
                1: { // Monday
                    breakfast: {
                        title: "Greek Yogurt Parfait",
                        description: "Creamy yogurt with berries and granola",
                        prep: "5 min",
                        cook: "0 min",
                        servings: "1",
                        calories: 320,
                        ingredients: [
                            "1 cup Greek yogurt",
                            "1/2 cup mixed berries",
                            "2 tbsp granola",
                            "1 tbsp honey",
                            "1 tsp chia seeds"
                        ],
                        instructions: [
                            "Layer half the yogurt in a bowl",
                            "Add berries and granola",
                            "Top with remaining yogurt",
                            "Drizzle with honey and sprinkle chia seeds"
                        ],
                        tips: "Use low-fat Greek yogurt for extra protein and fewer calories."
                    },
                    lunch: {
                        title: "Mediterranean Quinoa Bowl",
                        description: "Protein-packed quinoa with Mediterranean vegetables",
                        prep: "15 min",
                        cook: "20 min",
                        servings: "2",
                        calories: 380,
                        ingredients: [
                            "1 cup quinoa",
                            "1 cup cherry tomatoes, halved",
                            "1/2 cucumber, diced",
                            "1/4 cup feta cheese",
                            "2 tbsp olive oil",
                            "1 lemon, juiced",
                            "1 can chickpeas, rinsed"
                        ],
                        instructions: [
                            "Cook quinoa according to package directions",
                            "Let quinoa cool to room temperature",
                            "Mix with vegetables, chickpeas, and feta",
                            "Drizzle with olive oil and lemon juice"
                        ],
                        tips: "Add fresh herbs like parsley or mint for extra flavor."
                    },
                    snack: {
                        title: "Apple with Almond Butter",
                        description: "Crisp apple with protein-rich almond butter",
                        prep: "2 min",
                        cook: "0 min",
                        servings: "1",
                        calories: 180,
                        ingredients: [
                            "1 medium apple",
                            "2 tbsp almond butter",
                            "1/4 tsp cinnamon"
                        ],
                        instructions: [
                            "Slice apple into wedges",
                            "Serve with almond butter for dipping",
                            "Sprinkle with cinnamon"
                        ],
                        tips: "Choose almond butter without added sugar for maximum health benefits."
                    },
                    dinner: {
                        title: "Lemon-Herb Baked Salmon with Wilted Spinach",
                        description: "Heart-healthy salmon with lemon and herbs",
                        prep: "10 min",
                        cook: "15 min",
                        servings: "2",
                        calories: 290,
                        ingredients: [
                            "2 salmon fillets (5 oz each)",
                            "1 tbsp olive oil",
                            "1 lemon, zested and juiced",
                            "2 garlic cloves, minced",
                            "1 tbsp fresh parsley, chopped",
                            "1 tsp fresh dill, chopped",
                            "2 cups fresh spinach",
                            "1/2 tsp black pepper"
                        ],
                        instructions: [
                            "Preheat oven to 400Â°F",
                            "Mix olive oil, lemon zest, garlic, herbs, and pepper",
                            "Place salmon on baking sheet, brush with herb mixture",
                            "Bake for 12-15 minutes until flaky",
                            "Wilt spinach in remaining pan juices"
                        ],
                        tips: "Salmon is rich in omega-3 fatty acids, perfect for heart health."
                    }
                },
                2: { // Tuesday
                    breakfast: {
                        title: "Oatmeal with Berries",
                        description: "Warm oatmeal topped with antioxidant-rich berries",
                        prep: "5 min",
                        cook: "10 min",
                        servings: "1",
                        calories: 280,
                        ingredients: [
                            "1/2 cup rolled oats",
                            "1 cup water or almond milk",
                            "1/2 cup mixed berries",
                            "1 tbsp walnuts",
                            "1 tsp honey"
                        ],
                        instructions: [
                            "Cook oats with water or milk until creamy",
                            "Top with berries and walnuts",
                            "Drizzle with honey if desired"
                        ],
                        tips: "Use steel-cut oats for extra fiber and lower glycemic index."
                    },
                    lunch: {
                        title: "Turkey and Avocado Wrap",
                        description: "Lean protein with healthy fats in whole wheat wrap",
                        prep: "10 min",
                        cook: "0 min",
                        servings: "1",
                        calories: 340,
                        ingredients: [
                            "1 whole wheat tortilla",
                            "4 oz sliced turkey breast",
                            "1/4 avocado, sliced",
                            "1/4 cup shredded lettuce",
                            "2 tbsp hummus",
                            "1 tomato, sliced"
                        ],
                        instructions: [
                            "Spread hummus on tortilla",
                            "Layer turkey, avocado, lettuce, and tomato",
                            "Roll tightly and cut in half"
                        ],
                        tips: "Use nitrate-free turkey for the healthiest option."
                    },
                    snack: {
                        title: "Mixed Nuts and Fruit",
                        description: "Heart-healthy nuts with seasonal fruit",
                        prep: "2 min",
                        cook: "0 min",
                        servings: "1",
                        calories: 220,
                        ingredients: [
                            "1/4 cup mixed raw nuts",
                            "1 small pear or peach",
                            "2 dried apricots"
                        ],
                        instructions: [
                            "Portion out mixed nuts",
                            "Wash and slice fresh fruit",
                            "Enjoy together for balanced energy"
                        ],
                        tips: "Stick to raw, unsalted nuts to maximize health benefits."
                    },
                    dinner: {
                        title: "Turkey and Quinoa Stuffed Peppers",
                        description: "Colorful bell peppers stuffed with lean turkey and quinoa",
                        prep: "20 min",
                        cook: "35 min",
                        servings: "4",
                        calories: 310,
                        ingredients: [
                            "4 bell peppers, tops removed",
                            "1 lb ground turkey",
                            "1 cup cooked quinoa",
                            "1 can diced tomatoes, undrained",
                            "1 onion, diced",
                            "2 cloves garlic, minced",
                            "1 tsp Italian seasoning",
                            "1/2 cup mozzarella cheese"
                        ],
                        instructions: [
                            "Preheat oven to 375Â°F",
                            "Cook turkey and onion until browned",
                            "Mix in quinoa, tomatoes, garlic, and seasonings",
                            "Stuff peppers and bake 25-30 minutes",
                            "Top with cheese and melt"
                        ],
                        tips: "Choose colorful peppers for different vitamins and antioxidants."
                    }
                },
                3: { // Wednesday
                    breakfast: {
                        title: "Spinach and Mushroom Omelet",
                        description: "Protein-rich omelet with vegetables",
                        prep: "8 min",
                        cook: "10 min",
                        servings: "1",
                        calories: 240,
                        ingredients: [
                            "2 large eggs",
                            "1 cup fresh spinach",
                            "1/4 cup mushrooms, sliced",
                            "1 tbsp cheese, optional",
                            "1 tsp olive oil",
                            "Salt and pepper to taste"
                        ],
                        instructions: [
                            "SautÃ© mushrooms in olive oil",
                            "Add spinach and wilt",
                            "Pour beaten eggs over vegetables",
                            "Cook until set, fold with cheese if using"
                        ],
                        tips: "Use egg whites only to reduce calories and cholesterol."
                    },
                    lunch: {
                        title: "Lentil and Vegetable Soup",
                        description: "Hearty, fiber-rich lentil soup",
                        prep: "15 min",
                        cook: "30 min",
                        servings: "4",
                        calories: 260,
                        ingredients: [
                            "1 cup brown or green lentils",
                            "6 cups vegetable broth",
                            "1 carrot, diced",
                            "1 celery stalk, diced",
                            "1 onion, diced",
                            "2 cloves garlic, minced",
                            "1 tsp cumin",
                            "2 cups chopped kale"
                        ],
                        instructions: [
                            "SautÃ© onion, carrot, and celery until soft",
                            "Add garlic and cumin, cook 1 minute",
                            "Add lentils and broth, simmer 20 minutes",
                            "Add kale and cook 5 more minutes"
                        ],
                        tips: "This soup freezes well for convenient future meals."
                    },
                    snack: {
                        title: "Hard-Boiled Egg with Veggies",
                        description: "Complete protein with fresh vegetables",
                        prep: "5 min",
                        cook: "0 min",
                        servings: "1",
                        calories: 150,
                        ingredients: [
                            "2 hard-boiled eggs",
                            "1 cup baby carrots",
                            "1 cup cucumber slices",
                            "Salt and pepper"
                        ],
                        instructions: [
                            "Peel and slice eggs",
                            "Serve with fresh vegetables",
                            "Season lightly with salt and pepper"
                        ],
                        tips: "Prepare eggs in advance for quick snacks throughout the week."
                    },
                    dinner: {
                        title: "Garlic-Soy Air Fryer Chicken Thighs with Broccoli",
                        description: "Crispy chicken thighs with tender broccoli",
                        prep: "10 min",
                        cook: "20 min",
                        servings: "2",
                        calories: 350,
                        ingredients: [
                            "2 chicken thighs, boneless",
                            "2 tbsp soy sauce (low sodium)",
                            "2 cloves garlic, minced",
                            "1 tsp honey",
                            "1 tsp sesame oil",
                            "2 cups broccoli florets",
                            "1 tbsp olive oil"
                        ],
                        instructions: [
                            "Mix soy sauce, garlic, honey, and sesame oil",
                            "Tueinate chicken for 10 minutes",
                            "Air fry chicken at 380Â°F for 15 minutes",
                            "Toss broccoli with olive oil and air fry 8 minutes"
                        ],
                        tips: "Chicken thighs are more flavorful and less expensive than breast."
                    }
                },
                4: { // Thursday
                    breakfast: {
                        title: "Smoothie Bowl",
                        description: "Nutrient-dense smoothie with toppings",
                        prep: "5 min",
                        cook: "0 min",
                        servings: "1",
                        calories: 300,
                        ingredients: [
                            "1 cup mixed berries, frozen",
                            "1 banana, frozen",
                            "1 cup almond milk",
                            "1 tbsp protein powder",
                            "1 tbsp flax seeds",
                            "1/4 cup granola for topping"
                        ],
                        instructions: [
                            "Blend berries, banana, almond milk, protein powder, and flax seeds",
                            "Pour into bowl",
                            "Top with granola and additional berries"
                        ],
                        tips: "Add spinach for extra nutrients - you won't taste it!"
                    },
                    lunch: {
                        title: "Chickpea Salad Sandwich",
                        description: "Plant-based alternative to tuna salad",
                        prep: "15 min",
                        cook: "0 min",
                        servings: "2",
                        calories: 290,
                        ingredients: [
                            "1 can chickpeas, rinsed and mashed",
                            "2 tbsp Greek yogurt or mayo",
                            "1 celery stalk, diced",
                            "1/4 red onion, diced",
                            "1 tsp mustard",
                            "Salt and pepper to taste",
                            "Whole grain bread"
                        ],
                        instructions: [
                            "Mash chickpeas slightly with a fork",
                            "Mix in yogurt, celery, onion, and mustard",
                            "Season with salt and pepper",
                            "Serve on whole grain bread"
                        ],
                        tips: "Add grapes or apples for a sweet contrast."
                    },
                    snack: {
                        title: "Cottage Cheese with Peaches",
                        description: "High-protein snack with sweet peaches",
                        prep: "3 min",
                        cook: "0 min",
                        servings: "1",
                        calories: 170,
                        ingredients: [
                            "1/2 cup cottage cheese",
                            "1 fresh peach, sliced",
                            "1 tbsp chopped nuts"
                        ],
                        instructions: [
                            "Place cottage cheese in bowl",
                            "Top with sliced peaches",
                            "Sprinkle with chopped nuts"
                        ],
                        tips: "Use low-fat cottage cheese for the best protein-to-calorie ratio."
                    },
                    dinner: {
                        title: "Mediterranean Chickpea and Farro Skillet",
                        description: "Hearty grain bowl with Mediterranean flavors",
                        prep: "15 min",
                        cook: "25 min",
                        servings: "3",
                        calories: 320,
                        ingredients: [
                            "1 cup farro",
                            "1 can chickpeas, rinsed",
                            "1 zucchini, diced",
                            "1 bell pepper, diced",
                            "1/4 cup Kalamata olives",
                            "2 tbsp olive oil",
                            "1 tsp dried oregano",
                            "1/2 cup crumbled feta"
                        ],
                        instructions: [
                            "Cook farro according to package directions",
                            "SautÃ© zucchini and pepper in olive oil",
                            "Add chickpeas, olives, and oregano",
                            "Mix with cooked farro and top with feta"
                        ],
                        tips: "Farro is an ancient grain high in fiber and protein."
                    }
                },
                5: { // Friday
                    breakfast: {
                        title: "Whole Wheat Pancakes",
                        description: "Fluffy pancakes with maple syrup and berries",
                        prep: "10 min",
                        cook: "15 min",
                        servings: "2",
                        calories: 330,
                        ingredients: [
                            "1 cup whole wheat flour",
                            "1 tbsp sugar",
                            "2 tsp baking powder",
                            "1 egg",
                            "1 cup milk",
                            "2 tbsp melted butter",
                            "1/2 cup berries",
                            "2 tbsp maple syrup"
                        ],
                        instructions: [
                            "Mix dry ingredients in one bowl",
                            "Mix wet ingredients in another bowl",
                            "Combine and cook on griddle until bubbles form",
                            "Serve with berries and maple syrup"
                        ],
                        tips: "Add ground flaxseed for extra fiber and omega-3s."
                    },
                    lunch: {
                        title: "Tuna NiÃ§oise Salad",
                        description: "Classic French salad with tuna and vegetables",
                        prep: "20 min",
                        cook: "10 min",
                        servings: "2",
                        calories: 350,
                        ingredients: [
                            "2 cans tuna in water",
                            "4 small potatoes, boiled",
                            "1 cup green beans, steamed",
                            "4 eggs, hard-boiled",
                            "2 cups mixed greens",
                            "1 tomato, wedged",
                            "2 tbsp olive oil",
                            "1 tbsp lemon juice"
                        ],
                        instructions: [
                            "Arrange greens on plates",
                            "Top with tuna, potatoes, green beans, eggs, and tomato",
                            "Drizzle with olive oil and lemon juice",
                            "Season with salt and pepper"
                        ],
                        tips: "Use fresh tuna when available for the best flavor."
                    },
                    snack: {
                        title: "Greek Yogurt with Honey",
                        description: "Simple protein-rich snack",
                        prep: "2 min",
                        cook: "0 min",
                        servings: "1",
                        calories: 140,
                        ingredients: [
                            "3/4 cup Greek yogurt",
                            "1 tsp honey",
                            "1/4 cup berries"
                        ],
                        instructions: [
                            "Spoon yogurt into bowl",
                            "Drizzle with honey",
                            "Top with berries"
                        ],
                        tips: "Choose plain Greek yogurt to avoid added sugars."
                    },
                    dinner: {
                        title: "Citrus-Grilled Swordfish with Arugula Salad",
                        description: "Mediterranean grilled fish with peppery arugula",
                        prep: "15 min",
                        cook: "10 min",
                        servings: "2",
                        calories: 280,
                        ingredients: [
                            "2 swordfish steaks (6 oz each)",
                            "1 orange, juiced and zested",
                            "1 lemon, juiced",
                            "2 tbsp olive oil",
                            "3 cups arugula",
                            "1/4 cup shaved parmesan",
                            "1 cup cherry tomatoes"
                        ],
                        instructions: [
                            "Tueinate fish in citrus juices and oil for 10 minutes",
                            "Grill fish 4-5 minutes per side",
                            "Toss arugula with remaining juice, tomatoes, and parmesan",
                            "Serve fish over arugula salad"
                        ],
                        tips: "Swordfish is high in selenium, important for thyroid health."
                    }
                },
                6: { // Saturday
                    breakfast: {
                        title: "Egg White Scramble with Vegetables",
                        description: "Light but protein-packed breakfast",
                        prep: "10 min",
                        cook: "8 min",
                        servings: "1",
                        calories: 200,
                        ingredients: [
                            "4 egg whites",
                            "1 cup mixed vegetables (peppers, onions, spinach)",
                            "2 tbsp cheese, optional",
                            "1 tsp olive oil",
                            "Fresh herbs"
                        ],
                        instructions: [
                            "SautÃ© vegetables in olive oil until tender",
                            "Pour in egg whites and scramble",
                            "Add cheese if using",
                            "Garnish with fresh herbs"
                        ],
                        tips: "Egg whites provide all the protein without the cholesterol."
                    },
                    lunch: {
                        title: "Turkey and Apple Panini",
                        description: "Warm pressed sandwich with sweet and savory flavors",
                        prep: "10 min",
                        cook: "5 min",
                        servings: "1",
                        calories: 360,
                        ingredients: [
                            "2 slices whole grain bread",
                            "4 oz turkey breast",
                            "1/2 apple, sliced thin",
                            "2 tbsp cheese",
                            "1 tbsp Dijon mustard",
                            "Arugula"
                        ],
                        instructions: [
                            "Spread mustard on bread",
                            "Layer turkey, apple, cheese, and arugula",
                            "Grill in panini press until golden and melted"
                        ],
                        tips: "Use a grill pan if you don't have a panini press."
                    },
                    snack: {
                        title: "Trail Mix",
                        description: "Homemade trail mix with nuts and dried fruit",
                        prep: "5 min",
                        cook: "0 min",
                        servings: "1",
                        calories: 200,
                        ingredients: [
                            "2 tbsp almonds",
                            "2 tbsp walnuts",
                            "1 tbsp dried cranberries",
                            "1 tbsp dark chocolate chips",
                            "1 tbsp pumpkin seeds"
                        ],
                        instructions: [
                            "Mix all ingredients together",
                            "Portion into small bag for portability",
                            "Enjoy as needed throughout the day"
                        ],
                        tips: "Make a large batch for the week ahead."
                    },
                    dinner: {
                        title: "Spinach and Feta Turkey Meatloaf Muffins",
                        description: "Individual meatloaf portions with Greek flavors",
                        prep: "15 min",
                        cook: "25 min",
                        servings: "4",
                        calories: 290,
                        ingredients: [
                            "1 lb ground turkey",
                            "1/2 cup breadcrumbs",
                            "1/4 cup feta cheese",
                            "1 cup spinach, chopped",
                            "1 egg",
                            "2 tbsp Greek yogurt",
                            "1 tsp dried oregano",
                            "1/4 cup ketchup for topping"
                        ],
                        instructions: [
                            "Mix all ingredients except ketchup",
                            "Form into muffin tin cups",
                            "Top with ketchup",
                            "Bake at 375Â°F for 20-25 minutes"
                        ],
                        tips: "These freeze well for quick future meals."
                    }
                },
                7: { // Sunday
                    breakfast: {
                        title: "Breakfast Burrito",
                        description: "Scrambled eggs wrapped in whole wheat tortilla",
                        prep: "10 min",
                        cook: "10 min",
                        servings: "1",
                        calories: 380,
                        ingredients: [
                            "2 eggs",
                            "1 whole wheat tortilla",
                            "2 tbsp black beans",
                            "1/4 avocado, sliced",
                            "2 tbsp salsa",
                            "1 tbsp cheese"
                        ],
                        instructions: [
                            "Scramble eggs",
                            "Warm tortilla",
                            "Add eggs, beans, avocado, salsa, and cheese",
                            "Roll up and enjoy"
                        ],
                        tips: "Add sweet potatoes for extra nutrients."
                    },
                    lunch: {
                        title: "Roasted Vegetable and Quinoa Bowl",
                        description: "Colorful roasted vegetables over quinoa",
                        prep: "15 min",
                        cook: "30 min",
                        servings: "3",
                        calories: 340,
                        ingredients: [
                            "1 cup quinoa",
                            "1 sweet potato, cubed",
                            "1 bell pepper, chopped",
                            "1 zucchini, chopped",
                            "1 red onion, chopped",
                            "2 tbsp olive oil",
                            "1 tsp herbs de Provence"
                        ],
                        instructions: [
                            "Cook quinoa according to package",
                            "Toss vegetables with oil and herbs",
                            "Roast at 425Â°F for 25 minutes",
                            "Serve vegetables over quinoa"
                        ],
                        tips: "Meal prep this for easy weekday lunches."
                    },
                    snack: {
                        title: "Peaches and Cream Smoothie",
                        description: "Creamy smoothie with fresh peaches",
                        prep: "5 min",
                        cook: "0 min",
                        servings: "1",
                        calories: 180,
                        ingredients: [
                            "1 fresh peach",
                            "1/2 cup Greek yogurt",
                            "1/2 cup almond milk",
                            "1 tsp vanilla",
                            "Ice cubes"
                        ],
                        instructions: [
                            "Blend all ingredients until smooth",
                            "Add more ice for thickness if needed",
                            "Serve immediately"
                        ],
                        tips: "Use frozen peaches when fresh aren't in season."
                    },
                    dinner: {
                        title: "Shrimp and Zucchini Noodle SautÃ©",
                        description: "Low-carb meal with shrimp and vegetable noodles",
                        prep: "15 min",
                        cook: "10 min",
                        servings: "2",
                        calories: 270,
                        ingredients: [
                            "1 lb shrimp, peeled",
                            "2 large zucchini, spiralized",
                            "2 cloves garlic, minced",
                            "1 tbsp olive oil",
                            "1/2 cup cherry tomatoes",
                            "1 tbsp lemon juice",
                            "Fresh parsley"
                        ],
                        instructions: [
                            "SautÃ© garlic in olive oil",
                            "Add shrimp and cook until pink",
                            "Add zucchini noodles and tomatoes",
                            "Toss with lemon juice and parsley"
                        ],
                        tips: "Don't overcook zucchini noodles to maintain texture."
                    }
                }
            },
            // Week 2 Recipes
            week2: {
                1: { // Monday
                    breakfast: {
                        title: "Berry and Flaxseed Smoothie",
                        description: "Antioxidant-rich smoothie with omega-3s",
                        prep: "5 min",
                        cook: "0 min",
                        servings: "1",
                        calories: 290,
                        image: "smoothie-bowl",
                        ingredients: [
                            "1 cup mixed berries, frozen",
                            "1 banana",
                            "1 tbsp ground flaxseed",
                            "1 cup almond milk",
                            "1 scoop protein powder"
                        ],
                        instructions: [
                            "Blend all ingredients until smooth",
                            "Add more almond milk if needed",
                            "Serve immediately in a glass"
                        ],
                        tips: "Flaxseed provides heart-healthy omega-3 fatty acids."
                    },
                    lunch: {
                        title: "Avocado and White Bean Open-Faced Sandwich",
                        description: "Creamy avocado spread with protein-rich beans",
                        prep: "10 min",
                        cook: "0 min",
                        servings: "2",
                        calories: 320,
                        image: "avocado-sandwich",
                        ingredients: [
                            "1 can cannellini beans, rinsed",
                            "1 ripe avocado",
                            "2 tsp lemon juice",
                            "1/4 tsp garlic powder",
                            "2 slices whole-grain bread",
                            "1/2 cup arugula",
                            "4 tomato slices",
                            "1 tbsp red onion, sliced"
                        ],
                        instructions: [
                            "Mash beans and avocado together",
                            "Add lemon juice and seasonings",
                            "Toast bread until golden",
                            "Top with arugula, avocado mixture, tomatoes, and onion"
                        ],
                        tips: "Use multigrain bread for extra fiber and nutrients."
                    },
                    snack: {
                        title: "Hummus with Vegetable Sticks",
                        description: "Protein-rich dip with fresh vegetables",
                        prep: "5 min",
                        cook: "0 min",
                        servings: "1",
                        calories: 180,
                        image: "hummus-veggies",
                        ingredients: [
                            "1/4 cup hummus",
                            "1 cup carrot sticks",
                            "1 cup cucumber sticks",
                            "1 cup bell pepper strips"
                        ],
                        instructions: [
                            "Arrange vegetables on plate",
                            "Serve with hummus for dipping",
                            "Enjoy as a crunchy, satisfying snack"
                        ],
                        tips: "Make your own hummus to control sodium content."
                    },
                    dinner: {
                        title: "Grilled Vegetable and Pesto Farro Bowl",
                        description: "Hearty grain bowl with roasted vegetables and pesto",
                        prep: "15 min",
                        cook: "25 min",
                        servings: "3",
                        calories: 350,
                        image: "farro-bowl",
                        ingredients: [
                            "1 cup farro",
                            "1 zucchini, chopped",
                            "1 bell pepper, chopped",
                            "1 red onion, chopped",
                            "2 tbsp pesto",
                            "1 tbsp olive oil",
                            "1/4 cup parmesan cheese"
                        ],
                        instructions: [
                            "Cook farro according to package directions",
                            "Toss vegetables with olive oil and grill until charred",
                            "Mix farro with grilled vegetables and pesto",
                            "Top with parmesan cheese"
                        ],
                        tips: "Pesto adds healthy fats from pine nuts and olive oil."
                    }
                },
                2: { // Tuesday
                    breakfast: {
                        title: "Overnight Oats with Chia Seeds",
                        description: "Make-ahead breakfast with fiber and protein",
                        prep: "5 min",
                        cook: "0 min",
                        servings: "1",
                        calories: 310,
                        image: "overnight-oats",
                        ingredients: [
                            "1/2 cup rolled oats",
                            "1/2 cup almond milk",
                            "1 tbsp chia seeds",
                            "1 tbsp maple syrup",
                            "1/2 cup mixed berries"
                        ],
                        instructions: [
                            "Mix oats, milk, chia seeds, and maple syrup",
                            "Refrigerate overnight",
                            "Top with berries in the morning"
                        ],
                        tips: "Prepare multiple jars for the week ahead."
                    },
                    lunch: {
                        title: "Turkey, Apple and Arugula Panini",
                        description: "Warm pressed sandwich with sweet and savory flavors",
                        prep: "10 min",
                        cook: "5 min",
                        servings: "1",
                        calories: 380,
                        image: "turkey-panini",
                        ingredients: [
                            "2 slices whole wheat bread",
                            "4 oz turkey breast",
                            "1/2 apple, sliced",
                            "1/4 cup arugula",
                            "2 tbsp cheese",
                            "1 tbsp mustard"
                        ],
                        instructions: [
                            "Spread mustard on bread",
                            "Layer turkey, apple, arugula, and cheese",
                            "Grill in panini press until golden"
                        ],
                        tips: "Use a grill pan if you don't have a panini press."
                    },
                    snack: {
                        title: "Greek Yogurt with Peach",
                        description: "High-protein snack with fresh fruit",
                        prep: "3 min",
                        cook: "0 min",
                        servings: "1",
                        calories: 160,
                        image: "yogurt-peach",
                        ingredients: [
                            "3/4 cup Greek yogurt",
                            "1 fresh peach, sliced",
                            "1 tsp honey"
                        ],
                        instructions: [
                            "Spoon yogurt into bowl",
                            "Top with peach slices",
                            "Drizzle with honey if desired"
                        ],
                        tips: "Use plain Greek yogurt to avoid added sugars."
                    },
                    dinner: {
                        title: "Roasted Beet, Timenge and Goat Cheese Salad",
                        description: "Colorful salad with earthy beets and citrus",
                        prep: "20 min",
                        cook: "40 min",
                        servings: "2",
                        calories: 290,
                        image: "beet-salad",
                        ingredients: [
                            "2 medium beets",
                            "2 oranges, segmented",
                            "2 cups arugula",
                            "1/4 cup goat cheese, crumbled",
                            "2 tbsp walnuts",
                            "1 tbsp olive oil",
                            "1 tsp balsamic vinegar"
                        ],
                        instructions: [
                            "Roast beets at 400Â°F for 40 minutes",
                            "Let cool, then peel and slice",
                            "Arrange arugula, beets, and oranges on plates",
                            "Top with goat cheese, walnuts, and dressing"
                        ],
                        tips: "Beets are rich in nitrates, which help lower blood pressure."
                    }
                },
                3: { // Wednesday
                    breakfast: {
                        title: "Whole Wheat Waffles with Berries",
                        description: "Homemade waffles topped with fresh berries",
                        prep: "10 min",
                        cook: "15 min",
                        servings: "2",
                        calories: 340,
                        image: "waffles-berries",
                        ingredients: [
                            "1 cup whole wheat flour",
                            "2 tsp baking powder",
                            "1 egg",
                            "1 cup milk",
                            "2 tbsp oil",
                            "1 cup mixed berries",
                            "2 tbsp maple syrup"
                        ],
                        instructions: [
                            "Mix dry ingredients in one bowl",
                            "Mix wet ingredients in another bowl",
                            "Combine and cook in waffle iron",
                            "Serve with berries and maple syrup"
                        ],
                        tips: "Make extra waffles and freeze for quick breakfasts."
                    },
                    lunch: {
                        title: "Warm Barley and Mushroom Pilaf",
                        description: "Hearty grain dish with earthy mushrooms",
                        prep: "15 min",
                        cook: "30 min",
                        servings: "3",
                        calories: 320,
                        image: "barley-pilaf",
                        ingredients: [
                            "1 cup pearl barley",
                            "2 cups vegetable broth",
                            "1 cup mushrooms, sliced",
                            "1 onion, diced",
                            "2 carrots, diced",
                            "2 cloves garlic, minced",
                            "1 tsp thyme"
                        ],
                        instructions: [
                            "SautÃ© onion and carrots until soft",
                            "Add garlic and mushrooms, cook 5 minutes",
                            "Add barley, broth, and thyme",
                            "Simmer until barley is tender, about 25 minutes"
                        ],
                        tips: "Barley is high in beta-glucan, which helps lower cholesterol."
                    },
                    snack: {
                        title: "Apple Slices with Peanut Butter",
                        description: "Classic combination of fruit and protein",
                        prep: "3 min",
                        cook: "0 min",
                        servings: "1",
                        calories: 200,
                        image: "apple-peanut-butter",
                        ingredients: [
                            "1 medium apple",
                            "2 tbsp natural peanut butter",
                            "1/8 tsp cinnamon"
                        ],
                        instructions: [
                            "Core and slice apple",
                            "Serve with peanut butter for dipping",
                            "Sprinkle with cinnamon"
                        ],
                        tips: "Choose natural peanut butter without added sugar."
                    },
                    dinner: {
                        title: "Smoky Paprika Tofu Lettuce Wraps",
                        description: "Flavorful tofu wraps in crisp lettuce cups",
                        prep: "15 min",
                        cook: "20 min",
                        servings: "2",
                        calories: 280,
                        image: "tofu-wraps",
                        ingredients: [
                            "1 block firm tofu",
                            "1 tbsp smoked paprika",
                            "1 tbsp soy sauce",
                            "1 tbsp olive oil",
                            "8 large lettuce leaves",
                            "1 carrot, shredded",
                            "1 cucumber, shredded",
                            "1/4 cup peanuts"
                        ],
                        instructions: [
                            "Press tofu and cut into cubes",
                            "Toss with paprika, soy sauce, and oil",
                            "Bake at 400Â°F for 20 minutes until crispy",
                            "Serve in lettuce cups with vegetables and peanuts"
                        ],
                        tips: "Extra-firm tofu works best for this recipe."
                    }
                },
                4: { // Thursday
                    breakfast: {
                        title: "Chia Seed Pudding",
                        description: "Creamy pudding packed with fiber and omega-3s",
                        prep: "5 min",
                        cook: "0 min",
                        servings: "1",
                        calories: 250,
                        image: "chia-pudding",
                        ingredients: [
                            "3 tbsp chia seeds",
                            "1 cup almond milk",
                            "1 tbsp maple syrup",
                            "1/2 tsp vanilla",
                            "1/4 cup berries"
                        ],
                        instructions: [
                            "Mix chia seeds, milk, maple syrup, and vanilla",
                            "Refrigerate for at least 4 hours or overnight",
                            "Top with berries before serving"
                        ],
                        tips: "Make multiple servings for quick breakfasts all week."
                    },
                    lunch: {
                        title: "Tuna and White Bean NiÃ§oise Salad",
                        description: "Protein-packed salad with Mediterranean flavors",
                        prep: "20 min",
                        cook: "10 min",
                        servings: "2",
                        calories: 340,
                        image: "tuna-nicoise",
                        ingredients: [
                            "2 cans tuna in water",
                            "1 can white beans",
                            "4 small potatoes, boiled",
                            "1 cup green beans, steamed",
                            "4 eggs, hard-boiled",
                            "2 cups mixed greens",
                            "2 tbsp olive oil",
                            "1 tbsp lemon juice"
                        ],
                        instructions: [
                            "Arrange greens on plates",
                            "Top with tuna, beans, potatoes, green beans, and eggs",
                            "Drizzle with olive oil and lemon juice",
                            "Season with salt and pepper"
                        ],
                        tips: "Use fresh tuna when available for the best flavor."
                    },
                    snack: {
                        title: "Edamame with Sea Salt",
                        description: "Protein-rich soybeans with minimal seasoning",
                        prep: "5 min",
                        cook: "5 min",
                        servings: "1",
                        calories: 150,
                        image: "edamame",
                        ingredients: [
                            "1 cup edamame, frozen",
                            "1/4 tsp sea salt",
                            "1/4 tsp garlic powder"
                        ],
                        instructions: [
                            "Boil edamame for 5 minutes",
                            "Drain and sprinkle with seasonings",
                            "Serve warm or at room temperature"
                        ],
                        tips: "Edamame provides complete protein and fiber."
                    },
                    dinner: {
                        title: "Curried Lentil and Carrot Stew with Brown Rice",
                        description: "Fragrant curry with hearty lentils and vegetables",
                        prep: "15 min",
                        cook: "35 min",
                        servings: "4",
                        calories: 310,
                        image: "lentil-curry",
                        ingredients: [
                            "1 cup brown lentils",
                            "1 cup brown rice",
                            "2 carrots, diced",
                            "1 onion, diced",
                            "2 cloves garlic, minced",
                            "1 tbsp curry powder",
                            "1 can coconut milk",
                            "4 cups vegetable broth"
                        ],
                        instructions: [
                            "Cook rice according to package directions",
                            "SautÃ© onion and carrots until soft",
                            "Add garlic and curry powder, cook 1 minute",
                            "Add lentils, coconut milk, and broth, simmer 25 minutes",
                            "Serve over rice"
                        ],
                        tips: "Red lentils cook faster and make the creamiest curry."
                    }
                },
                5: { // Friday
                    breakfast: {
                        title: "Poached Eggs on Whole Wheat Toast",
                        description: "Classic breakfast with perfectly poached eggs",
                        prep: "10 min",
                        cook: "5 min",
                        servings: "1",
                        calories: 280,
                        image: "poached-eggs",
                        ingredients: [
                            "2 large eggs",
                            "2 slices whole wheat toast",
                            "1 avocado, sliced",
                            "Salt and pepper to taste",
                            "Hot sauce, optional"
                        ],
                        instructions: [
                            "Toast bread until golden",
                            "Poach eggs in simmering water for 3-4 minutes",
                            "Top toast with avocado and poached eggs",
                            "Season with salt, pepper, and hot sauce"
                        ],
                        tips: "Add a splash of vinegar to the water for better poaching."
                    },
                    lunch: {
                        title: "Caprese Chickpea Salad with Balsamic Reduction",
                        description: "Fresh salad with chickpeas and mozzarella",
                        prep: "15 min",
                        cook: "0 min",
                        servings: "2",
                        calories: 320,
                        image: "caprese-salad",
                        ingredients: [
                            "1 can chickpeas, rinsed",
                            "1 cup cherry tomatoes, halved",
                            "1/2 cup mozzarella balls",
                            "1/4 cup fresh basil",
                            "2 tbsp balsamic glaze",
                            "1 tbsp olive oil"
                        ],
                        instructions: [
                            "Combine chickpeas, tomatoes, and mozzarella",
                            "Tear basil and add to salad",
                            "Drizzle with balsamic glaze and olive oil",
                            "Toss gently and serve"
                        ],
                        tips: "Balsamic reduction adds concentrated flavor without extra calories."
                    },
                    snack: {
                        title: "Pear with Walnuts",
                        description: "Sweet pear with crunchy walnuts",
                        prep: "2 min",
                        cook: "0 min",
                        servings: "1",
                        calories: 180,
                        image: "pear-walnuts",
                        ingredients: [
                            "1 medium pear",
                            "1/4 cup walnuts",
                            "1 oz cheese, optional"
                        ],
                        instructions: [
                            "Slice pear",
                            "Serve with walnuts",
                            "Add cheese for extra protein if desired"
                        ],
                        tips: "Walnuts provide omega-3 fatty acids for brain health."
                    },
                    dinner: {
                        title: "Turkey Avocado Wrap with Cilantro-Yogurt Sauce",
                        description: "Flavorful wrap with creamy cilantro sauce",
                        prep: "15 min",
                        cook: "0 min",
                        servings: "1",
                        calories: 360,
                        image: "turkey-wrap",
                        ingredients: [
                            "1 large whole wheat tortilla",
                            "4 oz sliced turkey",
                            "1/4 avocado, sliced",
                            "1/4 cup Greek yogurt",
                            "2 tbsp cilantro, chopped",
                            "1 tsp lime juice",
                            "1 cup mixed greens"
                        ],
                        instructions: [
                            "Mix yogurt, cilantro, and lime juice for sauce",
                            "Spread sauce on tortilla",
                            "Layer turkey, avocado, and greens",
                            "Roll tightly and cut in half"
                        ],
                        tips: "Add pickled red onions for extra flavor and crunch."
                    }
                },
                6: { // Saturday
                    breakfast: {
                        title: "Breakfast Burrito Bowl",
                        description: "Deconstructed burrito with all the fixings",
                        prep: "15 min",
                        cook: "10 min",
                        servings: "1",
                        calories: 390,
                        image: "burrito-bowl",
                        ingredients: [
                            "2 eggs, scrambled",
                            "1/2 cup black beans",
                            "1/4 avocado, diced",
                            "1/4 cup salsa",
                            "2 tbsp cheese",
                            "1/4 cup brown rice"
                        ],
                        instructions: [
                            "Cook rice according to package",
                            "Scramble eggs",
                            "Assemble bowl with rice, beans, eggs, and toppings",
                            "Serve hot with salsa"
                        ],
                        tips: "Add jalapeÃ±os for extra spice and metabolism boost."
                    },
                    lunch: {
                        title: "Zesty Cilantro Lime Shrimp Bowl with Cauliflower Rice",
                        description: "Low-carb bowl with zesty shrimp and cauliflower rice",
                        prep: "15 min",
                        cook: "10 min",
                        servings: "2",
                        calories: 290,
                        image: "shrimp-bowl",
                        ingredients: [
                            "1 lb shrimp, peeled",
                            "2 cups cauliflower rice",
                            "1 avocado, diced",
                            "1/4 cup cilantro",
                            "2 tbsp lime juice",
                            "1 tsp cumin",
                            "1 tbsp olive oil"
                        ],
                        instructions: [
                            "SautÃ© cauliflower rice until tender",
                            "Season shrimp with cumin and lime juice",
                            "Cook shrimp in olive oil until pink",
                            "Assemble bowl with cauliflower rice, shrimp, avocado, and cilantro"
                        ],
                        tips: "Cauliflower rice is a great low-carb alternative to regular rice."
                    },
                    snack: {
                        title: "Dark Chocolate and Almonds",
                        description: "Antioxidant-rich dark chocolate with almonds",
                        prep: "2 min",
                        cook: "0 min",
                        servings: "1",
                        calories: 190,
                        image: "chocolate-almonds",
                        ingredients: [
                            "1 oz dark chocolate (70%+)",
                            "1/4 cup almonds",
                            "1/4 cup dried cherries"
                        ],
                        instructions: [
                            "Break chocolate into squares",
                            "Portion out almonds and cherries",
                            "Enjoy together for a satisfying treat"
                        ],
                        tips: "Dark chocolate contains flavonoids that help lower blood pressure."
                    },
                    dinner: {
                        title: "Roasted Sweet Potato and Black Bean Quesadilla",
                        description: "Nutritious quesadilla with sweet potatoes and black beans",
                        prep: "15 min",
                        cook: "15 min",
                        servings: "2",
                        calories: 330,
                        image: "quesadilla",
                        ingredients: [
                            "2 whole wheat tortillas",
                            "1 sweet potato, cooked and mashed",
                            "1 can black beans, rinsed",
                            "1/2 cup cheese",
                            "1 tsp cumin",
                            "1 tsp chili powder",
                            "1/4 cup Greek yogurt for serving"
                        ],
                        instructions: [
                            "Mix sweet potato, beans, cheese, and spices",
                            "Spread on one tortilla and top with second",
                            "Cook in skillet until golden on both sides",
                            "Cut into wedges and serve with yogurt"
                        ],
                        tips: "Sweet potatoes are rich in beta-carotene and fiber."
                    }
                },
                7: { // Sunday
                    breakfast: {
                        title: "Shakshuka with Whole Grain Toast",
                        description: "Eggs poached in spiced tomato sauce",
                        prep: "10 min",
                        cook: "20 min",
                        servings: "2",
                        calories: 310,
                        image: "shakshuka",
                        ingredients: [
                            "4 eggs",
                            "1 can diced tomatoes",
                            "1 onion, diced",
                            "2 cloves garlic, minced",
                            "1 tsp cumin",
                            "1 tsp paprika",
                            "2 slices whole grain toast"
                        ],
                        instructions: [
                            "SautÃ© onion and garlic until soft",
                            "Add tomatoes and spices, simmer 10 minutes",
                            "Make wells in sauce and crack eggs into them",
                            "Cover and cook until eggs are set",
                            "Serve with whole grain toast"
                        ],
                        tips: "Shakshuka is high in lycopene from tomatoes."
                    },
                    lunch: {
                        title: "Grilled Pear, Walnut and Gorgonzola Salad",
                        description: "Elegant salad with sweet pear and tangy gorgonzola",
                        prep: "15 min",
                        cook: "10 min",
                        servings: "2",
                        calories: 340,
                        image: "pear-salad",
                        ingredients: [
                            "2 pears, sliced",
                            "4 cups mixed greens",
                            "1/4 cup walnuts, toasted",
                            "1/4 cup gorgonzola, crumbled",
                            "2 tbsp balsamic vinegar",
                            "1 tbsp olive oil",
                            "1 tsp honey"
                        ],
                        instructions: [
                            "Grill pear slices until lightly charred",
                            "Whisk together balsamic, oil, and honey",
                            "Toss greens with dressing",
                            "Top with grilled pears, walnuts, and gorgonzola"
                        ],
                        tips: "Grilling brings out the natural sweetness of the pears."
                    },
                    snack: {
                        title: "Cottage Cheese with Tomato",
                        description: "High-protein snack with fresh tomatoes",
                        prep: "3 min",
                        cook: "0 min",
                        servings: "1",
                        calories: 160,
                        image: "cottage-cheese",
                        ingredients: [
                            "1/2 cup cottage cheese",
                            "1 tomato, diced",
                            "1 tsp basil",
                            "Black pepper to taste"
                        ],
                        instructions: [
                            "Spoon cottage cheese into bowl",
                            "Top with diced tomato",
                            "Season with basil and pepper"
                        ],
                        tips: "Use low-fat cottage cheese for maximum protein with fewer calories."
                    },
                    dinner: {
                        title: "Egg and Vegetable Frittata with Whole-Grain Toast",
                        description: "Versatile frittata packed with vegetables",
                        prep: "15 min",
                        cook: "20 min",
                        servings: "4",
                        calories: 280,
                        image: "frittata",
                        ingredients: [
                            "6 eggs",
                            "2 cups mixed vegetables",
                            "1/4 cup cheese",
                            "1 tsp olive oil",
                            "1 tsp herbs",
                            "4 slices whole grain toast"
                        ],
                        instructions: [
                            "SautÃ© vegetables in olive oil",
                            "Whisk eggs with herbs and pour over vegetables",
                            "Top with cheese and bake at 375Â°F for 15-20 minutes",
                            "Serve with whole grain toast"
                        ],
                        tips: "Frittata is great for using up leftover vegetables."
                    }
                }
            },
            // Week 3 Recipes
            week3: {
                1: { // Monday
                    breakfast: {
                        title: "Green Power Smoothie",
                        description: "Nutrient-dense smoothie with spinach and protein",
                        prep: "5 min",
                        cook: "0 min",
                        servings: "1",
                        calories: 270,
                        image: "green-smoothie",
                        ingredients: [
                            "1 cup spinach",
                            "1 banana",
                            "1/2 cup pineapple",
                            "1 scoop protein powder",
                            "1 cup almond milk",
                            "1 tbsp almond butter"
                        ],
                        instructions: [
                            "Add all ingredients to blender",
                            "Blend until smooth and creamy",
                            "Add more milk if needed for consistency",
                            "Serve immediately"
                        ],
                        tips: "You won't taste the spinach but you'll get all its nutrients."
                    },
                    lunch: {
                        title: "Miso-Scallion Soba Bowl with Steamed Greens",
                        description: "Japanese-inspired noodle bowl with miso flavor",
                        prep: "15 min",
                        cook: "10 min",
                        servings: "2",
                        calories: 330,
                        image: "soba-bowl",
                        ingredients: [
                            "6 oz soba noodles",
                            "2 tbsp miso paste",
                            "2 scallions, sliced",
                            "2 cups bok choy",
                            "1 cup edamame",
                            "1 tbsp sesame oil",
                            "1 tsp ginger"
                        ],
                        instructions: [
                            "Cook soba noodles according to package",
                            "Steam bok choy until tender",
                            "Mix miso with warm water to create sauce",
                            "Toss noodles with miso sauce, vegetables, and sesame oil"
                        ],
                        tips: "Soba noodles are made from buckwheat and are gluten-free."
                    },
                    snack: {
                        title: "Roasted Chickpeas",
                        description: "Crunchy, protein-packed snack",
                        prep: "5 min",
                        cook: "25 min",
                        servings: "1",
                        calories: 140,
                        image: "roasted-chickpeas",
                        ingredients: [
                            "1 can chickpeas, rinsed",
                            "1 tsp olive oil",
                            "1/2 tsp paprika",
                            "1/4 tsp salt",
                            "1/4 tsp garlic powder"
                        ],
                        instructions: [
                            "Dry chickpeas thoroughly",
                            "Toss with oil and seasonings",
                            "Roast at 400Â°F for 20-25 minutes until crispy",
                            "Let cool before serving"
                        ],
                        tips: "Make extra for a crunchy salad topper."
                    },
                    dinner: {
                        title: "Greek Lentil Salad with Cucumbers and Feta",
                        description: "Fresh Mediterranean salad with protein-rich lentils",
                        prep: "20 min",
                        cook: "20 min",
                        servings: "4",
                        calories: 300,
                        image: "lentil-salad",
                        ingredients: [
                            "1 cup green lentils, cooked",
                            "1 cucumber, diced",
                            "1/2 red onion, diced",
                            "1/2 cup feta cheese",
                            "1/4 cup olives",
                            "2 tbsp olive oil",
                            "1 tbsp lemon juice",
                            "1/4 cup fresh dill"
                        ],
                        instructions: [
                            "Cook lentils until tender but not mushy",
                            "Let cool and mix with diced vegetables",
                            "Add feta, olives, and fresh dill",
                            "Dress with olive oil and lemon juice"
                        ],
                        tips: "This salad gets even better after marinating for a few hours."
                    }
                },
                2: { // Tuesday - Adding more recipes... 
                    breakfast: {
                        title: "Quinoa Porridge with Berries",
                        description: "Warm quinoa cereal topped with antioxidant berries",
                        prep: "5 min",
                        cook: "15 min",
                        servings: "2",
                        calories: 290,
                        image: "quinoa-porridge",
                        ingredients: [
                            "1 cup quinoa",
                            "2 cups almond milk",
                            "1 tbsp maple syrup",
                            "1 tsp cinnamon",
                            "1 cup mixed berries",
                            "2 tbsp walnuts"
                        ],
                        instructions: [
                            "Rinse quinoa and cook with almond milk",
                            "Simmer for 15 minutes until creamy",
                            "Stir in maple syrup and cinnamon",
                            "Top with berries and walnuts"
                        ],
                        tips: "Quinoa provides all nine essential amino acids."
                    },
                    lunch: {
                        title: "Spiced Pumpkin and Chickpea Buddha Bowl",
                        description: "Fall-inspired bowl with warming spices",
                        prep: "15 min",
                        cook: "25 min",
                        servings: "3",
                        calories: 320,
                        image: "buddha-bowl",
                        ingredients: [
                            "1 can chickpeas",
                            "1 cup pumpkin puree",
                            "1 cup brown rice",
                            "2 cups kale",
                            "1 tsp pumpkin pie spice",
                            "2 tbsp tahini",
                            "1 tbsp lemon juice"
                        ],
                        instructions: [
                            "Cook rice according to package",
                            "Roast chickpeas with spices at 400Â°F for 20 minutes",
                            "Massage kale with olive oil",
                            "Assemble bowl with rice, kale, chickpeas, and pumpkin",
                            "Drizzle with tahini-lemon dressing"
                        ],
                        tips: "Pumpkin is high in vitamin A and fiber."
                    },
                    snack: {
                        title: "Kefir with Berries",
                        description: "Probiotic-rich drink with antioxidant berries",
                        prep: "2 min",
                        cook: "0 min",
                        servings: "1",
                        calories: 150,
                        image: "kefir-berries",
                        ingredients: [
                            "1 cup kefir",
                            "1/2 cup mixed berries",
                            "1 tsp honey"
                        ],
                        instructions: [
                            "Pour kefir into glass",
                            "Add berries",
                            "Drizzle with honey if desired",
                            "Stir and enjoy"
                        ],
                        tips: "Kefir contains more probiotics than yogurt."
                    },
                    dinner: {
                        title: "Lemon-Garlic Turkey Meatball Lettuce Cups",
                        description: "Light and flavorful meatballs in crisp lettuce cups",
                        prep: "20 min",
                        cook: "15 min",
                        servings: "4",
                        calories: 290,
                        image: "meatball-cups",
                        ingredients: [
                            "1 lb ground turkey",
                            "1/2 cup breadcrumbs",
                            "1 egg",
                            "2 cloves garlic, minced",
                            "1 tbsp lemon zest",
                            "1 tsp oregano",
                            "8 large lettuce leaves",
                            "1/4 cup tzatziki"
                        ],
                        instructions: [
                            "Mix turkey, breadcrumbs, egg, garlic, lemon zest, and oregano",
                            "Form into small meatballs",
                            "Bake at 400Â°F for 15 minutes",
                            "Serve in lettuce cups with tzatziki"
                        ],
                        tips: "Use butter lettuce cups for the best cup shape."
                    }
                },
                3: { // Wednesday
                    breakfast: {
                        title: "Apple Cinnamon Oatmeal",
                        description: "Warm oatmeal with sweet apple and cinnamon",
                        prep: "5 min",
                        cook: "10 min",
                        servings: "1",
                        calories: 280,
                        image: "apple-oatmeal",
                        ingredients: [
                            "1/2 cup rolled oats",
                            "1 cup water",
                            "1/2 apple, diced",
                            "1 tsp cinnamon",
                            "1 tbsp walnuts",
                            "1 tsp maple syrup"
                        ],
                        instructions: [
                            "Cook oats with water until creamy",
                            "Stir in diced apple and cinnamon",
                            "Cook for 2 more minutes",
                            "Top with walnuts and maple syrup"
                        ],
                        tips: "Apples add natural sweetness, reducing the need for added sugar."
                    },
                    lunch: {
                        title: "Heirloom Tomato, Basil and White Bean Bruschetta",
                        description: "Fresh bruschetta on multigrain bread",
                        prep: "15 min",
                        cook: "5 min",
                        servings: "3",
                        calories: 310,
                        image: "bruschetta",
                        ingredients: [
                            "6 slices multigrain bread",
                            "2 heirloom tomatoes, diced",
                            "1 can white beans, rinsed",
                            "1/4 cup fresh basil",
                            "2 cloves garlic",
                            "2 tbsp olive oil",
                            "1 tbsp balsamic vinegar"
                        ],
                        instructions: [
                            "Toast bread until golden",
                            "Mix tomatoes, beans, basil, garlic, oil, and vinegar",
                            "Top each toast slice with mixture",
                            "Serve immediately"
                        ],
                        tips: "Use the ripest, most flavorful tomatoes available."
                    },
                    snack: {
                        title: "Carrots with Hummus",
                        description: "Crunchy carrots with protein-rich hummus",
                        prep: "3 min",
                        cook: "0 min",
                        servings: "1",
                        calories: 140,
                        image: "carrots-hummus",
                        ingredients: [
                            "1 cup carrot sticks",
                            "1/4 cup hummus",
                            "1 tsp paprika"
                        ],
                        instructions: [
                            "Arrange carrot sticks on plate",
                            "Add hummus for dipping",
                            "Sprinkle with paprika"
                        ],
                        tips: "Baby carrots are convenient but whole carrots are more economical."
                    },
                    dinner: {
                        title: "Balsamic Chicken and Roasted Cherry Tomatoes",
                        description: "Flavorful chicken with sweet roasted tomatoes",
                        prep: "10 min",
                        cook: "25 min",
                        servings: "2",
                        calories: 320,
                        image: "balsamic-chicken",
                        ingredients: [
                            "2 chicken breasts",
                            "1 cup cherry tomatoes",
                            "2 tbsp balsamic vinegar",
                            "1 tbsp olive oil",
                            "2 cloves garlic",
                            "1 tsp dried herbs",
                            "1 cup arugula"
                        ],
                        instructions: [
                            "Season chicken with herbs and garlic",
                            "Roast at 400Â°F for 15 minutes",
                            "Add tomatoes and balsamic, roast 10 more minutes",
                            "Serve over arugula"
                        ],
                        tips: "Balsamic vinegar caramelizes the tomatoes beautifully."
                    }
                },
                4: { // Thursday
                    breakfast: {
                        title: "Protein Pancakes",
                        description: "High-protein pancakes to fuel your day",
                        prep: "10 min",
                        cook: "10 min",
                        servings: "2",
                        calories: 300,
                        image: "protein-pancakes",
                        ingredients: [
                            "1/2 cup oats",
                            "1/2 cup cottage cheese",
                            "2 eggs",
                            "1/2 tsp baking powder",
                            "1 tsp vanilla",
                            "1 cup berries"
                        ],
                        instructions: [
                            "Blend all ingredients except berries",
                            "Cook on griddle until bubbles form",
                            "Flip and cook until golden",
                            "Serve with berries"
                        ],
                        tips: "These pancakes are gluten-free and high in protein."
                    },
                    lunch: {
                        title: "Mediterranean Pasta Salad",
                        description: "Cold pasta salad with Mediterranean flavors",
                        prep: "15 min",
                        cook: "10 min",
                        servings: "4",
                        calories: 340,
                        image: "pasta-salad",
                        ingredients: [
                            "8 oz whole wheat pasta",
                            "1 cup cherry tomatoes",
                            "1/2 cup olives",
                            "1/2 cup feta",
                            "1/4 cup red onion",
                            "2 tbsp olive oil",
                            "1 tbsp lemon juice",
                            "1/4 cup fresh herbs"
                        ],
                        instructions: [
                            "Cook pasta according to package",
                            "Mix with vegetables, feta, and herbs",
                            "Dress with olive oil and lemon juice",
                            "Chill for 30 minutes before serving"
                        ],
                        tips: "This salad is perfect for meal prep and gets better overnight."
                    },
                    snack: {
                        title: "Hard-Boiled Eggs with Everything Bagel Seasoning",
                        description: "Protein-packed snack with trendy seasoning",
                        prep: "5 min",
                        cook: "0 min",
                        servings: "1",
                        calories: 140,
                        image: "eggs-seasoning",
                        ingredients: [
                            "2 hard-boiled eggs",
                            "1/2 tsp everything bagel seasoning",
                            "Salt and pepper to taste"
                        ],
                        instructions: [
                            "Peel and slice eggs",
                            "Sprinkle with seasoning",
                            "Season with salt and pepper"
                        ],
                        tips: "Everything bagel seasoning adds great flavor without many calories."
                    },
                    dinner: {
                        title: "Lentil and Sweet Potato Shepherd's Pie",
                        description: "Vegetarian twist on classic shepherd's pie",
                        prep: "20 min",
                        cook: "35 min",
                        servings: "4",
                        calories: 310,
                        image: "shepherd-pie",
                        ingredients: [
                            "1 cup lentils, cooked",
                            "2 sweet potatoes",
                            "1 cup mixed vegetables",
                            "1 onion, diced",
                            "2 tbsp tomato paste",
                            "1/4 cup milk",
                            "2 tbsp butter"
                        ],
                        instructions: [
                            "Cook and mash sweet potatoes with milk and butter",
                            "SautÃ© onion and vegetables",
                            "Add lentils and tomato paste",
                            "Top with mashed sweet potatoes",
                            "Bake at 375Â°F for 20 minutes"
                        ],
                        tips: "Sweet potatoes add beta-carotene and natural sweetness."
                    }
                },
                5: { // Friday
                    breakfast: {
                        title: "Breakfast Tacos",
                        description: "Scrambled eggs in corn tortillas",
                        prep: "10 min",
                        cook: "10 min",
                        servings: "2",
                        calories: 320,
                        image: "breakfast-tacos",
                        ingredients: [
                            "4 corn tortillas",
                            "4 eggs",
                            "1/4 cup black beans",
                            "1/4 cup cheese",
                            "1/4 cup salsa",
                            "1 avocado, sliced"
                        ],
                        instructions: [
                            "Warm tortillas",
                            "Scramble eggs",
                            "Fill tortillas with eggs, beans, cheese, and salsa",
                            "Top with avocado"
                        ],
                        tips: "Corn tortillas are gluten-free and add great texture."
                    },
                    lunch: {
                        title: "Asian Noodle Salad",
                        description: "Cold noodle salad with Asian flavors",
                        prep: "20 min",
                        cook: "8 min",
                        servings: "3",
                        calories: 330,
                        image: "noodle-salad",
                        ingredients: [
                            "6 oz soba noodles",
                            "1 cup edamame",
                            "1 cup shredded carrots",
                            "1 cucumber, julienned",
                            "2 tbsp sesame oil",
                            "1 tbsp rice vinegar",
                            "1 tsp ginger"
                        ],
                        instructions: [
                            "Cook soba noodles and rinse with cold water",
                            "Mix with vegetables",
                            "Dress with sesame oil, vinegar, and ginger",
                            "Chill before serving"
                        ],
                        tips: "Add toasted sesame seeds for extra crunch and flavor."
                    },
                    snack: {
                        title: "Pomegranate Seeds with Walnuts",
                        description: "Antioxidant-rich seeds with healthy fats",
                        prep: "5 min",
                        cook: "0 min",
                        servings: "1",
                        calories: 160,
                        image: "pomegranate-walnuts",
                        ingredients: [
                            "1/2 pomegranate seeds",
                            "1/4 cup walnuts",
                            "1 tsp honey"
                        ],
                        instructions: [
                            "Remove pomegranate seeds",
                            "Mix with walnuts",
                            "Drizzle with honey",
                            "Enjoy as a healthy snack"
                        ],
                        tips: "Pomegranates are rich in antioxidants and anti-inflammatory compounds."
                    },
                    dinner: {
                        title: "Miso-Glazed Cod with Steamed Bok Choy",
                        description: "Delicate cod with umami miso glaze",
                        prep: "15 min",
                        cook: "10 min",
                        servings: "2",
                        calories: 280,
                        image: "miso-cod",
                        ingredients: [
                            "2 cod fillets",
                            "2 tbsp miso paste",
                            "1 tbsp mirin",
                            "1 tsp sugar",
                            "4 bok choy",
                            "1 tsp sesame oil",
                            "2 tsp sesame seeds"
                        ],
                        instructions: [
                            "Mix miso, mirin, and sugar",
                            "Brush on cod fillets",
                            "Broil for 6-8 minutes",
                            "Steam bok choy",
                            "Serve with sesame oil and seeds"
                        ],
                        tips: "Miso provides beneficial probiotics and gut-healthy bacteria."
                    }
                },
                6: { // Saturday
                    breakfast: {
                        title: "Savory Breakfast Quinoa",
                        description: "Savory quinoa bowl with vegetables",
                        prep: "10 min",
                        cook: "15 min",
                        servings: "2",
                        calories: 310,
                        image: "savory-quinoa",
                        ingredients: [
                            "1 cup quinoa",
                            "2 cups vegetable broth",
                            "1/2 cup mushrooms",
                            "1/4 cup spinach",
                            "2 eggs",
                            "1 tbsp parmesan"
                        ],
                        instructions: [
                            "Cook quinoa in vegetable broth",
                            "SautÃ© mushrooms and add spinach",
                            "Top with fried egg and parmesan",
                            "Season with salt and pepper"
                        ],
                        tips: "Quinoa is a complete protein, making it perfect for breakfast."
                    },
                    lunch: {
                        title: "Thai Peanut Chicken Wrap",
                        description: "Chicken wrap with Thai peanut flavors",
                        prep: "15 min",
                        cook: "10 min",
                        servings: "2",
                        calories: 350,
                        image: "peanut-wrap",
                        ingredients: [
                            "2 whole wheat tortillas",
                            "6 oz chicken breast, cooked",
                            "2 tbsp peanut butter",
                            "1 tbsp soy sauce",
                            "1 tsp lime juice",
                            "1 cup shredded cabbage",
                            "1/4 cup cilantro"
                        ],
                        instructions: [
                            "Mix peanut butter, soy sauce, and lime juice",
                            "Toss chicken with sauce",
                            "Fill tortillas with chicken and cabbage",
                            "Top with cilantro and roll"
                        ],
                        tips: "Add shredded carrots for extra color and crunch."
                    },
                    snack: {
                        title: "Berries with Whipped Cottage Cheese",
                        description: "High-protein snack with fresh berries",
                        prep: "5 min",
                        cook: "0 min",
                        servings: "1",
                        calories: 150,
                        image: "whipped-cottage",
                        ingredients: [
                            "1/2 cup cottage cheese",
                            "1 cup mixed berries",
                            "1 tsp vanilla",
                            "1 tsp stevia"
                        ],
                        instructions: [
                            "Blend cottage cheese until smooth",
                            "Mix with vanilla and stevia",
                            "Top with berries",
                            "Serve immediately"
                        ],
                        tips: "Blending cottage cheese makes it creamy like dessert."
                    },
                    dinner: {
                        title: "Herb-Crusted Pork Tenderloin with Apple-Cabbage Slaw",
                        description: "Lean pork with crunchy apple slaw",
                        prep: "15 min",
                        cook: "25 min",
                        servings: "4",
                        calories: 330,
                        image: "pork-tenderloin",
                        ingredients: [
                            "1 lb pork tenderloin",
                            "2 tbsp herbs, mixed",
                            "1 tbsp olive oil",
                            "1 apple, julienned",
                            "2 cups cabbage, shredded",
                            "1 tbsp apple cider vinegar",
                            "1 tsp honey"
                        ],
                        instructions: [
                            "Rub pork with herbs and oil",
                            "Roast at 400Â°F for 20-25 minutes",
                            "Mix apple and cabbage with vinegar and honey",
                            "Slice pork and serve with slaw"
                        ],
                        tips: "Let pork rest for 5 minutes before slicing for best texture."
                    }
                },
                7: { // Sunday
                    breakfast: {
                        title: "Peanut Butter Banana Smoothie",
                        description: "Classic smoothie with protein and potassium",
                        prep: "3 min",
                        cook: "0 min",
                        servings: "1",
                        calories: 290,
                        image: "pb-banana-smoothie",
                        ingredients: [
                            "1 banana, frozen",
                            "2 tbsp peanut butter",
                            "1 cup almond milk",
                            "1 scoop protein powder",
                            "1 tbsp flax seeds"
                        ],
                        instructions: [
                            "Add all ingredients to blender",
                            "Blend until smooth",
                            "Add ice if too thick",
                            "Serve immediately"
                        ],
                        tips: "Use frozen banana for a thicker, creamier smoothie."
                    },
                    lunch: {
                        title: "One-Pan Ratatouille with Farro",
                        description: "Classic French vegetable dish with farro",
                        prep: "15 min",
                        cook: "30 min",
                        servings: "4",
                        calories: 340,
                        image: "ratatouille",
                        ingredients: [
                            "1 eggplant, diced",
                            "1 zucchini, diced",
                            "1 bell pepper, diced",
                            "1 can tomatoes",
                            "1 onion, diced",
                            "2 cloves garlic",
                            "1 cup farro",
                            "1 tsp herbs de Provence"
                        ],
                        instructions: [
                            "SautÃ© all vegetables until tender",
                            "Add tomatoes and herbs, simmer 20 minutes",
                            "Cook farro separately",
                            "Serve ratatouille over farro"
                        ],
                        tips: "Ratatouille tastes even better the next day."
                    },
                    snack: {
                        title: "Grapes and Cheese",
                        description: "Simple but elegant snack",
                        prep: "3 min",
                        cook: "0 min",
                        servings: "1",
                        calories: 180,
                        image: "grapes-cheese",
                        ingredients: [
                            "1 cup grapes",
                            "1 oz cheese",
                            "1/4 cup walnuts"
                        ],
                        instructions: [
                            "Wash grapes",
                            "Slice cheese",
                            "Serve with walnuts",
                            "Enjoy as a balanced snack"
                        ],
                        tips: "Choose aged cheese for more flavor with less portion."
                    },
                    dinner: {
                        title: "Lemon-Dill Tilapia en Papillote",
                        description: "Delicate fish cooked in parchment paper",
                        prep: "10 min",
                        cook: "12 min",
                        servings: "2",
                        calories: 260,
                        image: "tilapia-papillote",
                        ingredients: [
                            "2 tilapia fillets",
                            "1 lemon, sliced",
                            "2 tbsp fresh dill",
                            "1 tbsp olive oil",
                            "1 cup zucchini, julienned",
                            "1 cup carrots, julienned",
                            "Parchment paper"
                        ],
                        instructions: [
                            "Place fish on parchment paper",
                            "Top with vegetables, lemon, dill, and oil",
                            "Fold parchment to create packet",
                            "Bake at 400Â°F for 12 minutes"
                        ],
                        tips: "Cooking en papillote keeps fish moist and flavorful."
                    }
                }
            },
            // Week 4 Recipes - Final week
            week4: {
                1: { // Monday
                    breakfast: {
                        title: "Tropical Smoothie Bowl",
                        description: "Exotic fruit smoothie with tropical flavors",
                        prep: "5 min",
                        cook: "0 min",
                        servings: "1",
                        calories: 280,
                        image: "tropical-bowl",
                        ingredients: [
                            "1 cup tropical fruit mix",
                            "1 banana",
                            "1/2 cup coconut milk",
                            "1 tbsp coconut flakes",
                            "1 tbsp chia seeds"
                        ],
                        instructions: [
                            "Blend fruit, banana, and coconut milk",
                            "Pour into bowl",
                            "Top with coconut flakes and chia seeds",
                            "Enjoy immediately"
                        ],
                        tips: "Tropical fruits provide vitamins C and A."
                    },
                    lunch: {
                        title: "Warm Farro Salad with Roasted Vegetables and Walnuts",
                        description: "Hearty grain salad with roasted seasonal vegetables",
                        prep: "15 min",
                        cook: "30 min",
                        servings: "4",
                        calories: 350,
                        image: "farro-vegetables",
                        ingredients: [
                            "1 cup farro",
                            "2 cups mixed vegetables",
                            "1/4 cup walnuts",
                            "2 tbsp olive oil",
                            "1 tsp balsamic vinegar",
                            "1/4 cup feta cheese",
                            "Fresh herbs"
                        ],
                        instructions: [
                            "Cook farro according to package",
                            "Roast vegetables at 425Â°F for 25 minutes",
                            "Mix farro with vegetables and walnuts",
                            "Dress with oil, vinegar, and herbs",
                            "Top with feta"
                        ],
                        tips: "This salad is great warm or at room temperature."
                    },
                    snack: {
                        title: "Kiwi and Greek Yogurt",
                        description: "Tart kiwi with creamy Greek yogurt",
                        prep: "3 min",
                        cook: "0 min",
                        servings: "1",
                        calories: 160,
                        image: "kiwi-yogurt",
                        ingredients: [
                            "2 kiwi, sliced",
                            "1/2 cup Greek yogurt",
                            "1 tsp honey",
                            "1 tsp chia seeds"
                        ],
                        instructions: [
                            "Spoon yogurt into bowl",
                            "Top with sliced kiwi",
                            "Drizzle with honey",
                            "Sprinkle with chia seeds"
                        ],
                        tips: "Kiwi has more vitamin C than oranges."
                    },
                    dinner: {
                        title: "Air Fryer Eggplant Parmesan Stack",
                        description: "Lighter version of classic eggplant parmesan",
                        prep: "15 min",
                        cook: "15 min",
                        servings: "2",
                        calories: 310,
                        image: "eggplant-parmesan",
                        ingredients: [
                            "1 eggplant, sliced",
                            "1/4 cup breadcrumbs",
                            "1/4 cup parmesan",
                            "1/2 cup marinara",
                            "1/4 cup mozzarella",
                            "1 egg, beaten",
                            "2 tbsp olive oil"
                        ],
                        instructions: [
                            "Dip eggplant in egg, then breadcrumbs",
                            "Air fry at 375Â°F for 10 minutes",
                            "Layer with sauce and cheese",
                            "Air fry 5 more minutes until cheese melts"
                        ],
                        tips: "Air frying reduces oil compared to traditional frying."
                    }
                },
                2: { // Tuesday
                    breakfast: {
                        title: "Cottage Cheese Pancakes",
                        description: "High-protein pancakes using cottage cheese",
                        prep: "5 min",
                        cook: "8 min",
                        servings: "2",
                        calories: 290,
                        image: "cottage-pancakes",
                        ingredients: [
                            "1/2 cup cottage cheese",
                            "2 eggs",
                            "1/2 cup oats",
                            "1/2 tsp baking powder",
                            "1 tsp vanilla",
                            "Berries for topping"
                        ],
                        instructions: [
                            "Blend all ingredients until smooth",
                            "Cook on griddle until bubbles form",
                            "Flip and cook until golden",
                            "Serve with berries"
                        ],
                        tips: "These pancakes are naturally high in protein."
                    },
                    lunch: {
                        title: "Soba Noodle Salad with Edamame and Sesame-Ginger Dressing",
                        description: "Asian-inspired cold noodle salad",
                        prep: "15 min",
                        cook: "8 min",
                        servings: "3",
                        calories: 320,
                        image: "soba-noodle-salad",
                        ingredients: [
                            "6 oz soba noodles",
                            "1 cup edamame",
                            "1 cup shredded carrots",
                            "2 tbsp sesame oil",
                            "1 tbsp rice vinegar",
                            "1 tsp ginger",
                            "2 tbsp sesame seeds"
                        ],
                        instructions: [
                            "Cook soba noodles and rinse with cold water",
                            "Mix with edamame and carrots",
                            "Whisk dressing ingredients",
                            "Toss salad with dressing and seeds"
                        ],
                        tips: "Add shredded cucumber for extra crunch."
                    },
                    snack: {
                        title: "Pumpkin Seeds and Dried Fruit",
                        description: "Energy-boosting mix of seeds and fruit",
                        prep: "2 min",
                        cook: "0 min",
                        servings: "1",
                        calories: 170,
                        image: "pumpkin-seeds",
                        ingredients: [
                            "1/4 cup pumpkin seeds",
                            "2 tbsp dried apricots",
                            "1 tbsp dried cranberries"
                        ],
                        instructions: [
                            "Mix pumpkin seeds and dried fruit",
                            "Portion into small bag",
                            "Enjoy as needed"
                        ],
                        tips: "Pumpkin seeds are rich in magnesium and zinc."
                    },
                    dinner: {
                        title: "Moroccan-Spiced Chickpea Stew with Couscous",
                        description: "Fragrant stew with North African spices",
                        prep: "15 min",
                        cook: "25 min",
                        servings: "4",
                        calories: 330,
                        image: "chickpea-couscous",
                        ingredients: [
                            "2 cans chickpeas",
                            "1 can diced tomatoes",
                            "1 onion, diced",
                            "2 carrots, diced",
                            "1 tsp cumin",
                            "1 tsp cinnamon",
                            "1 tsp turmeric",
                            "1 cup couscous"
                        ],
                        instructions: [
                            "SautÃ© onion and carrots",
                            "Add spices and cook 1 minute",
                            "Add chickpeas and tomatoes, simmer 20 minutes",
                            "Prepare couscous according to package",
                            "Serve stew over couscous"
                        ],
                        tips: "Couscous cooks in just 5 minutes, making it very convenient."
                    }
                },
                3: { // Wednesday
                    breakfast: {
                        title: "Apple Pie Oatmeal",
                        description: "Oatmeal that tastes like apple pie",
                        prep: "5 min",
                        cook: "10 min",
                        servings: "1",
                        calories: 300,
                        image: "apple-pie-oatmeal",
                        ingredients: [
                            "1/2 cup oats",
                            "1 cup water",
                            "1/2 apple, diced",
                            "1 tsp cinnamon",
                            "1/4 tsp nutmeg",
                            "1 tbsp walnuts",
                            "1 tsp maple syrup"
                        ],
                        instructions: [
                            "Cook oats with water and apple",
                            "Add spices and cook until tender",
                            "Top with walnuts and maple syrup",
                            "Enjoy warm"
                        ],
                        tips: "The spices make it taste indulgent without added sugar."
                    },
                    lunch: {
                        title: "Turkey and Spinach Whole-Wheat Pasta Primavera",
                        description: "Light pasta with turkey and spring vegetables",
                        prep: "15 min",
                        cook: "15 min",
                        servings: "3",
                        calories: 340,
                        image: "pasta-primavera",
                        ingredients: [
                            "6 oz whole wheat pasta",
                            "4 oz turkey breast, diced",
                            "2 cups mixed vegetables",
                            "2 cups spinach",
                            "2 cloves garlic",
                            "1 tbsp olive oil",
                            "1/4 cup parmesan"
                        ],
                        instructions: [
                            "Cook pasta according to package",
                            "SautÃ© vegetables and garlic in oil",
                            "Add turkey and cook through",
                            "Toss with pasta and spinach",
                            "Top with parmesan"
                        ],
                        tips: "Use any seasonal vegetables you have on hand."
                    },
                    snack: {
                        title: "Plums with Almonds",
                        description: "Sweet plums with crunchy almonds",
                        prep: "2 min",
                        cook: "0 min",
                        servings: "1",
                        calories: 150,
                        image: "plums-almonds",
                        ingredients: [
                            "2 plums",
                            "1/4 cup almonds",
                            "1 tsp honey"
                        ],
                        instructions: [
                            "Slice plums",
                            "Serve with almonds",
                            "Drizzle with honey if desired"
                        ],
                        tips: "Plums are rich in antioxidants and fiber."
                    },
                    dinner: {
                        title: "Black Bean and Corn Stuffed Acorn Squash",
                        description: "Colorful squash stuffed with Tex-Mex flavors",
                        prep: "20 min",
                        cook: "40 min",
                        servings: "4",
                        calories: 310,
                        image: "stuffed-squash",
                        ingredients: [
                            "2 acorn squash",
                            "1 can black beans",
                            "1 cup corn",
                            "1/2 cup cheese",
                            "1 tsp cumin",
                            "1 tsp chili powder",
                            "1/4 cup cilantro"
                        ],
                        instructions: [
                            "Halve and roast squash at 400Â°F for 30 minutes",
                            "Mix beans, corn, spices, and cilantro",
                            "Fill squash with mixture",
                            "Top with cheese and bake 10 more minutes"
                        ],
                        tips: "Acorn squash is rich in vitamins A and C."
                    }
                },
                4: { // Thursday
                    breakfast: {
                        title: "Coconut Chia Pudding",
                        description: "Creamy pudding with tropical coconut flavor",
                        prep: "5 min",
                        cook: "0 min",
                        servings: "1",
                        calories: 240,
                        image: "coconut-chia",
                        ingredients: [
                            "3 tbsp chia seeds",
                            "1 cup coconut milk",
                            "1 tsp vanilla",
                            "1 tsp honey",
                            "1/4 cup mango"
                        ],
                        instructions: [
                            "Mix chia seeds, coconut milk, vanilla, and honey",
                            "Refrigerate overnight",
                            "Top with mango in morning",
                            "Serve chilled"
                        ],
                        tips: "Use light coconut milk for fewer calories."
                    },
                    lunch: {
                        title: "Mediterranean Tuna Salad",
                        description: "Tuna salad with Mediterranean flavors",
                        prep: "10 min",
                        cook: "0 min",
                        servings: "2",
                        calories: 290,
                        image: "med-tuna-salad",
                        ingredients: [
                            "2 cans tuna",
                            "1/4 cup olives",
                            "1/4 cup sun-dried tomatoes",
                            "1 tbsp capers",
                            "2 tbsp olive oil",
                            "1 tbsp lemon juice",
                            "Fresh herbs"
                        ],
                        instructions: [
                            "Flake tuna into bowl",
                            "Add olives, tomatoes, and capers",
                            "Dress with oil and lemon juice",
                            "Mix in fresh herbs",
                            "Serve over greens"
                        ],
                        tips: "This version has no mayo, making it lighter and healthier."
                    },
                    snack: {
                        title: "Timenge and Dark Chocolate",
                        description: "Sweet orange with rich dark chocolate",
                        prep: "2 min",
                        cook: "0 min",
                        servings: "1",
                        calories: 160,
                        image: "orange-chocolate",
                        ingredients: [
                            "1 orange",
                            "1 oz dark chocolate",
                            "1 tbsp almonds"
                        ],
                        instructions: [
                            "Peel and segment orange",
                            "Break chocolate into squares",
                            "Serve with almonds",
                            "Enjoy the combination"
                        ],
                        tips: "Dark chocolate should be at least 70% cacao for health benefits."
                    },
                    dinner: {
                        title: "Greek Yogurt Tueinated Chicken Wraps with Tzatziki",
                        description: "Tender chicken wrapped with fresh tzatziki",
                        prep: "20 min",
                        cook: "15 min",
                        servings: "3",
                        calories: 320,
                        image: "chicken-wraps",
                        ingredients: [
                            "1 lb chicken breast",
                            "1/2 cup Greek yogurt",
                            "2 tbsp lemon juice",
                            "1 tsp garlic powder",
                            "3 whole wheat tortillas",
                            "1 cucumber, grated",
                            "1/4 cup dill"
                        ],
                        instructions: [
                            "Tueinate chicken in yogurt mixture for 15 minutes",
                            "Grill or cook chicken until done",
                            "Make tzatziki with yogurt, cucumber, and dill",
                            "Wrap chicken in tortillas with tzatziki"
                        ],
                        tips: "The yogurt marinade keeps chicken very moist."
                    }
                },
                5: { // Friday
                    breakfast: {
                        title: "Sweet Potato Hash with Eggs",
                        description: "Hearty hash with sweet potatoes and eggs",
                        prep: "10 min",
                        cook: "15 min",
                        servings: "2",
                        calories: 350,
                        image: "sweet-potato-hash",
                        ingredients: [
                            "1 sweet potato, diced",
                            "1 bell pepper, diced",
                            "1 onion, diced",
                            "2 tbsp olive oil",
                            "4 eggs",
                            "1 tsp paprika"
                        ],
                        instructions: [
                            "SautÃ© sweet potato in oil until tender",
                            "Add pepper and onion, cook until soft",
                            "Create wells and crack eggs",
                            "Cook until eggs are set"
                        ],
                        tips: "Sweet potatoes add natural sweetness and vitamin A."
                    },
                    lunch: {
                        title: "Quinoa Tabbouleh",
                        description: "Fresh herb salad with quinoa instead of bulgur",
                        prep: "15 min",
                        cook: "15 min",
                        servings: "4",
                        calories: 280,
                        image: "quinoa-tabbouleh",
                        ingredients: [
                            "1 cup quinoa",
                            "2 cups parsley, chopped",
                            "1 cup mint, chopped",
                            "2 tomatoes, diced",
                            "1 cucumber, diced",
                            "3 tbsp lemon juice",
                            "2 tbsp olive oil"
                        ],
                        instructions: [
                            "Cook quinoa and let cool",
                            "Mix with herbs and vegetables",
                            "Dress with lemon juice and olive oil",
                            "Chill before serving"
                        ],
                        tips: "This salad is very refreshing and perfect for summer."
                    },
                    snack: {
                        title: "Yogurt with Granola and Berries",
                        description: "Classic parfait combination",
                        prep: "3 min",
                        cook: "0 min",
                        servings: "1",
                        calories: 200,
                        image: "yogurt-granola",
                        ingredients: [
                            "1 cup Greek yogurt",
                            "1/4 cup granola",
                            "1/2 cup berries",
                            "1 tsp honey"
                        ],
                        instructions: [
                            "Layer yogurt, granola, and berries",
                            "Drizzle with honey",
                            "Serve immediately"
                        ],
                        tips: "Use low-sugar granola for the healthiest option."
                    },
                    dinner: {
                        title: "White Fish with Lemon Herb Butter",
                        description: "Simple but elegant fish preparation",
                        prep: "10 min",
                        cook: "12 min",
                        servings: "2",
                        calories: 290,
                        image: "lemon-fish",
                        ingredients: [
                            "2 white fish fillets",
                            "2 tbsp butter",
                            "1 lemon",
                            "2 tbsp fresh herbs",
                            "1 tsp garlic powder",
                            "2 cups asparagus"
                        ],
                        instructions: [
                            "Season fish with garlic powder",
                            "Pan-sear fish 3-4 minutes per side",
                            "Melt butter with lemon juice and herbs",
                            "Pour over fish and serve with asparagus"
                        ],
                        tips: "Cod, halibut, or sea bass work well for this recipe."
                    }
                },
                6: { // Saturday
                    breakfast: {
                        title: "Loaded Avocado Toast",
                        description: "Elevated avocado toast with extra toppings",
                        prep: "10 min",
                        cook: "5 min",
                        servings: "1",
                        calories: 340,
                        image: "loaded-avocado-toast",
                        ingredients: [
                            "1 slice whole grain bread",
                            "1/2 avocado",
                            "1 egg",
                            "2 tbsp cheese",
                            "1 tomato, sliced",
                            "Hot sauce"
                        ],
                        instructions: [
                            "Toast bread",
                            "Mash avocado and spread on toast",
                            "Top with tomato, cheese, and egg",
                            "Add hot sauce if desired"
                        ],
                        tips: "The egg makes this a complete meal with extra protein."
                    },
                    lunch: {
                        title: "Chicken Caesar Salad",
                        description: "Lighter version of classic Caesar",
                        prep: "15 min",
                        cook: "10 min",
                        servings: "2",
                        calories: 330,
                        image: "caesar-salad",
                        ingredients: [
                            "4 cups romaine lettuce",
                            "4 oz chicken breast, grilled",
                            "1/4 cup parmesan",
                            "2 tbsp light dressing",
                            "1 cup croutons",
                            "1 lemon"
                        ],
                        instructions: [
                            "Chop romaine lettuce",
                            "Add grilled chicken and parmesan",
                            "Toss with light dressing",
                            "Top with croutons and lemon"
                        ],
                        tips: "Use a light dressing to keep this salad DASH-friendly."
                    },
                    snack: {
                        title: "Frozen Grapes",
                        description: "Simple, refreshing frozen treat",
                        prep: "2 min",
                        cook: "0 min",
                        servings: "1",
                        calories: 60,
                        image: "frozen-grapes",
                        ingredients: [
                            "1 cup grapes"
                        ],
                        instructions: [
                            "Wash and dry grapes",
                            "Freeze for 2 hours",
                            "Enjoy as frozen treats"
                        ],
                        tips: "Frozen grapes are like natural candy."
                    },
                    dinner: {
                        title: "Vegetable Curry with Tofu",
                        description: "Colorful curry with protein-rich tofu",
                        prep: "15 min",
                        cook: "20 min",
                        servings: "4",
                        calories: 310,
                        image: "vegetable-curry",
                        ingredients: [
                            "1 block firm tofu",
                            "2 cups mixed vegetables",
                            "1 can coconut milk",
                            "2 tbsp curry paste",
                            "1 tsp turmeric",
                            "Brown rice for serving"
                        ],
                        instructions: [
                            "Cube and press tofu",
                            "SautÃ© vegetables until tender",
                            "Add tofu, coconut milk, and curry paste",
                            "Simmer for 15 minutes",
                            "Serve over brown rice"
                        ],
                        tips: "Use whatever vegetables you have on hand."
                    }
                },
                7: { // Sunday - Final day of 4-week plan
                    breakfast: {
                        title: "Blueberry Almond Muffins",
                        description: "Homemade muffins with blueberries and almonds",
                        prep: "15 min",
                        cook: "20 min",
                        servings: "12",
                        calories: 180,
                        image: "blueberry-muffins",
                        ingredients: [
                            "2 cups whole wheat flour",
                            "1/2 cup sugar",
                            "1 tsp baking powder",
                            "1 cup almond milk",
                            "1 egg",
                            "1 cup blueberries",
                            "1/4 cup almonds"
                        ],
                        instructions: [
                            "Mix dry ingredients",
                            "Mix wet ingredients",
                            "Combine and fold in blueberries",
                            "Top with almonds",
                            "Bake at 375Â°F for 20 minutes"
                        ],
                        tips: "These muffins freeze well for quick breakfasts."
                    },
                    lunch: {
                        title: "Supreme Cobb Salad",
                        description: "Complete meal salad with all food groups",
                        prep: "20 min",
                        cook: "10 min",
                        servings: "3",
                        calories: 350,
                        image: "cobb-salad",
                        ingredients: [
                            "6 cups mixed greens",
                            "2 eggs, hard-boiled",
                            "4 oz chicken, grilled",
                            "2 slices bacon, crumbled",
                            "1 avocado, sliced",
                            "1/2 cup blue cheese",
                            "Ranch dressing"
                        ],
                        instructions: [
                            "Arrange greens on platter",
                            "Top with rows of each ingredient",
                            "Serve with dressing on the side",
                            "Toss just before eating"
                        ],
                        tips: "Use turkey bacon for a lighter version."
                    },
                    snack: {
                        title: "Protein Bites",
                        description: "No-bake energy bites with protein powder",
                        prep: "10 min",
                        cook: "0 min",
                        servings: "6",
                        calories: 120,
                        image: "protein-bites",
                        ingredients: [
                            "1 cup oats",
                            "1/2 cup protein powder",
                            "1/2 cup peanut butter",
                            "1/3 cup honey",
                            "1/4 cup dark chocolate chips"
                        ],
                        instructions: [
                            "Mix all ingredients together",
                            "Roll into small balls",
                            "Refrigerate for 30 minutes",
                            "Store in refrigerator"
                        ],
                        tips: "These are perfect for pre- or post-workout energy."
                    },
                    dinner: {
                        title: "Celebration Salmon with Roasted Vegetables",
                        description: "Special dinner to complete the 4-week journey",
                        prep: "15 min",
                        cook: "25 min",
                        servings: "2",
                        calories: 380,
                        image: "celebration-salmon",
                        ingredients: [
                            "2 salmon fillets",
                            "1 lb mixed vegetables",
                            "2 tbsp olive oil",
                            "1 lemon",
                            "Fresh herbs",
                            "1/4 cup wine",
                            "Quinoa for serving"
                        ],
                        instructions: [
                            "Season salmon and vegetables",
                            "Roast vegetables at 425Â°F for 20 minutes",
                            "Pan-sear salmon for 4 minutes per side",
                            "Deglaze pan with wine and lemon",
                            "Serve over quinoa"
                        ],
                        tips: "This meal celebrates your 4-week DASH journey achievement!"
                    }
                }
            }
        };

        // Initialize Meals Section
        let currentWeek = 1;
        let currentDay = 1;

        function initializeMealsSection() {
            // Set up week tabs
            document.querySelectorAll('.week-tab').forEach(tab => {
                tab.addEventListener('click', function() {
                    document.querySelectorAll('.week-tab').forEach(t => t.classList.remove('active'));
                    this.classList.add('active');
                    currentWeek = parseInt(this.dataset.week);
                    loadDayMeals();
                });
            });

            // Set up day tabs
            document.querySelectorAll('.day-tab').forEach(tab => {
                tab.addEventListener('click', function() {
                    document.querySelectorAll('.day-tab').forEach(t => t.classList.remove('active'));
                    this.classList.add('active');
                    currentDay = parseInt(this.dataset.day);
                    loadDayMeals();
                });
            });

            // Load initial meals
            loadDayMeals();
        }

        function loadDayMeals() {
            const mealsContent = document.getElementById('mealsContent');
            const dayMeals = dashRecipes[`week${currentWeek}`] && 
                           dashRecipes[`week${currentWeek}`][currentDay];

            if (!dayMeals) {
                mealsContent.innerHTML = `
                    <div class="meals-loading">
                        <i class="fas fa-utensils"></i>
                        <p>Meals for Week ${currentWeek}, Day ${currentDay} coming soon!</p>
                    </div>
                `;
                return;
            }

            let mealsHTML = '<div class="meals-grid">';
            
            ['breakfast', 'lunch', 'snack', 'dinner'].forEach(mealType => {
                const meal = dayMeals[mealType];
                if (meal) {
                    const mealTypeLabel = mealType.charAt(0).toUpperCase() + mealType.slice(1);
                    mealsHTML += `
                        <div class="meal-card" onclick="openRecipeModal('${currentWeek}', '${currentDay}', '${mealType}')">
                            <div class="meal-card-header">
                                <span class="meal-type">
                                    <i class="fas fa-utensils"></i> ${mealTypeLabel}
                                </span>
                                <div class="meal-title">${meal.title}</div>
                                <div class="meal-description">${meal.description}</div>
                            </div>
                            <div class="meal-card-footer">
                                <div class="meal-meta">
                                    <span class="meal-time">
                                        <i class="fas fa-clock"></i> ${meal.prep}
                                    </span>
                                    <span class="meal-calories">
                                        <i class="fas fa-fire"></i> ${meal.calories} cal
                                    </span>
                                </div>
                            </div>
                        </div>
                    `;
                }
            });

            mealsHTML += '</div>';
            mealsContent.innerHTML = mealsHTML;
        }

        let currentRecipe = null;

        function openRecipeModal(week, day, mealType) {
            const recipe = dashRecipes[`week${week}`][day][mealType];
            if (!recipe) return;

            currentRecipe = recipe;
            currentRecipe.week = week;
            currentRecipe.day = day;
            currentRecipe.mealType = mealType;

            // Update modal content
            document.getElementById('recipeTitle').textContent = recipe.title;
            document.getElementById('recipePrep').textContent = `Prep: ${recipe.prep}`;
            document.getElementById('recipeCook').textContent = `Cook: ${recipe.cook}`;
            document.getElementById('recipeServings').textContent = `Servings: ${recipe.servings}`;

            // Update ingredients
            updateIngredients();

            // Update instructions
            const instructionsList = document.getElementById('recipeInstructions');
            instructionsList.innerHTML = recipe.instructions
                .map(instruction => `<li>${instruction}</li>`)
                .join('');

            // Update tips
            document.getElementById('recipeTips').textContent = recipe.tips;

            // Show modal
            document.getElementById('recipeModal').classList.add('active');
        }

        function closeRecipeModal() {
            document.getElementById('recipeModal').classList.remove('active');
            currentRecipe = null;
        }

        function updateIngredients() {
            if (!currentRecipe) return;

            const servingSize = parseInt(document.getElementById('servingSize').value);
            const baseServings = parseInt(currentRecipe.servings);
            const multiplier = servingSize / baseServings;

            const ingredientsList = document.getElementById('recipeIngredients');
            ingredientsList.innerHTML = currentRecipe.ingredients
                .map(ingredient => {
                    const scaledIngredient = scaleIngredient(ingredient, multiplier);
                    return `<li>${scaledIngredient}</li>`;
                })
                .join('');
        }

        function scaleIngredient(ingredient, multiplier) {
            // Simple scaling - would need more sophisticated parsing for complex recipes
            const match = ingredient.match(/^(\d+\/\d+|\d+\.?\d*)\s*(\w+)/);
            if (match) {
                const amount = parseFloat(match[1].includes('/') ? 
                    eval(match[1]) : match[1]);
                const unit = match[2];
                const scaledAmount = (amount * multiplier).toFixed(1);
                return ingredient.replace(match[0], `${scaledAmount} ${unit}`);
            }
            return ingredient;
        }

        function logThisMeal() {
            if (!currentRecipe) return;

            // Save to logged meals
            const loggedMeals = JSON.parse(localStorage.getItem('dashLoggedMeals') || '[]');
            loggedMeals.push({
                date: new Date().toISOString(),
                week: currentRecipe.week,
                day: currentRecipe.day,
                mealType: currentRecipe.mealType,
                title: currentRecipe.title,
                calories: currentRecipe.calories
            });
            localStorage.setItem('dashLoggedMeals', JSON.stringify(loggedMeals));

            showNotification('Meal logged successfully!');
            closeRecipeModal();
        }

        // Initialize meals section when it becomes active
        document.addEventListener('DOMContentLoaded', function() {
            // Initialize meals after a delay to ensure DOM is ready
            setTimeout(() => {
                if (document.getElementById('mealsContent')) {
                    initializeMealsSection();
                }
                // Initialize education section
                loadSavedEducationTab();
                loadEducationProgress();
            }, 1000);
        });

        // Education Section JavaScript Functions
        function showEducationTab(tabName) {
            // Hide all tab contents
            const tabContents = document.querySelectorAll(".tab-content");
            tabContents.forEach(content => {
                content.classList.remove("active");
            });
            
            // Remove active class from all tab buttons
            const tabButtons = document.querySelectorAll(".tab-btn");
            tabButtons.forEach(btn => {
                btn.classList.remove("active");
            });
            
            // Show selected tab content
            const selectedContent = document.getElementById(tabName + "-content");
            if (selectedContent) {
                selectedContent.classList.add("active");
            }
            
            // Add active class to clicked button
            event.target.classList.add("active");
            
            // Save tab preference
            localStorage.setItem("selectedEducationTab", tabName);
        }

        function saveEducationProgress() {
            const checkboxes = document.querySelectorAll("#tips-content input[type='checkbox']");
            const progress = [];
            
            checkboxes.forEach((checkbox, index) => {
                progress.push({
                    index: index,
                    checked: checkbox.checked
                });
            });
            
            localStorage.setItem("educationChecklistProgress", JSON.stringify(progress));
        }

        function loadEducationProgress() {
            const savedProgress = localStorage.getItem("educationChecklistProgress");
            if (savedProgress) {
                const progress = JSON.parse(savedProgress);
                const checkboxes = document.querySelectorAll("#tips-content input[type='checkbox']");
                
                progress.forEach(item => {
                    if (checkboxes[item.index]) {
                        checkboxes[item.index].checked = item.checked;
                    }
                });
            }
        }

        function loadSavedEducationTab() {
            const savedTab = localStorage.getItem("selectedEducationTab");
            if (savedTab) {
                setTimeout(() => {
                    showEducationTab(savedTab);
                }, 100);
            }
        }
// Progress Section Functions
        function showProgressTab(tabName) {
            // Hide all tabs
            const tabs = document.querySelectorAll('.tab-pane');
            tabs.forEach(tab => tab.classList.remove('active'));
            
            // Remove active class from all buttons
            const buttons = document.querySelectorAll('.progress-tabs .tab-btn');
            buttons.forEach(btn => btn.classList.remove('active'));
            
            // Show selected tab
            document.getElementById(tabName + 'Tab').classList.add('active');
            
            // Add active class to clicked button
            event.target.classList.add('active');
            
            // Save selected tab
            localStorage.setItem('selectedProgressTab', tabName);
            
            // Initialize specific tab content
            if (tabName === 'health') {
                drawBPChart();
            } else if (tabName === 'achievements') {
                updateAchievements();
            } else if (tabName === 'statistics') {
                updateStatistics();
            }
        }

        function initializeProgressStats() {
            // Calculate days on DASH
            const startDate = localStorage.getItem('dashStartDate');
            if (startDate) {
                const daysOnDASH = Math.floor((Date.now() - new Date(startDate)) / (1000 * 60 * 60 * 24));
                document.getElementById('daysOnDASH').textContent = daysOnDASH;
            }

            // Calculate current streak
            const activities = JSON.parse(localStorage.getItem('userActivities') || '[]');
            const today = new Date().toDateString();
            const todayActivity = activities.find(a => a.date === today);
            const streak = todayActivity ? todayActivity.streak || 0 : 0;
            document.getElementById('currentStreak').textContent = streak;

            // Calculate total activities
            const totalActivities = activities.reduce((total, activity) => {
                return total + (activity.meals?.length || 0) + 
                              (activity.bpReadings?.length || 0) + 
                              (activity.workouts?.length || 0) + 
                              (activity.medications?.length || 0);
            }, 0);
            document.getElementById('totalActivities').textContent = totalActivities;
        }

        function drawBPChart() {
            const canvas = document.getElementById('bpChart');
            if (!canvas) return;
            
            const ctx = canvas.getContext('2d');
            const bpReadings = JSON.parse(localStorage.getItem('bpReadings') || '[]');
            
            if (bpReadings.length === 0) {
                ctx.fillStyle = '#6b7280';
                ctx.font = '16px Arial';
                ctx.textAlign = 'center';
                ctx.fillText('No blood pressure readings yet', canvas.width / 2, canvas.height / 2);
                return;
            }

            // Clear canvas
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            // Get last 7 readings
            const recentReadings = bpReadings.slice(-7);
            
            // Set up chart dimensions
            const padding = 40;
            const chartWidth = canvas.width - padding * 2;
            const chartHeight = canvas.height - padding * 2;
            
            // Find max values for scaling
            const maxSystolic = Math.max(...recentReadings.map(r => r.systolic));
            const maxDiastolic = Math.max(...recentReadings.map(r => r.diastolic));
            const maxValue = Math.ceil(Math.max(maxSystolic, maxDiastolic) / 10) * 10;
            
            // Draw axes
            ctx.strokeStyle = '#e5e7eb';
            ctx.lineWidth = 1;
            ctx.beginPath();
            ctx.moveTo(padding, padding);
            ctx.lineTo(padding, canvas.height - padding);
            ctx.lineTo(canvas.width - padding, canvas.height - padding);
            ctx.stroke();
            
            // Draw grid lines
            ctx.strokeStyle = '#f3f4f6';
            ctx.setLineDash([5, 5]);
            for (let i = 0; i <= 5; i++) {
                const y = padding + (chartHeight / 5) * i;
                ctx.beginPath();
                ctx.moveTo(padding, y);
                ctx.lineTo(canvas.width - padding, y);
                ctx.stroke();
            }
            ctx.setLineDash([]);
            
            // Plot systolic line
            ctx.strokeStyle = '#ef4444';
            ctx.lineWidth = 3;
            ctx.beginPath();
            recentReadings.forEach((reading, index) => {
                const x = padding + (chartWidth / (recentReadings.length - 1)) * index;
                const y = canvas.height - padding - (reading.systolic / maxValue) * chartHeight;
                
                if (index === 0) {
                    ctx.moveTo(x, y);
                } else {
                    ctx.lineTo(x, y);
                }
            });
            ctx.stroke();
            
            // Plot diastolic line
            ctx.strokeStyle = '#3b82f6';
            ctx.beginPath();
            recentReadings.forEach((reading, index) => {
                const x = padding + (chartWidth / (recentReadings.length - 1)) * index;
                const y = canvas.height - padding - (reading.diastolic / maxValue) * chartHeight;
                
                if (index === 0) {
                    ctx.moveTo(x, y);
                } else {
                    ctx.lineTo(x, y);
                }
            });
            ctx.stroke();
            
            // Draw data points
            recentReadings.forEach((reading, index) => {
                const x = padding + (chartWidth / (recentReadings.length - 1)) * index;
                const systolicY = canvas.height - padding - (reading.systolic / maxValue) * chartHeight;
                const diastolicY = canvas.height - padding - (reading.diastolic / maxValue) * chartHeight;
                
                // Systolic point
                ctx.fillStyle = '#ef4444';
                ctx.beginPath();
                ctx.arc(x, systolicY, 4, 0, Math.PI * 2);
                ctx.fill();
                
                // Diastolic point
                ctx.fillStyle = '#3b82f6';
                ctx.beginPath();
                ctx.arc(x, diastolicY, 4, 0, Math.PI * 2);
                ctx.fill();
            });
            
            // Draw legend
            ctx.fillStyle = '#ef4444';
            ctx.fillRect(canvas.width - 100, 10, 15, 3);
            ctx.fillStyle = '#374151';
            ctx.font = '12px Arial';
            ctx.fillText('Systolic', canvas.width - 80, 14);
            
            ctx.fillStyle = '#3b82f6';
            ctx.fillRect(canvas.width - 100, 25, 15, 3);
            ctx.fillStyle = '#374151';
            ctx.fillText('Diastolic', canvas.width - 80, 29);
            
            // Update health summary
            updateHealthSummary();
        }

        function updateHealthSummary() {
            const bpReadings = JSON.parse(localStorage.getItem('bpReadings') || '[]');
            
            if (bpReadings.length > 0) {
                const latest = bpReadings[bpReadings.length - 1];
                document.getElementById('latestBP').textContent = `${latest.systolic}/${latest.diastolic}`;
                
                // Calculate weekly average
                const oneWeekAgo = Date.now() - (7 * 24 * 60 * 60 * 1000);
                const weeklyReadings = bpReadings.filter(r => new Date(r.date).getTime() > oneWeekAgo);
                
                if (weeklyReadings.length > 0) {
                    const avgSystolic = Math.round(weeklyReadings.reduce((sum, r) => sum + r.systolic, 0) / weeklyReadings.length);
                    const avgDiastolic = Math.round(weeklyReadings.reduce((sum, r) => sum + r.diastolic, 0) / weeklyReadings.length);
                    document.getElementById('weeklyAvg').textContent = `${avgSystolic}/${avgDiastolic}`;
                }
                
                document.getElementById('totalReadings').textContent = bpReadings.length;
            }
        }

        function updateAchievements() {
            // Calculate progress for each achievement
            const activities = JSON.parse(localStorage.getItem('userActivities') || '[]');
            const daysOnDASH = Math.floor((Date.now() - new Date(localStorage.getItem('dashStartDate') || Date.now())) / (1000 * 60 * 60 * 24));
            const bpReadings = JSON.parse(localStorage.getItem('bpReadings') || '[]');
            const mealLogs = JSON.parse(localStorage.getItem('loggedMeals') || '[]');
            const workoutLogs = JSON.parse(localStorage.getItem('workoutLogs') || '[]');
            
            // First Week Complete
            const firstWeekProgress = Math.min(100, Math.round((daysOnDASH / 7) * 100));
            updateAchievementProgress('firstWeekProgress', firstWeekProgress);
            
            // BP Champion
            const bpChampionProgress = Math.min(100, Math.round((bpReadings.length / 7) * 100));
            updateAchievementProgress('bpChampionProgress', bpChampionProgress);
            
            // Meal Master
            const mealMasterProgress = Math.min(100, Math.round((mealLogs.length / 50) * 100));
            updateAchievementProgress('mealMasterProgress', mealMasterProgress);
            
            // Fitness Pro
            const fitnessProProgress = Math.min(100, Math.round((workoutLogs.length / 20) * 100));
            updateAchievementProgress('fitnessProProgress', fitnessProProgress);
        }

        function updateAchievementProgress(type, current) {
            const progressBar = document.getElementById(type);
            if (progressBar) {
                progressBar.style.width = current + '%';
            }
        }

        function updateStatistics() {
            // Calculate and display all statistics
            const activities = JSON.parse(localStorage.getItem('userActivities') || '[]');
            const bpReadings = JSON.parse(localStorage.getItem('bpReadings') || '[]');
            const mealLogs = JSON.parse(localStorage.getItem('loggedMeals') || '[]');
            const workoutLogs = JSON.parse(localStorage.getItem('workoutLogs') || '[]');
            const medicationLogs = JSON.parse(localStorage.getItem('medicationLogs') || '[]');
            
            // Total Days
            const totalDays = activities.length;
            document.getElementById('totalDays').textContent = totalDays;
            
            // BP Readings
            document.getElementById('bpReadings').textContent = bpReadings.length;
            
            // Meals Logged
            document.getElementById('mealsLogged').textContent = mealLogs.length;
            
            // Workouts Completed
            document.getElementById('workoutsCompleted').textContent = workoutLogs.length;
            
            // Medications Taken
            document.getElementById('medicationsTaken').textContent = medicationLogs.length;
            
            // Achievements Unlocked (calculated based on progress)
            const daysOnDASH = Math.floor((Date.now() - new Date(localStorage.getItem('dashStartDate') || Date.now())) / (1000 * 60 * 60 * 24));
            let achievementsUnlocked = 0;
            if (daysOnDASH >= 7) achievementsUnlocked++;
            if (bpReadings.length >= 7) achievementsUnlocked++;
            if (mealLogs.length >= 50) achievementsUnlocked++;
            if (workoutLogs.length >= 20) achievementsUnlocked++;
            
            document.getElementById('achievementsUnlocked').textContent = achievementsUnlocked;
        }

        // Initialize progress section when loaded
        document.addEventListener('DOMContentLoaded', function() {
            // Restore selected tab
            const selectedTab = localStorage.getItem('selectedProgressTab') || 'health';
            
            // Set active tab button
            const tabButtons = document.querySelectorAll('.progress-tabs .tab-btn');
            tabButtons.forEach(btn => {
                btn.classList.remove('active');
                if (btn.textContent.toLowerCase().includes(selectedTab)) {
                    btn.classList.add('active');
                }
            });
            
            // Initialize progress section
            setTimeout(() => {
                initializeProgressStats();
                if (selectedTab === 'health') {
                    drawBPChart();
                } else if (selectedTab === 'achievements') {
                    updateAchievements();
                } else if (selectedTab === 'statistics') {
                    updateStatistics();
                }
            }, 500);
        });
    

        // Education Modal Functions
        function openPillarModal(pillarType) {
            const modalContent = getPillarContent(pillarType);
            if (modalContent) {
                // Create modal overlay
                const modalOverlay = document.createElement('div');
                modalOverlay.className = 'modal-overlay';
                modalOverlay.style.cssText = `
                    position: fixed !important;
                    top: 0 !important;
                    left: 0 !important;
                    width: 100% !important;
                    height: 100% !important;
                    background: rgba(0, 0, 0, 0.85) !important;
                    backdrop-filter: blur(10px) !important;
                    z-index: 10000 !important;
                    display: flex !important;
                    align-items: center !important;
                    justify-content: center !important;
                    width: 100%;
                    height: 100%;
                    background: rgba(0, 0, 0, 0.85);
                    backdrop-filter: blur(10px);
                    z-index: 10000;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    width: 100%;
                    height: 100%;
                    background: rgba(0, 0, 0, 0.85);
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    z-index: 10000;
                    padding: 20px;
                `;

                // Create modal content
                const modalContentDiv = document.createElement('div');
                modalContentDiv.style.cssText = `
                    background: #ffffff !important;
                    color: #1f2937 !important;
                    padding: 30px;
                    border-radius: 20px;
                    max-width: 600px;
                    width: 90%;
                    max-height: 80vh;
                    overflow-y: auto;
                    box-shadow: 0 20px 40px rgba(0,0,0,0.1);
                    position: relative;
                `;

                modalContentDiv.innerHTML = modalContent;
                
                // Force all text to be dark colored
                setTimeout(() => {
                    const allElements = modalContentDiv.querySelectorAll('*');
                    allElements.forEach(el => {
                        if (el.tagName !== 'BUTTON') {
                            el.style.color = '#1f2937';
                        }
                    });
                }, 10);

                // Add close button
                const closeButton = document.createElement('button');
                closeButton.innerHTML = 'âœ•';
                closeButton.style.cssText = `
                    position: absolute;
                    top: 15px;
                    right: 15px;
                    background: rgba(239, 68, 68, 0.8);
                    border: none;
                    color: white;
                    width: 35px;
                    height: 35px;
                    border-radius: 50%;
                    cursor: pointer;
                    font-size: 18px;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    transition: all 0.3s ease;
                `;
                closeButton.onmouseover = () => {
                    closeButton.style.background = 'rgba(239, 68, 68, 1)';
                    closeButton.style.transform = 'scale(1.1)';
                };
                closeButton.onmouseout = () => {
                    closeButton.style.background = 'rgba(239, 68, 68, 0.8)';
                    closeButton.style.transform = 'scale(1)';
                };
                closeButton.onclick = () => {
                    document.body.removeChild(modalOverlay);
                };

                modalContentDiv.appendChild(closeButton);
                modalOverlay.appendChild(modalContentDiv);

                // Close on overlay click
                modalOverlay.onclick = (e) => {
                    if (e.target === modalOverlay) {
                        document.body.removeChild(modalOverlay);
                    }
                };

                // Close on ESC key
                const escHandler = (e) => {
                    if (e.key === 'Escape') {
                        document.body.removeChild(modalOverlay);
                        document.removeEventListener('keydown', escHandler);
                    }
                };
                document.addEventListener('keydown', escHandler);

                // Add to body
                document.body.appendChild(modalOverlay);

                // Animate in
                setTimeout(() => {
                    modalOverlay.style.opacity = '1';
                }, 10);
            }
        }

        function getPillarContent(pillarType) {
            const contents = {
                nutrition: `
                    <h2 style="color: #10b981; margin-bottom: 20px;">ðŸŽ Smart Nutrition</h2>
                    <p style="color: #e5e7eb; margin-bottom: 20px;">The DASH diet is more than just eating less saltâ€”it's about embracing a lifestyle that fuels your body with heart-healthy nutrients while maintaining the pleasure of eating.</p>
                    
                    <h3 style="color: #34d399; margin-top: 25px; margin-bottom: 15px;">ðŸ“Š Daily Servings Guide</h3>
                    <ul style="color: #d1d5db; line-height: 1.8;">
                        <li><strong>Grains:</strong> 6-8 servings daily (focus on whole grains)</li>
                        <li><strong>Vegetables:</strong> 4-5 servings daily (varied colors)</li>
                        <li><strong>Fruits:</strong> 4-5 servings daily (fresh or frozen)</li>
                        <li><strong>Dairy:</strong> 2-3 servings daily (low-fat options)</li>
                        <li><strong>Lean Meats:</strong> 6 or fewer servings daily</li>
                        <li><strong>Nuts/Seeds:</strong> 4-5 servings weekly</li>
                        <li><strong>Fats/Oils:</strong> 2-3 servings daily</li>
                    </ul>

                    <h3 style="color: #34d399; margin-top: 25px; margin-bottom: 15px;">ðŸ§‚ Sodium Management</h3>
                    <p style="color: #d1d5db; margin-bottom: 15px;">Limit sodium to 1,500mg daily for optimal blood pressure control.</p>
                    <ul style="color: #d1d5db; line-height: 1.8;">
                        <li>Read nutrition labels carefully</li>
                        <li>Choose fresh or frozen over canned</li>
                        <li>Rinse canned foods to remove excess sodium</li>
                        <li>Use herbs and spices instead of salt</li>
                    </ul>
                `,
                
                exercise: `
                    <h2 style="color: #10b981; margin-bottom: 20px;">ðŸ’ª Tailored Movement</h2>
                    <p style="color: #e5e7eb; margin-bottom: 20px;">Exercise after 50 isn't about pushing limitsâ€”it's about smart, sustainable movement that protects your heart while respecting your body's changing needs.</p>
                    
                    <h3 style="color: #34d399; margin-top: 25px; margin-bottom: 15px;">ðŸƒ Low-Impact Cardio</h3>
                    <ul style="color: #d1d5db; line-height: 1.8;">
                        <li><strong>Walking:</strong> 30 minutes daily, 5 days per week</li>
                        <li><strong>Swimming/Water Aerobics:</strong> Excellent for joint health</li>
                        <li><strong>Cycling:</strong> Stationary or outdoor, low impact</li>
                        <li><strong>Elliptical:</strong> Full body workout without stress</li>
                    </ul>

                    <h3 style="color: #34d399; margin-top: 25px; margin-bottom: 15px;">ðŸ‹ï¸ Strength Training</h3>
                    <p style="color: #d1d5db; margin-bottom: 15px;">2-3 sessions weekly, focusing on:</p>
                    <ul style="color: #d1d5db; line-height: 1.8;">
                        <li>Light weights with higher repetitions</li>
                        <li>Resistance bands for joint-friendly strength</li>
                        <li>Body weight exercises (squats, modified push-ups)</li>
                        <li>Core stability for balance and posture</li>
                    </ul>

                    <h3 style="color: #34d399; margin-top: 25px; margin-bottom: 15px;">ðŸ§˜ Flexibility & Balance</h3>
                    <ul style="color: #d1d5db; line-height: 1.8;">
                        <li><strong>Stretching:</strong> 10 minutes before and after exercise</li>
                        <li><strong>Yoga:</strong> Gentle styles like Hatha or Restorative</li>
                        <li><strong>Tai Chi:</strong> Excellent for balance and stress reduction</li>
                        <li><strong>Pilates:</strong> Core strength and flexibility</li>
                    </ul>
                `,
                
                stress: `
                    <h2 style="color: #10b981; margin-bottom: 20px;">ðŸ§˜ Stress Management</h2>
                    <p style="color: #e5e7eb; margin-bottom: 20px;">Chronic stress directly impacts blood pressure and heart health. Learning to manage stress effectively is as important as diet and exercise for cardiovascular wellness.</p>
                    
                    <h3 style="color: #34d399; margin-top: 25px; margin-bottom: 15px;">ðŸ§  Mindfulness Practices</h3>
                    <ul style="color: #d1d5db; line-height: 1.8;">
                        <li><strong>Meditation:</strong> Start with 5-10 minutes daily</li>
                        <li><strong>Mindful Walking:</strong> Focus on each step and breath</li>
                        <li><strong>Body Scan:</strong> Progressive muscle relaxation</li>
                        <li><strong>Journaling:</strong> Express thoughts and emotions</li>
                    </ul>

                    <h3 style="color: #34d399; margin-top: 25px; margin-bottom: 15px;">ðŸŒ¬ï¸ Breathing Exercises</h3>
                    <p style="color: #d1d5db; margin-bottom: 15px;">Practice these techniques 3-4 times daily:</p>
                    <ul style="color: #d1d5db; line-height: 1.8;">
                        <li><strong>4-7-8 Breathing:</strong> Inhale 4, hold 7, exhale 8</li>
                        <li><strong>Box Breathing:</strong> 4 counts in, hold, out, hold</li>
                        <li><strong>Diaphragmatic Breathing:</strong> Deep belly breathing</li>
                        <li><strong>Alternate Nostril:</strong> Balances nervous system</li>
                    </ul>

                    <h3 style="color: #34d399; margin-top: 25px; margin-bottom: 15px;">â° Time Management</h3>
                    <ul style="color: #d1d5db; line-height: 1.8;">
                        <li>Set realistic daily goals and priorities</li>
                        <li>Learn to say "no" to non-essential commitments</li>
                        <li>Schedule regular breaks and downtime</li>
                        <li>Use technology wisely (limit notifications)</li>
                    </ul>
                `,
                
                sleep: `
                    <h2 style="color: #10b981; margin-bottom: 20px;">ðŸ˜´ Sleep Hygiene</h2>
                    <p style="color: #e5e7eb; margin-bottom: 20px;">Quality sleep is essential for heart health, hormone regulation, and blood pressure control. Poor sleep can increase stress hormones and raise blood pressure.</p>
                    
                    <h3 style="color: #34d399; margin-top: 25px; margin-bottom: 15px;">ðŸ• Sleep Schedule</h3>
                    <ul style="color: #d1d5db; line-height: 1.8;">
                        <li><strong>Consistent Bedtime:</strong> Same time every night</li>
                        <li><strong>Wake Time:</strong> Consistent even on weekends</li>
                        <li><strong>Duration:</strong> 7-9 hours for adults over 50</li>
                        <li><strong>Timing:</strong> Avoid late-night exercise or heavy meals</li>
                    </ul>

                    <h3 style="color: #34d399; margin-top: 25px; margin-bottom: 15px;">ðŸ›ï¸ Environment Optimization</h3>
                    <ul style="color: #d1d5db; line-height: 1.8;">
                        <li><strong>Temperature:</strong> Keep bedroom cool (60-67Â°F)</li>
                        <li><strong>Darkness:</strong> Blackout curtains, eye masks</li>
                        <li><strong>Quiet:</strong> White noise, earplugs if needed</li>
                        <li><strong>Comfort:</strong> Supportive mattress and pillows</li>
                    </ul>

                    <h3 style="color: #34d399; margin-top: 25px; margin-bottom: 15px;">ðŸŒ™ Pre-Sleep Routine</h3>
                    <p style="color: #d1d5db; margin-bottom: 15px;">Start 30-60 minutes before bedtime:</p>
                    <ul style="color: #d1d5db; line-height: 1.8;">
                        <li>Dim lights and avoid screens (blue light)</li>
                        <li>Warm bath or shower (body temperature drop)</li>
                        <li>Light stretching or gentle yoga</li>
                        <li>Reading or calming music</li>
                        <li>Herbal tea (chamomile, valerian)</li>
                    </ul>
                `,
                
                tracking: `
                    <h2 style="color: #10b981; margin-bottom: 20px;">ðŸ“Š Tracking & Motivation</h2>
                    <p style="color: #e5e7eb; margin-bottom: 20px;">Success in the DASH lifestyle comes from consistent tracking and staying motivated through visible progress and celebrated achievements.</p>
                    
                    <h3 style="color: #34d399; margin-top: 25px; margin-bottom: 15px;">ðŸ“ˆ What to Track Daily</h3>
                    <ul style="color: #d1d5db; line-height: 1.8;">
                        <li><strong>Blood Pressure:</strong> Morning and evening readings</li>
                        <li><strong>Food Intake:</strong> Meals, snacks, and sodium levels</li>
                        <li><strong>Physical Activity:</strong> Type, duration, and intensity</li>
                        <li><strong>Sleep Quality:</strong> Hours and restfulness</li>
                        <li><strong>Stress Levels:</strong> Daily stress rating (1-10)</li>
                    </ul>

                    <h3 style="color: #34d399; margin-top: 25px; margin-bottom: 15px;">ðŸŽ¯ Weekly Reviews</h3>
                    <p style="color: #d1d5db; margin-bottom: 15px;">Set aside 30 minutes each week to:</p>
                    <ul style="color: #d1d5db; line-height: 1.8;">
                        <li>Review blood pressure trends</li>
                        <li>Assess nutrition adherence</li>
                        <li>Evaluate exercise consistency</li>
                        <li>Identify challenges and successes</li>
                        <li>Set goals for the upcoming week</li>
                    </ul>

                    <h3 style="color: #34d399; margin-top: 25px; margin-bottom: 15px;">ðŸ† Motivation Strategies</h3>
                    <ul style="color: #d1d5db; line-height: 1.8;">
                        <li><strong>Celebrate Small Wins:</strong> Weekly achievements</li>
                        <li><strong>Find a Partner:</strong> Accountability and support</li>
                        <li><strong>Join Communities:</strong> Online or local groups</li>
                        <li><strong>Reward Yourself:</strong> Non-food rewards for milestones</li>
                        <li><strong>Visual Progress:</strong> Charts and graphs of improvements</li>
                    </ul>
                `
            };
            
            return contents[pillarType] || '';
        }
    
    // Get Started Button Event Listener
    document.addEventListener('DOMContentLoaded', function() {
        const btn = document.getElementById('getStartedBtn');
        if (btn) {
            btn.addEventListener('click', function(e) {
                e.preventDefault();
                startOnboarding();
            });
        }
    });
    
    // Education Pillar Modal Function
    function openPillarModal(pillarType) {
        const modalContent = {
            nutrition: {
                title: 'ðŸŽ Smart Nutrition',
                content: `
                    <h4>DASH Diet Principles</h4>
                    <p>The DASH diet focuses on foods rich in potassium, calcium, and magnesium to help lower blood pressure naturally.</p>
                    
                    <h4>Foods to Include:</h4>
                    <ul>
                        <li>Fruits and vegetables (4-5 servings each daily)</li>
                        <li>Whole grains (6-8 servings daily)</li>
                        <li>Lean proteins (fish, poultry, beans)</li>
                        <li>Low-fat dairy (2-3 servings daily)</li>
                        <li>Nuts and seeds (4-5 servings weekly)</li>
                    </ul>
                    
                    <h4>Foods to Limit:</h4>
                    <ul>
                        <li>Sodium (less than 2,300mg daily)</li>
                        <li>Red meat and processed meats</li>
                        <li>Sugary drinks and sweets</li>
                        <li>Saturated fats</li>
                    </ul>
                `
            },
            movement: {
                title: 'ðŸ’ª Tailored Movement',
                content: `
                    <h4>Exercise Guidelines for Over 50</h4>
                    <p>Regular physical activity is crucial for heart health, but it must be adapted to your body's needs after 50.</p>
                    
                    <h4>Recommended Activities:</h4>
                    <ul>
                        <li>Aerobic exercise: 150 minutes weekly (walking, swimming, cycling)</li>
                        <li>Strength training: 2-3 times per week</li>
                        <li>Flexibility exercises: Daily stretching</li>
                        <li>Balance training: To prevent falls</li>
                    </ul>
                    
                    <h4>Safety Principles:</h4>
                    <ul>
                        <li>Start slowly and progress gradually</li>
                        <li>Listen to your body</li>
                        <li>Warm up before and cool down after</li>
                        <li>Stay hydrated</li>
                        <li>Consult your doctor before starting</li>
                    </ul>
                `
            },
            stress: {
                title: 'ðŸ§˜ Stress Management',
                content: `
                    <h4>Proven Stress Reduction Techniques</h4>
                    <p>Chronic stress raises blood pressure and harms heart health. Managing stress is essential for cardiovascular wellness.</p>
                    
                    <h4>Effective Techniques:</h4>
                    <ul>
                        <li>Deep breathing exercises (5-10 minutes daily)</li>
                        <li>Meditation or mindfulness practice</li>
                        <li>Yoga or tai chi</li>
                        <li>Regular physical activity</li>
                        <li>Social connections and support</li>
                    </ul>
                    
                    <h4>Daily Stress Reducers:</h4>
                    <ul>
                        <li>Take short breaks throughout the day</li>
                        <li>Practice gratitude journaling</li>
                        <li>Limit caffeine and alcohol</li>
                        <li>Spend time in nature</li>
                        <li>Engage in hobbies you enjoy</li>
                    </ul>
                `
            },
            sleep: {
                title: 'ðŸ˜´ Sleep Hygiene',
                content: `
                    <h4>Sleep Recommendations for Heart Health</h4>
                    <p>Quality sleep is essential for blood pressure regulation and overall cardiovascular health.</p>
                    
                    <h4>Sleep Guidelines:</h4>
                    <ul>
                        <li>Aim for 7-9 hours nightly</li>
                        <li>Maintain consistent sleep schedule</li>
                        <li>Create a dark, cool bedroom (60-67Â°F)</li>
                        <li>Avoid screens 1 hour before bed</li>
                        <li>Limit caffeine after 2 PM</li>
                    </ul>
                    
                    <h4>Heart-Sleep Connection:</h4>
                    <ul>
                        <li>Poor sleep raises blood pressure</li>
                        <li>Sleep apnea increases heart disease risk</li>
                        <li>Quality sleep aids weight management</li>
                        <li>Rest reduces stress hormones</li>
                    </ul>
                `
            },
            tracking: {
                title: 'ðŸ“Š Tracking & Motivation',
                content: `
                    <h4>What to Track</h4>
                    <p>Monitoring your progress helps you stay motivated and identify what works best for your body.</p>
                    
                    <h4>Key Metrics:</h4>
                    <ul>
                        <li>Blood pressure (daily readings)</li>
                        <li>Weight (weekly check-ins)</li>
                        <li>Physical activity (minutes per day)</li>
                        <li>Meals and nutrition</li>
                        <li>Sleep quality and duration</li>
                        <li>Stress levels</li>
                    </ul>
                    
                    <h4>Staying Motivated:</h4>
                    <ul>
                        <li>Set realistic, achievable goals</li>
                        <li>Celebrate small victories</li>
                        <li>Find an accountability partner</li>
                        <li>Track your progress visually</li>
                        <li>Reward yourself for milestones</li>
                    </ul>
                `
            }
        };
        
        const pillar = modalContent[pillarType];
        if (!pillar) return;
        
        // Create modal
        const modal = document.createElement('div');
        modal.className = 'pillar-modal';
        modal.innerHTML = `
            <div class="pillar-modal-content">
                <span class="pillar-modal-close" onclick="this.parentElement.parentElement.remove()">&times;</span>
                <h2>${pillar.title}</h2>
                <div class="pillar-modal-body">
                    ${pillar.content}
                </div>
            </div>
        `;
        
        document.body.appendChild(modal);
        
        // Close on outside click
        modal.addEventListener('click', function(e) {
            if (e.target === modal) {
                modal.remove();
            }
        });
    }

        function showPrivacyPolicy() {
            document.getElementById('privacyModal').classList.add('active');
        }
        
        function showTermsOfService() {
            document.getElementById('termsModal').classList.add('active');
        }
        
        function closeLegalModal(modalId) {
            document.getElementById(modalId).classList.remove('active');
        }
        
        // Also handle old function names for compatibility
        function showPrivacy() {
            showPrivacyPolicy();
        }
        
        function showTerms() {
            showTermsOfService();
        }

        
        // Handle device orientation changes
        window.addEventListener('orientationchange', function() {
            // Adjust layout on orientation change
            setTimeout(function() {
                window.scrollTo(0, 0);
                // Recalculate any dynamic heights
                const sections = document.querySelectorAll('.section');
                sections.forEach(section => {
                    if (section.classList.contains('active')) {
                        section.style.minHeight = window.innerHeight + 'px';
                    }
                });
            }, 100);
        });

        </script>

    <!-- Privacy Policy Modal -->
    <div id="privacyModal" class="legal-modal">
        <div class="legal-modal-overlay" onclick="closeLegalModal('privacyModal')"></div>
        <div class="legal-modal-content">
            <div class="modal-header">
                <h2><i class="fas fa-user-shield"></i> Privacy Policy</h2>
                <button class="modal-close" onclick="closeLegalModal('privacyModal')">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body legal-content">
                <p><strong>Last Updated:</strong> January 2025</p>
                
                <h3>1. Introduction</h3>
                <p>Welcome to DASH Over 50+. We are committed to protecting your privacy and ensuring the security of your personal health information.</p>
                
                <h3>2. Information We Collect</h3>
                <h4>Personal Information:</h4>
                <ul>
                    <li>Name and email address</li>
                    <li>Age, weight, height, and gender</li>
                    <li>Activity level and health goals</li>
                </ul>
                
                <h4>Health Data:</h4>
                <ul>
                    <li>Blood pressure readings and history</li>
                    <li>Medication information and schedules</li>
                    <li>Meal logs and dietary preferences</li>
                    <li>Exercise activities and workout history</li>
                    <li>Progress tracking and achievements</li>
                </ul>
                
                <h3>3. How We Store Your Data</h3>
                <p><strong>Local Storage Only:</strong> All your personal and health data is stored exclusively on your device using browser localStorage. We do NOT store any of your data on external servers or cloud services.</p>
                
                <h4>Data Security:</h4>
                <ul>
                    <li>Your data remains on your device at all times</li>
                    <li>No data transmission to external servers</li>
                    <li>You have complete control over your data</li>
                    <li>Data can be exported or deleted at any time</li>
                </ul>
                
                <h3>4. How We Use Your Information</h3>
                <p>We use your information solely to:</p>
                <ul>
                    <li>Provide personalized health tracking and recommendations</li>
                    <li>Display your health statistics and progress</li>
                    <li>Send medication reminders (if enabled)</li>
                    <li>Generate meal plans based on DASH diet principles</li>
                    <li>Track your exercise activities and achievements</li>
                </ul>
                
                <h3>5. Data Sharing</h3>
                <p><strong>We do NOT share your data with anyone.</strong> Since all data is stored locally on your device, there is no data sharing with third parties, advertisers, or other services.</p>
                
                <h3>6. Your Rights</h3>
                <p>You have the right to:</p>
                <ul>
                    <li><strong>Access:</strong> View all your stored data at any time</li>
                    <li><strong>Export:</strong> Download your data in CSV format</li>
                    <li><strong>Delete:</strong> Clear all your data using the "Clear All Data" button in Settings</li>
                    <li><strong>Control:</strong> Manage notification preferences and data collection</li>
                </ul>
                
                <h3>7. Browser Notifications</h3>
                <p>If you enable notifications, we will request permission to send browser notifications for medication reminders, meal notifications, and exercise reminders. You can disable notifications at any time.</p>
                
                <h3>8. Cookies and Tracking</h3>
                <p>We do NOT use cookies or tracking technologies. The app uses only localStorage for data persistence on your device.</p>
                
                <h3>9. Children's Privacy</h3>
                <p>This app is designed for adults aged 50 and over. We do not knowingly collect information from individuals under 18 years of age.</p>
                
                <h3>10. Contact Us</h3>
                <p>If you have questions about this Privacy Policy, please contact us through the app's support section.</p>
                
                <div class="legal-footer">
                    <p><strong>Remember:</strong> Your health data is private and stays on your device. We are committed to protecting your privacy and giving you full control over your information.</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Terms of Service Modal -->
    <div id="termsModal" class="legal-modal">
        <div class="legal-modal-overlay" onclick="closeLegalModal('termsModal')"></div>
        <div class="legal-modal-content">
            <div class="modal-header">
                <h2><i class="fas fa-file-contract"></i> Terms of Service</h2>
                <button class="modal-close" onclick="closeLegalModal('termsModal')">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body legal-content">
                <p><strong>Last Updated:</strong> January 2025</p>
                
                <h3>1. Acceptance of Terms</h3>
                <p>By accessing and using DASH Over 50+ (the "App"), you accept and agree to be bound by these Terms of Service. If you do not agree, please do not use the App.</p>
                
                <h3>2. Description of Service</h3>
                <p>DASH Over 50+ is a health management application designed to help adults over 50 manage their cardiovascular health through:</p>
                <ul>
                    <li>DASH diet meal planning and tracking</li>
                    <li>Blood pressure monitoring and tracking</li>
                    <li>Medication management and reminders</li>
                    <li>Exercise programs and activity tracking</li>
                    <li>Health education and progress monitoring</li>
                </ul>
                
                <h3>3. Medical Disclaimer</h3>
                <p><strong>IMPORTANT:</strong> This app is for informational and educational purposes only.</p>
                <ul>
                    <li><strong>Not Medical Advice:</strong> The App does not provide medical advice, diagnosis, or treatment</li>
                    <li><strong>Consult Healthcare Providers:</strong> Always seek the advice of your physician or qualified health provider</li>
                    <li><strong>Emergency Situations:</strong> Never disregard professional medical advice or delay seeking it</li>
                    <li><strong>Not a Substitute:</strong> This App is not a substitute for professional medical care</li>
                </ul>
                
                <h3>4. User Responsibilities</h3>
                <p>As a user, you agree to:</p>
                <ul>
                    <li>Provide accurate and complete information</li>
                    <li>Maintain the security of your device and data</li>
                    <li>Use the App in accordance with applicable laws</li>
                    <li>Consult with healthcare professionals before making health decisions</li>
                    <li>Not rely solely on the App for medical decisions</li>
                </ul>
                
                <h3>5. Health and Safety</h3>
                <h4>Blood Pressure Monitoring:</h4>
                <p>The App allows you to track blood pressure readings but does not measure blood pressure. You must use a proper medical device for measurements.</p>
                
                <h4>Medication Management:</h4>
                <p>Medication reminders are provided as a convenience. You are solely responsible for taking medications as prescribed by your healthcare provider.</p>
                
                <h4>Exercise Programs:</h4>
                <p>Consult your doctor before starting any exercise program. Stop exercising and seek medical attention if you experience pain, dizziness, or discomfort.</p>
                
                <h4>Dietary Information:</h4>
                <p>Meal plans are based on DASH diet principles but may not be suitable for everyone. Consult a registered dietitian for personalized nutrition advice.</p>
                
                <h3>6. Limitation of Liability</h3>
                <p>To the fullest extent permitted by law:</p>
                <ul>
                    <li>The App is provided "as is" without warranties of any kind</li>
                    <li>We are not liable for any health outcomes or medical decisions</li>
                    <li>We are not responsible for data loss or device issues</li>
                    <li>We do not guarantee the accuracy or completeness of information</li>
                    <li>We are not liable for any damages arising from use of the App</li>
                </ul>
                
                <h3>7. Data and Privacy</h3>
                <p>Your use of the App is also governed by our Privacy Policy. All data is stored locally on your device. You are responsible for backing up your data and securing your device.</p>
                
                <h3>8. Age Requirement</h3>
                <p>This App is intended for adults aged 50 and over. Users under 18 years of age should not use this App.</p>
                
                <h3>9. Modifications to Service</h3>
                <p>We reserve the right to modify or discontinue the App at any time, update features and functionality, and change these Terms of Service.</p>
                
                <h3>10. Contact Information</h3>
                <p>For questions about these Terms of Service, please contact us through the app's support section.</p>
                
                <div class="legal-footer">
                    <p><strong>By using DASH Over 50+, you acknowledge that you have read, understood, and agree to be bound by these Terms of Service.</strong></p>
                </div>
            </div>
        </div>
    </div>

    </body>
</html>
